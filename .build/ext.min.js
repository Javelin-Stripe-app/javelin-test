"use strict";var __StripeExtExports=(()=>{var fc=Object.create;var ft=Object.defineProperty,vc=Object.defineProperties,Pc=Object.getOwnPropertyDescriptor,gc=Object.getOwnPropertyDescriptors,Tc=Object.getOwnPropertyNames,Jo=Object.getOwnPropertySymbols,yc=Object.getPrototypeOf,Xo=Object.prototype.hasOwnProperty,_c=Object.prototype.propertyIsEnumerable;var Yo=(r,e,o)=>e in r?ft(r,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[e]=o,j=(r,e)=>{for(var o in e||(e={}))Xo.call(e,o)&&Yo(r,o,e[o]);if(Jo)for(var o of Jo(e))_c.call(e,o)&&Yo(r,o,e[o]);return r},ye=(r,e)=>vc(r,gc(e));var x=(r=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(r,{get:(e,o)=>(typeof require!="undefined"?require:e)[o]}):r)(function(r){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var R=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),co=(r,e)=>{for(var o in e)ft(r,o,{get:e[o],enumerable:!0})},nr=(r,e,o,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Tc(e))!Xo.call(r,n)&&n!==o&&ft(r,n,{get:()=>e[n],enumerable:!(s=Pc(e,n))||s.enumerable});return r},_e=(r,e,o)=>(nr(r,e,"default"),o&&nr(o,e,"default")),K=(r,e,o)=>(o=r!=null?fc(yc(r)):{},nr(e||!r||!r.__esModule?ft(o,"default",{value:r,enumerable:!0}):o,r)),Sc=r=>nr(ft({},"__esModule",{value:!0}),r);var v=(r,e,o)=>new Promise((s,n)=>{var i=u=>{try{l(o.next(u))}catch(p){n(p)}},a=u=>{try{l(o.throw(u))}catch(p){n(p)}},l=u=>u.done?s(u.value):Promise.resolve(u.value).then(i,a);l((o=o.apply(r,e)).next())});var lo=R(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.SDK_VERSION=void 0;ir.SDK_VERSION="9.1.0"});var te=R(c=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.TableHeaderCell=c.TableHead=c.TableFooter=c.TableCell=c.TableBody=c.Tab=c.TabPanels=c.TabPanel=c.TabList=c.Switch=c.StripeFileUploader=c.Spinner=c.Sparkline=c.SignInView=c.SettingsView=c.Select=c.Radio=c.PropertyList=c.PropertyListItem=c.PlatformConfigurationView=c.OnboardingView=c.Menu=c.MenuItem=c.MenuGroup=c.List=c.ListItem=c.Link=c.LineChart=c.Inline=c.Img=c.Icon=c.FormFieldGroup=c.FocusView=c.Divider=c.DetailPageTable=c.DetailPagePropertyList=c.DetailPageModule=c.DateField=c.ContextView=c.Chip=c.ChipList=c.Checkbox=c.Button=c.ButtonGroup=c.Box=c.BarChart=c.Banner=c.Badge=c.Accordion=c.AccordionItem=void 0;c.Tooltip=c.TextField=c.TextArea=c.TaskList=c.TaskListItem=c.Tabs=c.TableRow=c.Table=void 0;var Ec=x("react/jsx-runtime"),xc=x("@remote-ui/react"),bc=lo(),Oc=r=>{let e=r.displayName||r.toString(),o=s=>(0,Ec.jsx)(r,ye(j({},s),{wrappedComponentName:e,sdkVersion:bc.SDK_VERSION,schemaVersion:"v9"}));return o.wrappedComponentName=e,o},f=(r,e,o)=>{let s=(0,xc.createRemoteReactComponent)(r,{fragmentProps:e});return o?Oc(s):s};c.AccordionItem=f("AccordionItem",["title","actions","media","subtitle"],!0);c.Accordion=f("Accordion",[],!0);c.Badge=f("Badge",[],!0);c.Banner=f("Banner",["actions","description","title"],!0);c.BarChart=f("BarChart",[],!0);c.Box=f("Box",[],!0);c.ButtonGroup=f("ButtonGroup",["menuTrigger"],!0);c.Button=f("Button",[],!0);c.Checkbox=f("Checkbox",["label"],!0);c.ChipList=f("ChipList",[],!0);c.Chip=f("Chip",[],!0);c.ContextView=f("ContextView",["actions","banner","footerContent","primaryAction","secondaryAction"],!0);c.DateField=f("DateField",["label"],!0);c.DetailPageModule=f("DetailPageModule",[],!0);c.DetailPagePropertyList=f("DetailPagePropertyList",[],!0);c.DetailPageTable=f("DetailPageTable",[],!0);c.Divider=f("Divider",[],!0);c.FocusView=f("FocusView",["footerContent","primaryAction","secondaryAction"],!0);c.FormFieldGroup=f("FormFieldGroup",[],!0);c.Icon=f("Icon",[],!0);c.Img=f("Img",[],!0);c.Inline=f("Inline",[],!0);c.LineChart=f("LineChart",[],!0);c.Link=f("Link",[],!0);c.ListItem=f("ListItem",["icon","image","secondaryTitle","title","value"],!0);c.List=f("List",[],!0);c.MenuGroup=f("MenuGroup",["title"],!0);c.MenuItem=f("MenuItem",[],!0);c.Menu=f("Menu",["trigger"],!0);c.OnboardingView=f("OnboardingView",["error"],!0);c.PlatformConfigurationView=f("PlatformConfigurationView",[],!0);c.PropertyListItem=f("PropertyListItem",["label","value"],!0);c.PropertyList=f("PropertyList",[],!0);c.Radio=f("Radio",["label"],!0);c.Select=f("Select",["label"],!0);c.SettingsView=f("SettingsView",[],!0);c.SignInView=f("SignInView",["descriptionActionContents","footerContent"],!0);c.Sparkline=f("Sparkline",[],!0);c.Spinner=f("Spinner",[],!0);c.StripeFileUploader=f("StripeFileUploader",[],!0);c.Switch=f("Switch",["label"],!0);c.TabList=f("TabList",[],!0);c.TabPanel=f("TabPanel",[],!0);c.TabPanels=f("TabPanels",[],!0);c.Tab=f("Tab",[],!0);c.TableBody=f("TableBody",[],!0);c.TableCell=f("TableCell",[],!0);c.TableFooter=f("TableFooter",[],!0);c.TableHead=f("TableHead",[],!0);c.TableHeaderCell=f("TableHeaderCell",[],!0);c.Table=f("Table",[],!0);c.TableRow=f("TableRow",[],!0);c.Tabs=f("Tabs",[],!0);c.TaskListItem=f("TaskListItem",[],!0);c.TaskList=f("TaskList",[],!0);c.TextArea=f("TextArea",["label"],!0);c.TextField=f("TextField",["label"],!0);c.Tooltip=f("Tooltip",["trigger"],!0)});var uo=R((od,Qo)=>{"use strict";var Ac=function(r,e,o,s,n,i,a,l){if(!r){var u;if(e===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[o,s,n,i,a,l],h=0;u=new Error(e.replace(/%s/g,function(){return p[h++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};Qo.exports=Ac});var Y=R(Ve=>{"use strict";var wc=Ve&&Ve.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.getHostEndpoint=void 0;var Cc=wc(uo()),Ic=()=>{var e;let r=(e=globalThis.__StripeExtExports)==null?void 0:e.endpoint;return(0,Cc.default)(r,"hostEndpoint has not been initialized"),r};Ve.getHostEndpoint=Ic});var po=R(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.supportsFetchAppEmbeddedKey=void 0;var Mc=Y(),kc=()=>v(vt,null,function*(){return(0,Mc.getHostEndpoint)().call.supportsFetchAppEmbeddedKey().then(r=>r).catch(()=>!1)});vt.supportsFetchAppEmbeddedKey=kc});var es=R(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.fetchAppEmbeddedKey=void 0;var Gc=Y(),Dc=()=>v(Pt,null,function*(){let r=yield(0,Gc.getHostEndpoint)().call.fetchAppEmbeddedKey();if(!r)throw new Error("Unable to fetch app embedded key");return r});Pt.fetchAppEmbeddedKey=Dc});var ts=R(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.fetchViaFrame=void 0;var qc=es(),Lc=(o,...s)=>v(gt,[o,...s],function*(r,e={}){let n=yield(0,qc.fetchAppEmbeddedKey)(),i=ye(j({},e),{headers:ye(j({},e.headers),{Authorization:`Bearer ${n}`})}),a=yield fetch(r,i),l={};a.headers.forEach((p,h)=>{l[h]=p});let u={json:void 0,arrayBuffer:void 0,headers:l,ok:a.ok,redirected:a.redirected,status:a.status,statusText:a.statusText,type:a.type,url:a.url};switch(a.headers.get("Content-Type")){case"application/json":u.json=yield a.json();break;default:u.arrayBuffer=yield a.arrayBuffer();break}return u});gt.fetchViaFrame=Lc});var rs=R(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.fetchViaHost=void 0;var Bc=Y(),Fc=(o,...s)=>v(Tt,[o,...s],function*(r,e={}){let n=new URL(r);return(0,Bc.getHostEndpoint)().call.stripeApiFetch(n.pathname+n.search,e)});Tt.fetchViaHost=Fc});var os=R(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.selectPreferredStripeApiFetch=void 0;var Hc=po(),Nc=ts(),Uc=rs(),ho=null,jc=()=>v(yt,null,function*(){return ho||(ho=(yield(0,Hc.supportsFetchAppEmbeddedKey)())?Nc.fetchViaFrame:Uc.fetchViaHost),ho});yt.selectPreferredStripeApiFetch=jc});var ss=R(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.selectPreferredStripeApiFetch=void 0;var Vc=os();Object.defineProperty(ar,"selectPreferredStripeApiFetch",{enumerable:!0,get:function(){return Vc.selectPreferredStripeApiFetch}})});var mo=R(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.stripeApiFetch=void 0;var zc=ss(),$c=(r,e)=>v(_t,null,function*(){return(yield(0,zc.selectPreferredStripeApiFetch)())(r,e)});_t.stripeApiFetch=$c});var St=R(W=>{"use strict";var Kc=W&&W.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(W,"__esModule",{value:!0});W.AUTHORIZATION_VALUE=W.AUTHORIZATION_HEADER=W.createHttpClient=W.STRIPE_API_KEY=W.StripeAppsHttpClient=void 0;var Wc=Kc(uo()),Jc=mo(),Yc=/[ps]k_(test|live)_[A-Za-z0-9]+/,fo=class{constructor(e){this._resp=e}getHeaders(){return this._resp.headers}getStatusCode(){return this._resp.status}getRawResponse(){return this._resp}toStream(){throw new Error("Streams have not been implemented in the Stripe HTTP client")}toJSON(){let{json:e}=this._resp;return e===void 0?Promise.reject(new Error("Response body undefined")):Promise.resolve(e)}},cr=class{constructor(e){this._fetch=e}getClientName(){return"stripe-ui-extension"}makeRequest(e,o,s,n,i,a,l,u){return v(this,null,function*(){(0,Wc.default)(l==="https","Must use https connections in UI extensions");let p={method:n,headers:i};a&&(p.body=a);let h=i.Authorization;if(h&&Yc.test(h))throw new Error("Do not use actual stripe keys when using the Stripe JS API client with UI extesions.\n\n Instead, use `STRIPE_API_KEY` from `@stripe/ui-extension-sdk/http_client` as a placeholder.");let T=new URL(s,`${l}://${e}`),d=yield this._fetch(T.toString(),p);return new fo(d)})}};W.StripeAppsHttpClient=cr;W.STRIPE_API_KEY="DO_NOT_PASS_A_REAL_API_KEY";var Xc=()=>new cr(Jc.stripeApiFetch);W.createHttpClient=Xc;W.AUTHORIZATION_HEADER="Authorization";W.AUTHORIZATION_VALUE=`Bearer ${W.STRIPE_API_KEY}`});var ns=R(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.createFetchStripeSignatureDirectly=void 0;var Zc=St(),Qc=({host:r,port:e})=>o=>v(Et,null,function*(){let s=new URL(`https://${r}:${e}/v1/apps/app_embedded_backend_signature`);return s.searchParams.set("payload",JSON.stringify(j({},o))),s.searchParams.set("include_only[]","signature"),(0,Zc.createHttpClient)().makeRequest(r,e,s.pathname+s.search,"GET",{},null,"https").then(a=>a.toJSON()).then(a=>a.signature)});Et.createFetchStripeSignatureDirectly=Qc});var vo=R(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.setConnectionSettings=Me.connectionSettings=void 0;var is={host:"api.stripe.com",port:443};Me.connectionSettings=is;var el=r=>{Me.connectionSettings=j(j({},is),r)};Me.setConnectionSettings=el});var Po=R(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.fetchStripeSignature=void 0;var tl=ns(),rl=po(),ol=vo(),sl=Y(),nl=r=>v(xt,null,function*(){return(yield(0,rl.supportsFetchAppEmbeddedKey)())?(0,tl.createFetchStripeSignatureDirectly)(ol.connectionSettings)(r):(0,sl.getHostEndpoint)().call.fetchStripeSignature(r)});xt.fetchStripeSignature=nl});var as=R(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});var il=Po();go.default=il.fetchStripeSignature});var Ps=R(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.createHttpClient=ne.STRIPE_API_KEY=ne.AUTHORIZATION_VALUE=ne.AUTHORIZATION_HEADER=void 0;var bt=St();Object.defineProperty(ne,"AUTHORIZATION_HEADER",{enumerable:!0,get:function(){return bt.AUTHORIZATION_HEADER}});Object.defineProperty(ne,"AUTHORIZATION_VALUE",{enumerable:!0,get:function(){return bt.AUTHORIZATION_VALUE}});Object.defineProperty(ne,"STRIPE_API_KEY",{enumerable:!0,get:function(){return bt.STRIPE_API_KEY}});Object.defineProperty(ne,"createHttpClient",{enumerable:!0,get:function(){return bt.createHttpClient}});ne.default=bt.StripeAppsHttpClient});var Ja=R(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.clipboardWriteText=void 0;var xu=Y(),bu=(r="")=>(0,xu.getHostEndpoint)().call.clipboardWriteText(r);eo.clipboardWriteText=bu});var Ya=R(pe=>{"use strict";var Ou=pe&&pe.__createBinding||(Object.create?function(r,e,o,s){s===void 0&&(s=o);var n=Object.getOwnPropertyDescriptor(e,o);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[o]}}),Object.defineProperty(r,s,n)}:function(r,e,o,s){s===void 0&&(s=o),r[s]=e[o]}),Ru=pe&&pe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Au=pe&&pe.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var o in r)o!=="default"&&Object.prototype.hasOwnProperty.call(r,o)&&Ou(e,r,o);return Ru(e,r),e};Object.defineProperty(pe,"__esModule",{value:!0});pe.useRefreshDashboardData=void 0;var wu=Au(x("react")),Cu=Y(),Iu=()=>wu.useCallback(()=>(0,Cu.getHostEndpoint)().call.refreshDashboardData(),[]);pe.useRefreshDashboardData=Iu});var Za=R(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.getDashboardUserEmail=void 0;var Mu=Y(),Xa=St(),ku=()=>v(er,null,function*(){try{let r=yield(0,Mu.getHostEndpoint)().call.stripeApiFetch("/v1/user/email",{headers:{[Xa.AUTHORIZATION_HEADER]:Xa.AUTHORIZATION_VALUE}});return r.ok?(r.email=r.json.email,r):Promise.reject(r)}catch(r){throw console.error("Error getting dashboard user email",r),r}});er.getDashboardUserEmail=ku});var Qa=R(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.getUserAuthorizedPermissions=void 0;var Gu=Y(),Du=()=>(0,Gu.getHostEndpoint)().call.getUserAuthorizedPermissions();to.getUserAuthorizedPermissions=Du});var ec=R(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.isPermissionAuthorized=void 0;var qu=Y(),Lu=r=>(0,qu.getHostEndpoint)().call.isPermissionAuthorized(r);ro.isPermissionAuthorized=Lu});var tc=R(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.isSourceInAuthorizedCSP=void 0;var Bu=Y(),Fu=r=>(0,Bu.getHostEndpoint)().call.isSourceInAuthorizedCSP(r);oo.isSourceInAuthorizedCSP=Fu});var rc=R(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.createOAuthState=void 0;var Hu=Y(),Nu=(r="")=>(0,Hu.getHostEndpoint)().call.createOAuthState(r);so.createOAuthState=Nu});var sc=R(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0})});var nc=R(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.showToast=void 0;var Uu=Y(),ju=(o,...s)=>v(tr,[o,...s],function*(r,e={}){return(0,Uu.getHostEndpoint)().call.showToast(r,e)});tr.showToast=ju});var ic=R(L=>{"use strict";var Vu=L&&L.__createBinding||(Object.create?function(r,e,o,s){s===void 0&&(s=o);var n=Object.getOwnPropertyDescriptor(e,o);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[o]}}),Object.defineProperty(r,s,n)}:function(r,e,o,s){s===void 0&&(s=o),r[s]=e[o]}),Z=L&&L.__exportStar||function(r,e){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(e,o)&&Vu(e,r,o)};Object.defineProperty(L,"__esModule",{value:!0});Z(Y(),L);Z(mo(),L);Z(Ja(),L);Z(Ya(),L);Z(Za(),L);Z(Qa(),L);Z(St(),L);Z(ec(),L);Z(tc(),L);Z(rc(),L);Z(sc(),L);Z(Po(),L);Z(nc(),L);Z(vo(),L)});var ge={};co(ge,{BUILD_TIME:()=>Yu,ChatView:()=>lc,OnboardingView:()=>dc,SettingsView:()=>uc,default:()=>Xu});var w=K(te()),B=x("react");var yo=K(te());var Se=K(te()),Ie=x("react/jsx-runtime"),Rc=({role:r,content:e,freshness:o})=>{let s=r==="user";return(0,Ie.jsxs)(Se.Box,{css:{padding:"medium",backgroundColor:s?"container":void 0,stack:"y",gap:"small"},children:[(0,Ie.jsx)(Se.Inline,{css:{fontWeight:"semibold",color:"secondary"},children:s?"You":"Javelin"}),(0,Ie.jsx)(Se.Inline,{children:e}),o&&!s&&(0,Ie.jsx)(Se.Box,{css:{marginTop:"xsmall"},children:(0,Ie.jsx)(Se.Badge,{type:o.type==="live"?"positive":"info",children:o.type==="live"?"Live data":`Data as of ${o.syncedAt?new Date(o.syncedAt).toLocaleString():"cache"}`})})]})},Zo=Rc;var se=K(te()),To=x("react");var ls=K(as());var cs,al=typeof process!="undefined"&&((cs=process.env)==null?void 0:cs.SUPABASE_FUNCTIONS_URL)?process.env.SUPABASE_FUNCTIONS_URL:"https://tecvycpmzcxxoqmtttjy.supabase.co/functions/v1",lr=null;function ur(r,e){lr={userId:r,accountId:e}}function re(o){return v(this,arguments,function*(r,e={}){if(!lr)throw new Error("apiClient not initialized \u2014 call initApiClient first");let s="";try{s=yield(0,ls.default)()}catch(l){console.warn("fetchStripeSignature failed \u2014 sending unsigned request")}let n=e.method||"POST",i=j({user_id:lr.userId,account_id:lr.accountId},e.body&&typeof e.body=="object"?e.body:{}),a=yield fetch(`${al}${r}`,{method:n,headers:j({"Content-Type":"application/json"},s?{"stripe-signature":s}:{}),body:JSON.stringify(i)});if(!a.ok)throw yield a.json();return a.json()})}var me=x("react/jsx-runtime"),cl=({insightId:r,messageId:e,content:o})=>{let[s,n]=(0,To.useState)(null),[i,a]=(0,To.useState)(!1),l=u=>v(void 0,null,function*(){if(!(i||s)){a(!0);try{yield re("/insights-feedback",{method:"POST",body:{insightId:r,messageId:e,rating:u}}),n(u)}catch(p){}finally{a(!1)}}});return(0,me.jsxs)(se.Box,{css:{padding:"small",stack:"y",gap:"small"},children:[(0,me.jsx)(se.Banner,{type:"default",title:"Insight",description:o}),(0,me.jsxs)(se.Box,{css:{stack:"x",gap:"small"},children:[(0,me.jsx)(se.Button,{type:s==="positive"?"primary":"secondary",size:"small",disabled:i||s!==null,onPress:()=>l("positive"),children:(0,me.jsx)(se.Inline,{children:s==="positive"?"Helpful":"Helpful?"})}),(0,me.jsx)(se.Button,{type:s==="negative"?"primary":"secondary",size:"small",disabled:i||s!==null,onPress:()=>l("negative"),children:(0,me.jsx)(se.Inline,{children:s==="negative"?"Not helpful":"Not helpful?"})})]})]})},us=cl;var fe=K(te()),dr=x("react"),ke=x("react/jsx-runtime"),ll=({startedAt:r})=>{let[e,o]=(0,dr.useState)(0);(0,dr.useEffect)(()=>{let n=setInterval(()=>{o(Math.floor((Date.now()-r)/1e3))},1e3);return()=>clearInterval(n)},[r]);let s=e>=5?"Fetching fresh data from Stripe...":"Analyzing your data...";return(0,ke.jsxs)(fe.Box,{css:{padding:"medium",stack:"y",gap:"small"},children:[(0,ke.jsxs)(fe.Box,{css:{stack:"x",gap:"small",alignY:"center"},children:[(0,ke.jsx)(fe.Spinner,{size:"small"}),(0,ke.jsx)(fe.Inline,{css:{color:"secondary"},children:s})]}),e>=5&&(0,ke.jsx)(fe.Banner,{type:"default",description:"Still working \u2014 fetching the latest data from Stripe to give you an accurate answer."})]})},ds=ll;var Ge=K(te()),ze=x("react/jsx-runtime"),ul=({question:r,options:e,onSelect:o})=>(0,ze.jsxs)(Ge.Box,{css:{padding:"medium",stack:"y",gap:"small"},children:[(0,ze.jsx)(Ge.Banner,{type:"default",title:"Clarification needed",description:r}),(0,ze.jsx)(Ge.Box,{css:{stack:"x",gap:"small",wrap:"wrap"},children:e.map(s=>(0,ze.jsx)(Ge.Button,{type:"secondary",size:"small",onPress:()=>o(s.value),children:s.label},s.value))})]}),ps=ul;var Ee=x("react/jsx-runtime"),dl=({messages:r,isThinking:e,thinkingStartedAt:o,onClarificationSelect:s})=>(0,Ee.jsxs)(yo.Box,{css:{stack:"y",gap:"xsmall",overflow:"auto"},children:[r.map(n=>{var i;return(0,Ee.jsxs)(yo.Box,{css:{stack:"y"},children:[(0,Ee.jsx)(Zo,{role:n.role,content:n.content,freshness:n.freshness}),(i=n.insights)==null?void 0:i.map(a=>(0,Ee.jsx)(us,{insightId:a.id,messageId:n.id,content:a.content},a.id)),n.clarification&&s&&(0,Ee.jsx)(ps,{question:n.clarification.question,options:n.clarification.options,onSelect:s})]},n.id)}),e&&o&&(0,Ee.jsx)(ds,{startedAt:o})]}),hs=dl;var De=K(te()),pr=x("react"),$e=x("react/jsx-runtime"),pl=({onSend:r,disabled:e=!1,initialValue:o=""})=>{let[s,n]=(0,pr.useState)(o),i=(0,pr.useCallback)(()=>{let a=s.trim();!a||e||(r(a),n(""))},[s,e,r]);return(0,$e.jsxs)(De.Box,{css:{stack:"x",gap:"small",alignY:"bottom",padding:"small"},children:[(0,$e.jsx)(De.Box,{css:{width:"fill"},children:(0,$e.jsx)(De.TextArea,{label:"Ask a question",placeholder:"What's my MRR?",value:s,onChange:a=>n(a.target.value),rows:2,disabled:e})}),(0,$e.jsx)(De.Button,{type:"primary",onPress:i,disabled:e||!s.trim(),children:"Send"})]})},ms=pl;var N=K(te()),V=x("react/jsx-runtime"),hl=[{label:"What's my MRR?",value:"What's my MRR?"},{label:"How's churn trending?",value:"How is my churn rate trending over the last 3 months?"},{label:"Revenue by product",value:"What's my revenue breakdown by product?"},{label:"Top customers",value:"Who are my top 10 customers by revenue?"},{label:"Growth rate",value:"What's my MRR growth rate?"}],ml=({onSelectPrompt:r,insights:e})=>(0,V.jsxs)(N.Box,{css:{padding:"medium",stack:"y",gap:"medium"},children:[(0,V.jsxs)(N.Box,{css:{stack:"y",gap:"small"},children:[(0,V.jsx)(N.Inline,{css:{font:"heading"},children:"Welcome to Javelin"}),(0,V.jsx)(N.Inline,{css:{color:"secondary"},children:"Ask me anything about your Stripe business. I can calculate metrics, analyze trends, and surface insights from your data."})]}),e&&e.length>0&&(0,V.jsxs)(N.Box,{css:{stack:"y",gap:"small"},children:[(0,V.jsx)(N.Inline,{css:{fontWeight:"semibold"},children:"Recent insights"}),e.map(o=>(0,V.jsx)(N.Box,{css:{padding:"small",backgroundColor:"container",stack:"y",gap:"xsmall"},children:(0,V.jsx)(N.Inline,{css:{color:"secondary"},children:o.content})},o.id))]}),(0,V.jsxs)(N.Box,{css:{stack:"y",gap:"small"},children:[(0,V.jsx)(N.Inline,{css:{fontWeight:"semibold"},children:"Try asking"}),(0,V.jsx)(N.Box,{css:{stack:"x",gap:"small",wrap:"wrap"},children:hl.map(o=>(0,V.jsx)(N.Button,{type:"secondary",size:"small",onPress:()=>r(o.value),children:o.label},o.value))})]}),(0,V.jsx)(N.Box,{css:{marginTop:"small"},children:(0,V.jsx)(N.Inline,{css:{font:"caption",color:"secondary"},children:"Javelin provides informational insights only, not financial or business advice. Always verify important decisions with your own analysis."})})]}),fs=ml;var J=K(te()),X=x("react/jsx-runtime"),fl=({conversations:r,activeConversationId:e,onSelectConversation:o,onClose:s})=>r.length===0?(0,X.jsxs)(J.Box,{css:{padding:"medium",stack:"y",gap:"small",alignX:"center"},children:[(0,X.jsx)(J.Inline,{css:{color:"secondary"},children:"No conversations yet."}),(0,X.jsx)(J.Inline,{css:{color:"secondary"},children:"Start by asking a question below."})]}):(0,X.jsxs)(J.Box,{css:{stack:"y",gap:"xsmall",padding:"small"},children:[(0,X.jsxs)(J.Box,{css:{stack:"x",distribute:"space-between",alignY:"center",padding:"xsmall"},children:[(0,X.jsx)(J.Inline,{css:{fontWeight:"semibold"},children:"Conversations"}),(0,X.jsx)(J.Button,{type:"secondary",size:"small",onPress:s,children:"Close"})]}),r.map(n=>(0,X.jsx)(J.Box,{css:{padding:"small",backgroundColor:n.id===e?"container":void 0,stack:"y",gap:"xsmall"},children:(0,X.jsx)(J.Button,{type:"secondary",size:"small",onPress:()=>o(n.id),children:(0,X.jsxs)(J.Box,{css:{stack:"y",gap:"xsmall",width:"fill"},children:[(0,X.jsx)(J.Inline,{css:{fontWeight:n.id===e?"semibold":"regular"},children:n.title||"Untitled conversation"}),(0,X.jsx)(J.Inline,{css:{font:"caption",color:"secondary"},children:new Date(n.updatedAt).toLocaleDateString()})]})})},n.id))]}),vs=fl;var ut=x("react");var ac=K(Ps());var _o=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders","streaming"];function Ts(r){return r&&typeof r=="object"&&_o.some(e=>Object.prototype.hasOwnProperty.call(r,e))}function xe(r,e){return Pl(r)}function gs(r){return encodeURIComponent(r).replace(/!/g,"%21").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27").replace(/%5B/g,"[").replace(/%5D/g,"]")}function vl(r){return r instanceof Date?Math.floor(r.getTime()/1e3).toString():r===null?"":String(r)}function Pl(r){let e=[];function o(s,n){if(n!==void 0){if(n===null||typeof n!="object"||n instanceof Date){e.push(gs(s)+"="+gs(vl(n)));return}if(Array.isArray(n)){for(let i=0;i<n.length;i++)n[i]!==void 0&&o(s+"["+i+"]",n[i]);return}for(let i of Object.keys(n))o(s+"["+i+"]",n[i])}}if(typeof r=="object"&&r!==null)for(let s of Object.keys(r))o(s,r[s]);return e.join("&")}var mr=(()=>{let r={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return e=>{let o=e.replace(/["\n\r\u2028\u2029]/g,s=>r[s]);return s=>o.replace(/\{([\s\S]+?)\}/g,(n,i)=>{let a=s[i];return gl(a)?encodeURIComponent(a):""})}})();function gl(r){return["number","string","boolean"].includes(typeof r)}function ys(r){let e=r.match(/\{\w+\}/g);return e?e.map(o=>o.replace(/[{}]/g,"")):[]}function Ke(r){if(!Array.isArray(r)||!r[0]||typeof r[0]!="object")return{};if(!Ts(r[0]))return r.shift();let e=Object.keys(r[0]),o=e.filter(s=>_o.includes(s));return o.length>0&&o.length!==e.length&&Rt(`Options found in arguments (${o.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function fr(r){let e={host:null,headers:{},settings:{},streaming:!1};if(r.length>0){let o=r[r.length-1];if(typeof o=="string")e.authenticator=hr(r.pop());else if(Ts(o)){let s=Object.assign({},r.pop()),n=Object.keys(s).filter(i=>!_o.includes(i));if(n.length&&Rt(`Invalid options found (${n.join(", ")}); ignoring.`),s.apiKey&&(e.authenticator=hr(s.apiKey)),s.idempotencyKey&&(e.headers["Idempotency-Key"]=s.idempotencyKey),s.stripeAccount&&(e.headers["Stripe-Account"]=s.stripeAccount),s.stripeContext){if(e.headers["Stripe-Account"])throw new Error("Can't specify both stripeAccount and stripeContext.");e.headers["Stripe-Context"]=s.stripeContext}if(s.apiVersion&&(e.headers["Stripe-Version"]=s.apiVersion),Number.isInteger(s.maxNetworkRetries)&&(e.settings.maxNetworkRetries=s.maxNetworkRetries),Number.isInteger(s.timeout)&&(e.settings.timeout=s.timeout),s.host&&(e.host=s.host),s.authenticator){if(s.apiKey)throw new Error("Can't specify both apiKey and authenticator.");if(typeof s.authenticator!="function")throw new Error("The authenticator must be a function receiving a request as the first parameter.");e.authenticator=s.authenticator}s.additionalHeaders&&(e.headers=s.additionalHeaders),s.streaming&&(e.streaming=!0)}}return e}function _s(r){let e=this,o=Object.prototype.hasOwnProperty.call(r,"constructor")?r.constructor:function(...s){e.apply(this,s)};return Object.assign(o,e),o.prototype=Object.create(e.prototype),Object.assign(o.prototype,r),o}function vr(r){if(typeof r!="object")throw new Error("Argument must be an object");return Object.keys(r).reduce((e,o)=>(r[o]!=null&&(e[o]=r[o]),e),{})}function Ss(r){return r&&typeof r=="object"?Object.keys(r).reduce((e,o)=>(e[Tl(o)]=r[o],e),{}):r}function Tl(r){return r.split("-").map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join("-")}function Ot(r,e){return e?r.then(o=>{setTimeout(()=>{e(null,o)},0)},o=>{setTimeout(()=>{e(o,null)},0)}):r}function Es(r){return r==="OAuth"?"oauth":r[0].toLowerCase()+r.substring(1)}function Rt(r){return typeof process.emitWarning!="function"?console.warn(`Stripe: ${r}`):process.emitWarning(r,"Stripe")}function yl(r){let e=typeof r;return(e==="function"||e==="object")&&!!r}function xs(r){let e={},o=(s,n)=>{Object.entries(s).forEach(([i,a])=>{let l=n?`${n}[${i}]`:i;if(yl(a)){if(!(a instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(a,"data"))return o(a,l);e[l]=a}else e[l]=String(a)})};return o(r,null),e}function Pr(r,e,o){if(!Number.isInteger(e)){if(o!==void 0)return o;throw new Error(`${r} must be an integer`)}return e}function bs(){return typeof process=="undefined"?{}:{lang_version:process.version,platform:process.platform}}function hr(r){let e=o=>(o.headers.Authorization="Bearer "+r,Promise.resolve());return e._apiKey=r,e}function _l(r,e){return this[r]instanceof Date?Math.floor(this[r].getTime()/1e3).toString():e}function Os(r){return JSON.stringify(r,_l)}function gr(r){return r&&r.startsWith("/v2")?"v2":"v1"}function Tr(r){return Array.isArray(r)?r.join(", "):String(r)}function Rs(r){let e=Array.isArray(r)?r[0]:r;return Number(e)}function As(r){return Object.entries(r).map(([e,o])=>[e,Tr(o)])}var U=class{getClientName(){throw new Error("getClientName not implemented.")}makeRequest(e,o,s,n,i,a,l,u){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){let e=new TypeError(U.TIMEOUT_ERROR_CODE);return e.code=U.TIMEOUT_ERROR_CODE,e}};U.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"];U.TIMEOUT_ERROR_CODE="ETIMEDOUT";var We=class{constructor(e,o){this._statusCode=e,this._headers=o}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(e){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}};var qe=class extends U{constructor(e){if(super(),!e){if(!globalThis.fetch)throw new Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");e=globalThis.fetch}globalThis.AbortController?this._fetchFn=qe.makeFetchWithAbortTimeout(e):this._fetchFn=qe.makeFetchWithRaceTimeout(e)}static makeFetchWithRaceTimeout(e){return(o,s,n)=>{let i,a=new Promise((u,p)=>{i=setTimeout(()=>{i=null,p(U.makeTimeoutError())},n)}),l=e(o,s);return Promise.race([l,a]).finally(()=>{i&&clearTimeout(i)})}}static makeFetchWithAbortTimeout(e){return(o,s,n)=>v(this,null,function*(){let i=new AbortController,a=setTimeout(()=>{a=null,i.abort(U.makeTimeoutError())},n);try{return yield e(o,Object.assign(Object.assign({},s),{signal:i.signal}))}catch(l){throw l.name==="AbortError"?U.makeTimeoutError():l}finally{a&&clearTimeout(a)}})}getClientName(){return"fetch"}makeRequest(e,o,s,n,i,a,l,u){return v(this,null,function*(){let p=l==="http",h=new URL(s,`${p?"http":"https"}://${e}`);h.port=o;let T=n=="POST"||n=="PUT"||n=="PATCH",d=a||(T?"":void 0),m=yield this._fetchFn(h.toString(),{method:n,headers:As(i),body:d},u);return new At(m)})}},At=class extends We{constructor(e){super(e.status,At._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){let o={};for(let s of e){if(!Array.isArray(s)||s.length!=2)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");o[s[0]]=s[1]}return o}};var Je=class{computeHMACSignature(e,o){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,o){throw new Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(e){throw new Error("computeSHA256 not implemented.")}},Ye=class extends Error{};var yr=class extends Je{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,o){throw new Ye("SubtleCryptoProvider cannot be used in a synchronous context.")}computeHMACSignatureAsync(e,o){return v(this,null,function*(){let s=new TextEncoder,n=yield this.subtleCrypto.importKey("raw",s.encode(o),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=yield this.subtleCrypto.sign("hmac",n,s.encode(e)),a=new Uint8Array(i),l=new Array(a.length);for(let u=0;u<a.length;u++)l[u]=So[a[u]];return l.join("")})}computeSHA256Async(e){return v(this,null,function*(){return new Uint8Array(yield this.subtleCrypto.digest("SHA-256",e))})}},So=new Array(256);for(let r=0;r<So.length;r++)So[r]=r.toString(16).padStart(2,"0");var _r=class{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw new Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let o=Math.random()*16|0;return(e==="x"?o:o&3|8).toString(16)})}secureCompare(e,o){if(e.length!==o.length)return!1;let s=e.length,n=0;for(let i=0;i<s;++i)n|=e.charCodeAt(i)^o.charCodeAt(i);return n===0}createEmitter(){throw new Error("createEmitter not implemented.")}tryBufferData(e){throw new Error("tryBufferData not implemented.")}createNodeHttpClient(e){throw new Error("createNodeHttpClient not implemented.")}createFetchHttpClient(e){return new qe(e)}createDefaultHttpClient(){throw new Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw new Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(e){return new yr(e)}createDefaultCryptoProvider(){throw new Error("createDefaultCryptoProvider not implemented.")}};var Eo=class extends Event{constructor(e,o){super(e),this.data=o}},Sr=class{constructor(){this.eventTarget=new EventTarget,this.listenerMapping=new Map}on(e,o){let s=n=>{o(n.data)};return this.listenerMapping.set(o,s),this.eventTarget.addEventListener(e,s)}removeListener(e,o){let s=this.listenerMapping.get(o);return this.listenerMapping.delete(o),this.eventTarget.removeEventListener(e,s)}once(e,o){let s=n=>{o(n.data)};return this.listenerMapping.set(o,s),this.eventTarget.addEventListener(e,s,{once:!0})}emit(e,o){return this.eventTarget.dispatchEvent(new Eo(e,o))}};var Er=class extends _r{getUname(){return Promise.resolve(null)}createEmitter(){return new Sr}tryBufferData(e){if(e.file.data instanceof ReadableStream)throw new Error("Uploading a file as a stream is not supported in non-Node environments. Please open or upvote an issue at github.com/stripe/stripe-node if you use this, detailing your use-case.");return Promise.resolve(e)}createNodeHttpClient(){throw new Error("Stripe: `createNodeHttpClient()` is not available in non-Node environments. Please use `createFetchHttpClient()` instead.")}createDefaultHttpClient(){return super.createFetchHttpClient()}createNodeCryptoProvider(){throw new Error("Stripe: `createNodeCryptoProvider()` is not available in non-Node environments. Please use `createSubtleCryptoProvider()` instead.")}createDefaultCryptoProvider(){return this.createSubtleCryptoProvider()}};var wr={};co(wr,{StripeAPIError:()=>Xe,StripeAuthenticationError:()=>Ze,StripeCardError:()=>xr,StripeConnectionError:()=>It,StripeError:()=>q,StripeIdempotencyError:()=>br,StripeInvalidGrantError:()=>Or,StripeInvalidRequestError:()=>wt,StripePermissionError:()=>Ct,StripeRateLimitError:()=>Qe,StripeSignatureVerificationError:()=>ie,StripeUnknownError:()=>Rr,TemporarySessionExpiredError:()=>Ar,generateV1Error:()=>Mt,generateV2Error:()=>xo});var Mt=r=>{switch(r.type){case"card_error":return new xr(r);case"invalid_request_error":return new wt(r);case"api_error":return new Xe(r);case"authentication_error":return new Ze(r);case"rate_limit_error":return new Qe(r);case"idempotency_error":return new br(r);case"invalid_grant":return new Or(r);default:return new Rr(r)}},xo=r=>{switch(r.type){case"temporary_session_expired":return new Ar(r)}switch(r.code){case"invalid_fields":return new wt(r)}return Mt(r)},q=class extends Error{constructor(e={},o=null){var s;super(e.message),this.type=o||this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=(s=e.message)!==null&&s!==void 0?s:"",this.userMessage=e.user_message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}};q.generate=Mt;var xr=class extends q{constructor(e={}){super(e,"StripeCardError")}},wt=class extends q{constructor(e={}){super(e,"StripeInvalidRequestError")}},Xe=class extends q{constructor(e={}){super(e,"StripeAPIError")}},Ze=class extends q{constructor(e={}){super(e,"StripeAuthenticationError")}},Ct=class extends q{constructor(e={}){super(e,"StripePermissionError")}},Qe=class extends q{constructor(e={}){super(e,"StripeRateLimitError")}},It=class extends q{constructor(e={}){super(e,"StripeConnectionError")}},ie=class extends q{constructor(e,o,s={}){super(s,"StripeSignatureVerificationError"),this.header=e,this.payload=o}},br=class extends q{constructor(e={}){super(e,"StripeIdempotencyError")}},Or=class extends q{constructor(e={}){super(e,"StripeInvalidGrantError")}},Rr=class extends q{constructor(e={}){super(e,"StripeUnknownError")}},Ar=class extends q{constructor(e={}){super(e,"TemporarySessionExpiredError")}};var Sl=60,be=class{constructor(e,o){this._stripe=e,this._maxBufferedRequestMetric=o}_normalizeStripeContext(e,o){return e?e.toString()||null:(o==null?void 0:o.toString())||null}_addHeadersDirectlyToObject(e,o){e.requestId=o["request-id"],e.stripeAccount=e.stripeAccount||o["stripe-account"],e.apiVersion=e.apiVersion||o["stripe-version"],e.idempotencyKey=e.idempotencyKey||o["idempotency-key"]}_makeResponseEvent(e,o,s){let n=Date.now(),i=n-e.request_start_time;return vr({api_version:s["stripe-version"],account:s["stripe-account"],idempotency_key:s["idempotency-key"],method:e.method,path:e.path,status:o,request_id:this._getRequestId(s),elapsed:i,request_start_time:e.request_start_time,request_end_time:n})}_getRequestId(e){return e["request-id"]}_streamingResponseHandler(e,o,s){return n=>{let i=n.getHeaders(),a=()=>{let u=this._makeResponseEvent(e,n.getStatusCode(),i);this._stripe._emitter.emit("response",u),this._recordRequestMetrics(this._getRequestId(i),u.elapsed,o)},l=n.toStream(a);return this._addHeadersDirectlyToObject(l,i),s(null,l)}}_jsonResponseHandler(e,o,s,n){return i=>{let a=i.getHeaders(),l=this._getRequestId(a),u=i.getStatusCode(),p=this._makeResponseEvent(e,u,a);this._stripe._emitter.emit("response",p),i.toJSON().then(h=>{if(h.error){let T;throw typeof h.error=="string"&&(h.error={type:h.error,message:h.error_description}),h.error.headers=a,h.error.statusCode=u,h.error.requestId=l,u===401?T=new Ze(h.error):u===403?T=new Ct(h.error):u===429?T=new Qe(h.error):o==="v2"?T=xo(h.error):T=Mt(h.error),T}return h},h=>{throw new Xe({message:"Invalid JSON received from the Stripe API",exception:h,requestId:a["request-id"]})}).then(h=>{this._recordRequestMetrics(l,p.elapsed,s);let T=i.getRawResponse();this._addHeadersDirectlyToObject(T,a),Object.defineProperty(h,"lastResponse",{enumerable:!1,writable:!1,value:T}),n(null,h)},h=>n(h,null))}}static _generateConnectionErrorMessage(e){return`An error occurred with our connection to Stripe.${e>0?` Request was retried ${e} times.`:""}`}static _shouldRetry(e,o,s,n){return n&&o===0&&U.CONNECTION_CLOSED_ERROR_CODES.includes(n.code)?!0:o>=s?!1:e?e.getHeaders()["stripe-should-retry"]==="false"?!1:e.getHeaders()["stripe-should-retry"]==="true"||e.getStatusCode()===409||e.getStatusCode()>=500:!0}_getSleepTimeInMS(e,o=null){let s=this._stripe.getInitialNetworkRetryDelay(),n=this._stripe.getMaxNetworkRetryDelay(),i=Math.min(s*Math.pow(2,e-1),n);return i*=.5*(1+Math.random()),i=Math.max(s,i),Number.isInteger(o)&&o<=Sl&&(i=Math.max(i,o)),i*1e3}_getMaxNetworkRetries(e={}){return e.maxNetworkRetries!==void 0&&Number.isInteger(e.maxNetworkRetries)?e.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(e,o,s){let n=this._getMaxNetworkRetries(o),i=()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`;if(s==="v2"){if(e==="POST"||e==="DELETE")return i()}else if(s==="v1"&&e==="POST"&&n>0)return i();return null}_makeHeaders({contentType:e,contentLength:o,apiVersion:s,clientUserAgent:n,method:i,userSuppliedHeaders:a,userSuppliedSettings:l,stripeAccount:u,stripeContext:p,apiMode:h}){let T={Accept:"application/json","Content-Type":e,"User-Agent":this._getUserAgentString(h),"X-Stripe-Client-User-Agent":n,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":s,"Stripe-Account":u,"Stripe-Context":p,"Idempotency-Key":this._defaultIdempotencyKey(i,l,h)},d=i=="POST"||i=="PUT"||i=="PATCH";return(d||o)&&(d||Rt(`${i} method had non-zero contentLength but no payload is expected for this verb`),T["Content-Length"]=o),Object.assign(vr(T),Ss(a))}_getUserAgentString(e){let o=this._stripe.getConstant("PACKAGE_VERSION"),s=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/${e} NodeBindings/${o} ${s}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){let e=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:e})}}_recordRequestMetrics(e,o,s){if(this._stripe.getTelemetryEnabled()&&e)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)Rt("Request metrics buffer is full, dropping telemetry message.");else{let n={request_id:e,request_duration_ms:o};s&&s.length>0&&(n.usage=s),this._stripe._prevRequestMetrics.push(n)}}_rawRequest(e,o,s,n,i){return new Promise((l,u)=>{let p;try{let P=e.toUpperCase();if(P!=="POST"&&s&&Object.keys(s).length!==0)throw new Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");let y=[].slice.call([s,n]),g=Ke(y),S=P==="POST"?Object.assign({},g):null,E=fr(y),_=E.headers,b=E.authenticator;p={requestMethod:P,requestPath:o,bodyData:S,queryData:{},authenticator:b,headers:_,host:E.host,streaming:!!E.streaming,settings:{},usage:i||["raw_request"]}}catch(P){u(P);return}function h(P,y){P?u(P):l(y)}let{headers:T,settings:d}=p,m=p.authenticator;this._request(p.requestMethod,p.host,o,p.bodyData,m,{headers:T,settings:d,streaming:p.streaming},p.usage,h)})}_getContentLength(e){return typeof e=="string"?new TextEncoder().encode(e).length:e.length}_request(e,o,s,n,i,a,l=[],u,p=null){var h;let T;i=(h=i!=null?i:this._stripe._authenticator)!==null&&h!==void 0?h:null;let d=gr(s),m=(g,S,E,_,b)=>setTimeout(g,this._getSleepTimeInMS(_,b),S,E,_+1),P=(g,S,E)=>{let _=a.settings&&a.settings.timeout&&Number.isInteger(a.settings.timeout)&&a.settings.timeout>=0?a.settings.timeout:this._stripe.getApiField("timeout"),b={host:o||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:s,method:e,headers:Object.assign({},S),body:T,protocol:this._stripe.getApiField("protocol")};i(b).then(()=>{let D=this._stripe.getApiField("httpClient").makeRequest(b.host,b.port,b.path,b.method,b.headers,b.body,b.protocol,_),z=Date.now(),I=vr({api_version:g,account:Tr(S["Stripe-Account"]),idempotency_key:Tr(S["Idempotency-Key"]),method:e,path:s,request_start_time:z}),ae=E||0,he=this._getMaxNetworkRetries(a.settings||{});this._stripe._emitter.emit("request",I),D.then($=>be._shouldRetry($,ae,he)?m(P,g,S,ae,Rs($.getHeaders()["retry-after"])):a.streaming&&$.getStatusCode()<400?this._streamingResponseHandler(I,l,u)($):this._jsonResponseHandler(I,d,l,u)($)).catch($=>{if(be._shouldRetry(null,ae,he,$))return m(P,g,S,ae,null);{let rr=$.code&&$.code===U.TIMEOUT_ERROR_CODE;return u(new It({message:rr?`Request aborted due to timeout being reached (${_}ms)`:be._generateConnectionErrorMessage(ae),detail:$}))}})}).catch(D=>{throw new q({message:"Unable to authenticate the request",exception:D})})},y=(g,S)=>{if(g)return u(g);T=S,this._stripe.getClientUserAgent(E=>{var _,b,D;let z=this._stripe.getApiField("version"),I=this._makeHeaders({contentType:d=="v2"?"application/json":"application/x-www-form-urlencoded",contentLength:this._getContentLength(S),apiVersion:z,clientUserAgent:E,method:e,userSuppliedHeaders:(_=a.headers)!==null&&_!==void 0?_:null,userSuppliedSettings:(b=a.settings)!==null&&b!==void 0?b:{},stripeAccount:(D=a.stripeAccount)!==null&&D!==void 0?D:this._stripe.getApiField("stripeAccount"),stripeContext:this._normalizeStripeContext(a.stripeContext,this._stripe.getApiField("stripeContext")),apiMode:d});P(z,I,0)})};if(p)p(e,n,a.headers,y);else{let g;d=="v2"?g=n?Os(n):"":g=xe(n||{}),y(null,g)}}};var Cr=class{constructor(e,o,s,n){this.index=0,this.pagePromise=e,this.promiseCache={currentPromise:null},this.requestArgs=o,this.spec=s,this.stripeResource=n}iterate(e){return v(this,null,function*(){if(!(e&&e.data&&typeof e.data.length=="number"))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");let o=Cs(this.requestArgs);if(this.index<e.data.length){let s=o?e.data.length-1-this.index:this.index,n=e.data[s];return this.index+=1,{value:n,done:!1}}else if(e.has_more){this.index=0,this.pagePromise=this.getNextPage(e);let s=yield this.pagePromise;return this.iterate(s)}return{done:!0,value:void 0}})}getNextPage(e){throw new Error("Unimplemented")}_next(){return v(this,null,function*(){return this.iterate(yield this.pagePromise)})}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;let e=(()=>v(this,null,function*(){let o=yield this._next();return this.promiseCache.currentPromise=null,o}))();return this.promiseCache.currentPromise=e,e}},Oo=class extends Cr{getNextPage(e){let o=Cs(this.requestArgs),s=Ol(e,o);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[o?"ending_before":"starting_after"]:s})}},Ro=class extends Cr{getNextPage(e){if(!e.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:e.next_page})}},Ao=class{constructor(e,o,s,n){this.firstPagePromise=e,this.currentPageIterator=null,this.nextPageUrl=null,this.requestArgs=o,this.spec=s,this.stripeResource=n}initFirstPage(){return v(this,null,function*(){if(this.firstPagePromise){let e=yield this.firstPagePromise;this.firstPagePromise=null,this.currentPageIterator=e.data[Symbol.iterator](),this.nextPageUrl=e.next_page_url||null}})}turnPage(){return v(this,null,function*(){if(!this.nextPageUrl)return null;this.spec.fullPath=this.nextPageUrl;let e=yield this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=e.next_page_url||null,this.currentPageIterator=e.data[Symbol.iterator](),this.currentPageIterator})}next(){return v(this,null,function*(){if(yield this.initFirstPage(),this.currentPageIterator){let s=this.currentPageIterator.next();if(!s.done)return{done:!1,value:s.value}}let e=yield this.turnPage();if(!e)return{done:!0,value:void 0};let o=e.next();return o.done?{done:!0,value:void 0}:{done:!1,value:o.value}})}},ws=(r,e,o,s)=>{let n=gr(o.fullPath||o.path);return n!=="v2"&&o.methodType==="search"?bo(new Ro(s,e,o,r)):n!=="v2"&&o.methodType==="list"?bo(new Oo(s,e,o,r)):n==="v2"&&o.methodType==="list"?bo(new Ao(s,e,o,r)):null},bo=r=>{let e=Rl((...n)=>r.next(...n)),o=Al(e),s={autoPagingEach:e,autoPagingToArray:o,next:()=>r.next(),return:()=>({}),[El()]:()=>s};return s};function El(){return typeof Symbol!="undefined"&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function xl(r){if(r.length<2)return null;let e=r[1];if(typeof e!="function")throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);return e}function bl(r){if(r.length===0)return;let e=r[0];if(typeof e!="function")throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);if(e.length===2)return e;if(e.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${e}`);return function(s,n){let i=e(s);n(i)}}function Ol(r,e){let o=e?0:r.data.length-1,s=r.data[o],n=s&&s.id;if(!n)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return n}function Rl(r){return function(){let o=[].slice.call(arguments),s=bl(o),n=xl(o);if(o.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${o}`);let i=wl(r,s);return Ot(i,n)}}function Al(r){return function(o,s){let n=o&&o.limit;if(!n)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(n>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");let i=new Promise((a,l)=>{let u=[];r(p=>{if(u.push(p),u.length>=n)return!1}).then(()=>{a(u)}).catch(l)});return Ot(i,s)}}function wl(r,e){return new Promise((o,s)=>{function n(i){if(i.done){o();return}let a=i.value;return new Promise(l=>{e(a,l)}).then(l=>l===!1?n({done:!0,value:void 0}):r().then(n))}r().then(n).catch(s)})}function Cs(r){let e=[].slice.call(r);return!!Ke(e).ending_before}function Is(r){if(r.path!==void 0&&r.fullPath!==void 0)throw new Error(`Method spec specified both a 'path' (${r.path}) and a 'fullPath' (${r.fullPath}).`);return function(...e){let o=typeof e[e.length-1]=="function"&&e.pop();r.urlParams=ys(r.fullPath||this.createResourcePathWithSymbols(r.path||""));let s=Ot(this._makeRequest(e,r,{}),o);return Object.assign(s,ws(this,e,r,s)),s}}t.extend=_s;t.method=Is;t.MAX_BUFFERED_REQUEST_METRICS=100;function t(r,e){if(this._stripe=r,e)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=mr(this.basePath||r.getApiField("basePath")),this.resourcePath=this.path,this.path=mr(this.path),this.initialize(...arguments)}t.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(r,e){let o=[this.basePath(e),this.path(e)];if(typeof r=="function"){let s=r(e);s&&o.push(s)}else o.push(r);return this._joinUrlParts(o)},createResourcePathWithSymbols(r){return r?`/${this._joinUrlParts([this.resourcePath,r])}`:`/${this.resourcePath}`},_joinUrlParts(r){return r.join("/").replace(/\/{2,}/g,"/")},_getRequestOpts(r,e,o){var s;let n=(e.method||"GET").toUpperCase(),i=e.usage||[],a=e.urlParams||[],l=e.encode||(I=>I),u=!!e.fullPath,p=mr(u?e.fullPath:e.path||""),h=u?e.fullPath:this.createResourcePathWithSymbols(e.path),T=[].slice.call(r),d=a.reduce((I,ae)=>{let he=T.shift();if(typeof he!="string")throw new Error(`Stripe: Argument "${ae}" must be a string, but got: ${he} (on API request to \`${n} ${h}\`)`);return I[ae]=he,I},{}),m=Ke(T),P=l(Object.assign({},m,o)),y=fr(T),g=y.host||e.host,S=!!e.streaming||!!y.streaming;if(T.filter(I=>I!=null).length)throw new Error(`Stripe: Unknown arguments (${T}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${n} \`${h}\`)`);let E=u?p(d):this.createFullPath(p,d),_=Object.assign(y.headers,e.headers);e.validator&&e.validator(P,{headers:_});let b=e.method==="GET"||e.method==="DELETE";return{requestMethod:n,requestPath:E,bodyData:b?null:P,queryData:b?P:{},authenticator:(s=y.authenticator)!==null&&s!==void 0?s:null,headers:_,host:g!=null?g:null,streaming:S,settings:y.settings,usage:i}},_makeRequest(r,e,o){return new Promise((s,n)=>{var i;let a;try{a=this._getRequestOpts(r,e,o)}catch(d){n(d);return}function l(d,m){d?n(d):s(e.transformResponseData?e.transformResponseData(m):m)}let u=Object.keys(a.queryData).length===0,p=[a.requestPath,u?"":"?",xe(a.queryData)].join(""),{headers:h,settings:T}=a;this._stripe._requestSender._request(a.requestMethod,a.host,p,a.bodyData,a.authenticator,{headers:h,settings:T,streaming:a.streaming},a.usage,l,(i=this.requestDataProcessor)===null||i===void 0?void 0:i.bind(this))})}};var le=class{constructor(e=[]){this._segments=[...e]}get segments(){return[...this._segments]}push(e){if(!e)throw new Error("Segment cannot be null or undefined");return new le([...this._segments,e])}pop(){if(this._segments.length===0)throw new Error("Cannot pop from an empty context");return new le(this._segments.slice(0,-1))}toString(){return this._segments.join("/")}static parse(e){return e?new le(e.split("/")):new le([])}};function Ms(r){let e={DEFAULT_TOLERANCE:300,signature:null,constructEvent(d,m,P,y,g,S){try{if(!this.signature)throw new Error("ERR: missing signature helper, unable to verify");this.signature.verifyHeader(d,m,P,y||e.DEFAULT_TOLERANCE,g,S)}catch(_){throw _ instanceof Ye&&(_.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),_}return d instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(d)):JSON.parse(d)},constructEventAsync(d,m,P,y,g,S){return v(this,null,function*(){if(!this.signature)throw new Error("ERR: missing signature helper, unable to verify");return yield this.signature.verifyHeaderAsync(d,m,P,y||e.DEFAULT_TOLERANCE,g,S),d instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(d)):JSON.parse(d)})},generateTestHeaderString:function(d){let m=p(d),P=m.signature||m.cryptoProvider.computeHMACSignature(m.payloadString,m.secret);return m.generateHeaderString(P)},generateTestHeaderStringAsync:function(d){return v(this,null,function*(){let m=p(d),P=m.signature||(yield m.cryptoProvider.computeHMACSignatureAsync(m.payloadString,m.secret));return m.generateHeaderString(P)})}},o={EXPECTED_SCHEME:"v1",verifyHeader(d,m,P,y,g,S){let{decodedHeader:E,decodedPayload:_,details:b,suspectPayloadType:D}=n(d,m,this.EXPECTED_SCHEME),z=/\s/.test(P);g=g||u();let I=g.computeHMACSignature(s(_,b),P);return i(_,E,b,I,y,D,z,S),!0},verifyHeaderAsync(d,m,P,y,g,S){return v(this,null,function*(){let{decodedHeader:E,decodedPayload:_,details:b,suspectPayloadType:D}=n(d,m,this.EXPECTED_SCHEME),z=/\s/.test(P);g=g||u();let I=yield g.computeHMACSignatureAsync(s(_,b),P);return i(_,E,b,I,y,D,z,S)})}};function s(d,m){return`${m.timestamp}.${d}`}function n(d,m,P){if(!d)throw new ie(m,d,{message:"No webhook payload was provided."});let y=typeof d!="string"&&!(d instanceof Uint8Array),g=new TextDecoder("utf8"),S=d instanceof Uint8Array?g.decode(d):d;if(Array.isArray(m))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(m==null||m=="")throw new ie(m,d,{message:"No stripe-signature header value was provided."});let E=m instanceof Uint8Array?g.decode(m):m,_=a(E,P);if(!_||_.timestamp===-1)throw new ie(E,S,{message:"Unable to extract timestamp and signatures from header"});if(!_.signatures.length)throw new ie(E,S,{message:"No signatures found with expected scheme"});return{decodedPayload:S,decodedHeader:E,details:_,suspectPayloadType:y}}function i(d,m,P,y,g,S,E,_){let b=!!P.signatures.filter(r.secureCompare.bind(r,y)).length,D=`
Learn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature`,z=E?`

Note: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value`:"";if(!b)throw S?new ie(m,d,{message:`Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. 
Signature verification is impossible without access to the original signed material. 
`+D+`
`+z}):new ie(m,d,{message:`No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? 
 If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.
`+D+`
`+z});let I=Math.floor((typeof _=="number"?_:Date.now())/1e3)-P.timestamp;if(g>0&&I>g)throw new ie(m,d,{message:"Timestamp outside the tolerance zone"});return!0}function a(d,m){return typeof d!="string"?null:d.split(",").reduce((P,y)=>{let g=y.split("=");return g[0]==="t"&&(P.timestamp=parseInt(g[1],10)),g[0]===m&&P.signatures.push(g[1]),P},{timestamp:-1,signatures:[]})}let l=null;function u(){return l||(l=r.createDefaultCryptoProvider()),l}function p(d){if(!d)throw new q({message:"Options are required"});let m=Math.floor(d.timestamp)||Math.floor(Date.now()/1e3),P=d.scheme||o.EXPECTED_SCHEME,y=d.cryptoProvider||u(),g=`${m}.${d.payload}`,S=E=>`t=${m},${P}=${E}`;return Object.assign(Object.assign({},d),{timestamp:m,scheme:P,cryptoProvider:y,payloadString:g,generateHeaderString:S})}return e.signature=o,e}var wo="2026-01-28.clover";var lt={};co(lt,{Account:()=>Uo,AccountLinks:()=>Oi,AccountSessions:()=>Ri,Accounts:()=>Uo,ApplePayDomains:()=>Ai,ApplicationFees:()=>wi,Apps:()=>ou,Balance:()=>Ci,BalanceSettings:()=>Mi,BalanceTransactions:()=>Gi,Billing:()=>su,BillingPortal:()=>nu,Charges:()=>Di,Checkout:()=>iu,Climate:()=>au,ConfirmationTokens:()=>qi,CountrySpecs:()=>Bi,Coupons:()=>Fi,CreditNotes:()=>Hi,CustomerSessions:()=>Ni,Customers:()=>Ui,Disputes:()=>ji,Entitlements:()=>cu,EphemeralKeys:()=>zi,Events:()=>Ki,ExchangeRates:()=>Ji,FileLinks:()=>Yi,Files:()=>Zi,FinancialConnections:()=>lu,Forwarding:()=>uu,Identity:()=>du,InvoiceItems:()=>Qi,InvoicePayments:()=>ta,InvoiceRenderingTemplates:()=>ra,Invoices:()=>oa,Issuing:()=>pu,Mandates:()=>sa,OAuth:()=>ia,PaymentAttemptRecords:()=>ca,PaymentIntents:()=>la,PaymentLinks:()=>ua,PaymentMethodConfigurations:()=>da,PaymentMethodDomains:()=>pa,PaymentMethods:()=>ha,PaymentRecords:()=>ma,Payouts:()=>fa,Plans:()=>va,Prices:()=>Pa,Products:()=>ga,PromotionCodes:()=>Ta,Quotes:()=>ya,Radar:()=>hu,Refunds:()=>_a,Reporting:()=>mu,Reviews:()=>Sa,SetupAttempts:()=>Ea,SetupIntents:()=>xa,ShippingRates:()=>ba,Sigma:()=>fu,Sources:()=>Oa,SubscriptionItems:()=>Ra,SubscriptionSchedules:()=>Aa,Subscriptions:()=>wa,Tax:()=>vu,TaxCodes:()=>Ia,TaxIds:()=>Ma,TaxRates:()=>ka,Terminal:()=>Pu,TestHelpers:()=>gu,Tokens:()=>Da,Topups:()=>qa,Transfers:()=>La,Treasury:()=>Tu,V2:()=>yu,WebhookEndpoints:()=>Ba});function Cl(r,e){for(let o in e){if(!Object.prototype.hasOwnProperty.call(e,o))continue;let s=o[0].toLowerCase()+o.substring(1),n=new e[o](r);this[s]=n}}function C(r,e){return function(o){return new Cl(o,e)}}var Il=t.method,ks=t.extend({create:Il({method:"POST",fullPath:"/v2/core/account_links"})});var Gs=t.method,Ds=t.extend({create:Gs({method:"POST",fullPath:"/v2/core/account_tokens"}),retrieve:Gs({method:"GET",fullPath:"/v2/core/account_tokens/{id}"})});var Le=t.method,qs=t.extend({retrieve:Le({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:Le({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:Le({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:Le({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:Le({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:Le({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:Le({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})});var kt=t.method,Ls=t.extend({create:kt({method:"POST",fullPath:"/v2/core/accounts/{account_id}/persons"}),retrieve:kt({method:"GET",fullPath:"/v2/core/accounts/{account_id}/persons/{id}"}),update:kt({method:"POST",fullPath:"/v2/core/accounts/{account_id}/persons/{id}"}),list:kt({method:"GET",fullPath:"/v2/core/accounts/{account_id}/persons",methodType:"list"}),del:kt({method:"DELETE",fullPath:"/v2/core/accounts/{account_id}/persons/{id}"})});var Bs=t.method,Fs=t.extend({create:Bs({method:"POST",fullPath:"/v2/core/accounts/{account_id}/person_tokens"}),retrieve:Bs({method:"GET",fullPath:"/v2/core/accounts/{account_id}/person_tokens/{id}"})});var Gt=t.method,Hs=t.extend({constructor:function(...r){t.apply(this,r),this.persons=new Ls(...r),this.personTokens=new Fs(...r)},create:Gt({method:"POST",fullPath:"/v2/core/accounts"}),retrieve:Gt({method:"GET",fullPath:"/v2/core/accounts/{id}"}),update:Gt({method:"POST",fullPath:"/v2/core/accounts/{id}"}),list:Gt({method:"GET",fullPath:"/v2/core/accounts",methodType:"list"}),close:Gt({method:"POST",fullPath:"/v2/core/accounts/{id}/close"})});var Ns=t.method,Us=t.extend({retrieve:Ns({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:Ns({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})});var et=t.method,js=t.extend({create:et({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:et({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:et({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:et({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:et({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:et({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})});var Ml=t.method,Vs=t.extend({find:Ml({method:"GET",fullPath:"/v1/tax/associations/find"})});var Dt=t.method,zs=t.extend({retrieve:Dt({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:Dt({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:Dt({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:Dt({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:Dt({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})});var Be=t.method,$s=t.extend({create:Be({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:Be({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:Be({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:Be({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:Be({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),respond:Be({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond"}),reverse:Be({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})});var Co=t.method,Ks=t.extend({create:Co({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:Co({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:Co({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})});var Ir=t.method,Ws=t.extend({create:Ir({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:Ir({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:Ir({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:Ir({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})});var Mr=t.method,Js=t.extend({create:Mr({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:Mr({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:Mr({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:Mr({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})});var qt=t.method,Ys=t.extend({deliverCard:qt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:qt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:qt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:qt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:qt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})});var kr=t.method,Xs=t.extend({create:kr({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:kr({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:kr({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:kr({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})});var Lt=t.method,Zs=t.extend({create:Lt({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:Lt({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:Lt({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:Lt({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:Lt({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})});var kl=t.method,Qs=t.extend({create:kl({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})});var Gl=t.method,en=t.extend({create:Gl({method:"POST",fullPath:"/v1/terminal/connection_tokens"})});var Dl=t.method,tn=t.extend({retrieve:Dl({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})});var rn=t.method,on=t.extend({retrieve:rn({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:rn({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})});var tt=t.method,sn=t.extend({create:tt({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:tt({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:tt({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:tt({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:tt({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:tt({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})});var Io=t.method,nn=t.extend({create:Io({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:Io({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:Io({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})});var ql=t.method,an=t.extend({fundCashBalance:ql({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})});var Mo=t.method,cn=t.extend({create:Mo({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:Mo({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:Mo({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})});var Bt=t.method,ln=t.extend({create:Bt({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:Bt({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:Bt({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:Bt({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:Bt({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})});var un=t.method,dn=t.extend({retrieve:un({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:un({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})});var Oe=t.method,pn=t.extend({create:Oe({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:Oe({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:Oe({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:Oe({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:Oe({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:Oe({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:Oe({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:Oe({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})});var ko=t.method,hn=t.extend({retrieve(...r){return ko({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:o=>this.addFetchRelatedObjectIfNeeded(o)}).apply(this,r)},list(...r){return ko({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:o=>Object.assign(Object.assign({},o),{data:o.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))})}).apply(this,r)},addFetchRelatedObjectIfNeeded(r){return!r.related_object||!r.related_object.url?r:Object.assign(Object.assign({},r),{fetchRelatedObject:()=>ko({method:"GET",fullPath:r.related_object.url}).apply(this,[{stripeContext:r.context}])})}});var Gr=t.method,mn=t.extend({create:Gr({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:Gr({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:Gr({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:Gr({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})});var Fe=t.method,fn=t.extend({create:Fe({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:Fe({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:Fe({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:Fe({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),close:Fe({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/close"}),retrieveFeatures:Fe({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:Fe({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})});var Go=t.method,vn=t.extend({fail:Go({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:Go({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:Go({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})});var Dr=t.method,Pn=t.extend({create:Dr({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:Dr({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:Dr({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:Dr({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})});var Ft=t.method,gn=t.extend({create:Ft({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:Ft({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:Ft({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:Ft({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:Ft({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})});var Ll=t.method,Tn=t.extend({create:Ll({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})});var Bl=t.method,yn=t.extend({create:Bl({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})});var Fl=t.method,_n=t.extend({create:Fl({method:"POST",fullPath:"/v2/billing/meter_event_session"})});var Hl=t.method,Sn=t.extend({create:Hl({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})});var Nl=t.method,En=t.extend({create:Nl({method:"POST",fullPath:"/v1/billing/meter_events"})});var Ul=t.method,xn=t.extend({create:Ul({method:"POST",fullPath:"/v2/billing/meter_events"})});var He=t.method,bn=t.extend({create:He({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:He({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:He({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:He({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:He({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:He({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:He({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})});var jl=t.method,On=t.extend({create:jl({method:"POST",fullPath:"/v1/terminal/onboarding_links"})});var Ht=t.method,Rn=t.extend({create:Ht({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:Ht({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:Ht({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:Ht({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:Ht({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})});var qr=t.method,An=t.extend({update:qr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:qr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:qr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:qr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})});var Lr=t.method,wn=t.extend({create:Lr({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:Lr({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:Lr({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:Lr({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})});var Br=t.method,Cn=t.extend({update:Br({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:Br({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:Br({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:Br({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})});var Fr=t.method,In=t.extend({create:Fr({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:Fr({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:Fr({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:Fr({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})});var Vl=t.method,Mn=t.extend({create:Vl({method:"POST",fullPath:"/v1/radar/payment_evaluations"})});var Hr=t.method,kn=t.extend({create:Hr({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:Hr({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:Hr({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:Hr({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})});var Do=t.method,Gn=t.extend({activate:Do({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:Do({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:Do({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})});var Dn=t.method,qn=t.extend({retrieve:Dn({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:Dn({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})});var Ln=t.method,Bn=t.extend({retrieve:Ln({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:Ln({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})});var Q=t.method,Fn=t.extend({create:Q({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:Q({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:Q({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:Q({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:Q({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:Q({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),collectInputs:Q({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_inputs"}),collectPaymentMethod:Q({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_payment_method"}),confirmPaymentIntent:Q({method:"POST",fullPath:"/v1/terminal/readers/{reader}/confirm_payment_intent"}),processPaymentIntent:Q({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:Q({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:Q({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:Q({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})});var qo=t.method,Hn=t.extend({presentPaymentMethod:qo({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"}),succeedInputCollection:qo({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/succeed_input_collection"}),timeoutInputCollection:qo({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/timeout_input_collection"})});var zl=t.method,Nn=t.extend({create:zl({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})});var Un=t.method,jn=t.extend({retrieve:Un({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:Un({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})});var $l=t.method,Vn=t.extend({create:$l({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})});var zn=t.method,$n=t.extend({retrieve:zn({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:zn({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})});var Kl=t.method,Kn=t.extend({expire:Kl({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})});var Nr=t.method,Wn=t.extend({create:Nr({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:Nr({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:Nr({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:Nr({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})});var Lo=t.method,Jn=t.extend({create:Lo({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:Lo({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:Lo({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})});var Yn=t.method,Xn=t.extend({retrieve:Yn({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:Yn({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})});var Bo=t.method,Zn=t.extend({create:Bo({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:Bo({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:Bo({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})});var Qn=t.method,ei=t.extend({retrieve:Qn({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:Qn({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})});var Ur=t.method,ti=t.extend({create:Ur({method:"POST",fullPath:"/v1/apps/secrets"}),list:Ur({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:Ur({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:Ur({method:"GET",fullPath:"/v1/apps/secrets/find"})});var Wl=t.method,ri=t.extend({create:Wl({method:"POST",fullPath:"/v1/billing_portal/sessions"})});var rt=t.method,oi=t.extend({create:rt({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:rt({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:rt({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:rt({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:rt({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:rt({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})});var si=t.method,ni=t.extend({create:si({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:si({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})});var ii=t.method,ai=t.extend({retrieve:ii({method:"GET",fullPath:"/v1/tax/settings"}),update:ii({method:"POST",fullPath:"/v1/tax/settings"})});var ci=t.method,li=t.extend({retrieve:ci({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:ci({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})});var Nt=t.method,ui=t.extend({create:Nt({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:Nt({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:Nt({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:Nt({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:Nt({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})});var Fo=t.method,di=t.extend({retrieve:Fo({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:Fo({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:Fo({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})});var pi=t.method,hi=t.extend({retrieve:pi({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:pi({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})});var mi=t.method,fi=t.extend({retrieve:mi({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:mi({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})});var Ho=t.method,vi=t.extend({retrieve:Ho({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:Ho({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:Ho({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})});var jr=t.method,Pi=t.extend({retrieve:jr({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:jr({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:jr({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:jr({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})});var No=t.method,gi=t.extend({createForceCapture:No({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:No({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:No({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})});var Ti=t.method,yi=t.extend({retrieve:Ti({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:Ti({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})});var Vr=t.method,_i=t.extend({create:Vr({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:Vr({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:Vr({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:Vr({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})});var Ut=t.method,Si=t.extend({create:Ut({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:Ut({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:Ut({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:Ut({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:Ut({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})});var Ei=t.method,xi=t.extend({retrieve:Ei({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:Ei({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})});var ot=t.method,bi=t.extend({create:ot({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:ot({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:ot({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:ot({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:ot({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:ot({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})});var k=t.method,Uo=t.extend({create:k({method:"POST",fullPath:"/v1/accounts"}),retrieve(r,...e){return typeof r=="string"?k({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[r,...e]):(r==null&&[].shift.apply([r,...e]),k({method:"GET",fullPath:"/v1/account"}).apply(this,[r,...e]))},update:k({method:"POST",fullPath:"/v1/accounts/{account}"}),list:k({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:k({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:k({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:k({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:k({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:k({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:k({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:k({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:k({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:k({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:k({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:k({method:"GET",fullPath:"/v1/account"}),retrieveCapability:k({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:k({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:k({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:k({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:k({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:k({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})});var Jl=t.method,Oi=t.extend({create:Jl({method:"POST",fullPath:"/v1/account_links"})});var Yl=t.method,Ri=t.extend({create:Yl({method:"POST",fullPath:"/v1/account_sessions"})});var zr=t.method,Ai=t.extend({create:zr({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:zr({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:zr({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:zr({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})});var st=t.method,wi=t.extend({retrieve:st({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:st({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:st({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:st({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:st({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:st({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})});var Xl=t.method,Ci=t.extend({retrieve:Xl({method:"GET",fullPath:"/v1/balance"})});var Ii=t.method,Mi=t.extend({retrieve:Ii({method:"GET",fullPath:"/v1/balance_settings"}),update:Ii({method:"POST",fullPath:"/v1/balance_settings"})});var ki=t.method,Gi=t.extend({retrieve:ki({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:ki({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})});var nt=t.method,Di=t.extend({create:nt({method:"POST",fullPath:"/v1/charges"}),retrieve:nt({method:"GET",fullPath:"/v1/charges/{charge}"}),update:nt({method:"POST",fullPath:"/v1/charges/{charge}"}),list:nt({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:nt({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:nt({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})});var Zl=t.method,qi=t.extend({retrieve:Zl({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})});var Li=t.method,Bi=t.extend({retrieve:Li({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:Li({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})});var jt=t.method,Fi=t.extend({create:jt({method:"POST",fullPath:"/v1/coupons"}),retrieve:jt({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:jt({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:jt({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:jt({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})});var Re=t.method,Hi=t.extend({create:Re({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:Re({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:Re({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:Re({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:Re({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:Re({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:Re({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:Re({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})});var Ql=t.method,Ni=t.extend({create:Ql({method:"POST",fullPath:"/v1/customer_sessions"})});var O=t.method,Ui=t.extend({create:O({method:"POST",fullPath:"/v1/customers"}),retrieve:O({method:"GET",fullPath:"/v1/customers/{customer}"}),update:O({method:"POST",fullPath:"/v1/customers/{customer}"}),list:O({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:O({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:O({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:O({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:O({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:O({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:O({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:O({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:O({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:O({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:O({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:O({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:O({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:O({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:O({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:O({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:O({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:O({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:O({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:O({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:O({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:O({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:O({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:O({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:O({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})});var $r=t.method,ji=t.extend({retrieve:$r({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:$r({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:$r({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:$r({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})});var Vi=t.method,zi=t.extend({create:Vi({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(r,e)=>{if(!e.headers||!e.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:Vi({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})});var $i=t.method,Ki=t.extend({retrieve:$i({method:"GET",fullPath:"/v1/events/{id}"}),list:$i({method:"GET",fullPath:"/v1/events",methodType:"list"})});var Wi=t.method,Ji=t.extend({retrieve:Wi({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:Wi({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})});var Kr=t.method,Yi=t.extend({create:Kr({method:"POST",fullPath:"/v1/file_links"}),retrieve:Kr({method:"GET",fullPath:"/v1/file_links/{link}"}),update:Kr({method:"POST",fullPath:"/v1/file_links/{link}"}),list:Kr({method:"GET",fullPath:"/v1/file_links",methodType:"list"})});var eu=(r,e,o)=>{let s=(Math.round(Math.random()*1e16)+Math.round(Math.random()*1e16)).toString();o["Content-Type"]=`multipart/form-data; boundary=${s}`;let n=new TextEncoder,i=new Uint8Array(0),a=n.encode(`\r
`);function l(h){let T=i,d=h instanceof Uint8Array?h:new Uint8Array(n.encode(h));i=new Uint8Array(T.length+d.length+2),i.set(T),i.set(d,T.length),i.set(a,i.length-2)}function u(h){return`"${h.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}let p=xs(e);for(let h in p){if(!Object.prototype.hasOwnProperty.call(p,h))continue;let T=p[h];if(l(`--${s}`),Object.prototype.hasOwnProperty.call(T,"data")){let d=T;l(`Content-Disposition: form-data; name=${u(h)}; filename=${u(d.name||"blob")}`),l(`Content-Type: ${d.type||"application/octet-stream"}`),l(""),l(d.data)}else l(`Content-Disposition: form-data; name=${u(h)}`),l(""),l(T)}return l(`--${s}--`),i};function Xi(r,e,o,s){if(e=e||{},r!=="POST")return s(null,xe(e));this._stripe._platformFunctions.tryBufferData(e).then(n=>{let i=eu(r,n,o);return s(null,i)}).catch(n=>s(n,null))}var jo=t.method,Zi=t.extend({create:jo({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:jo({method:"GET",fullPath:"/v1/files/{file}"}),list:jo({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:Xi});var Vt=t.method,Qi=t.extend({create:Vt({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:Vt({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:Vt({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:Vt({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:Vt({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})});var ea=t.method,ta=t.extend({retrieve:ea({method:"GET",fullPath:"/v1/invoice_payments/{invoice_payment}"}),list:ea({method:"GET",fullPath:"/v1/invoice_payments",methodType:"list"})});var Wr=t.method,ra=t.extend({retrieve:Wr({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:Wr({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:Wr({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:Wr({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})});var F=t.method,oa=t.extend({create:F({method:"POST",fullPath:"/v1/invoices"}),retrieve:F({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:F({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:F({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:F({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:F({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),attachPayment:F({method:"POST",fullPath:"/v1/invoices/{invoice}/attach_payment"}),createPreview:F({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:F({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:F({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),markUncollectible:F({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:F({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:F({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),search:F({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:F({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:F({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:F({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:F({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})});var tu=t.method,sa=t.extend({retrieve:tu({method:"GET",fullPath:"/v1/mandates/{mandate}"})});var na=t.method,Vo="connect.stripe.com",ia=t.extend({basePath:"/",authorizeUrl(r,e){r=r||{},e=e||{};let o="oauth/authorize";return e.express&&(o=`express/${o}`),r.response_type||(r.response_type="code"),r.client_id||(r.client_id=this._stripe.getClientId()),r.scope||(r.scope="read_write"),`https://${Vo}/${o}?${xe(r)}`},token:na({method:"POST",path:"oauth/token",host:Vo}),deauthorize(r,...e){return r.client_id||(r.client_id=this._stripe.getClientId()),na({method:"POST",path:"oauth/deauthorize",host:Vo}).apply(this,[r,...e])}});var aa=t.method,ca=t.extend({retrieve:aa({method:"GET",fullPath:"/v1/payment_attempt_records/{id}"}),list:aa({method:"GET",fullPath:"/v1/payment_attempt_records",methodType:"list"})});var oe=t.method,la=t.extend({create:oe({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:oe({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:oe({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:oe({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:oe({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:oe({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:oe({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:oe({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:oe({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),listAmountDetailsLineItems:oe({method:"GET",fullPath:"/v1/payment_intents/{intent}/amount_details_line_items",methodType:"list"}),search:oe({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:oe({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})});var zt=t.method,ua=t.extend({create:zt({method:"POST",fullPath:"/v1/payment_links"}),retrieve:zt({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:zt({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:zt({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:zt({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})});var Jr=t.method,da=t.extend({create:Jr({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:Jr({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:Jr({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:Jr({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})});var $t=t.method,pa=t.extend({create:$t({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:$t({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:$t({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:$t({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:$t({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})});var it=t.method,ha=t.extend({create:it({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:it({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:it({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:it({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:it({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:it({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})});var Ae=t.method,ma=t.extend({retrieve:Ae({method:"GET",fullPath:"/v1/payment_records/{id}"}),reportPayment:Ae({method:"POST",fullPath:"/v1/payment_records/report_payment"}),reportPaymentAttempt:Ae({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt"}),reportPaymentAttemptCanceled:Ae({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_canceled"}),reportPaymentAttemptFailed:Ae({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_failed"}),reportPaymentAttemptGuaranteed:Ae({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_guaranteed"}),reportPaymentAttemptInformational:Ae({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_informational"}),reportRefund:Ae({method:"POST",fullPath:"/v1/payment_records/{id}/report_refund"})});var at=t.method,fa=t.extend({create:at({method:"POST",fullPath:"/v1/payouts"}),retrieve:at({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:at({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:at({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:at({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:at({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})});var Kt=t.method,va=t.extend({create:Kt({method:"POST",fullPath:"/v1/plans"}),retrieve:Kt({method:"GET",fullPath:"/v1/plans/{plan}"}),update:Kt({method:"POST",fullPath:"/v1/plans/{plan}"}),list:Kt({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:Kt({method:"DELETE",fullPath:"/v1/plans/{plan}"})});var Wt=t.method,Pa=t.extend({create:Wt({method:"POST",fullPath:"/v1/prices"}),retrieve:Wt({method:"GET",fullPath:"/v1/prices/{price}"}),update:Wt({method:"POST",fullPath:"/v1/prices/{price}"}),list:Wt({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:Wt({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})});var ue=t.method,ga=t.extend({create:ue({method:"POST",fullPath:"/v1/products"}),retrieve:ue({method:"GET",fullPath:"/v1/products/{id}"}),update:ue({method:"POST",fullPath:"/v1/products/{id}"}),list:ue({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:ue({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:ue({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:ue({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:ue({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:ue({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:ue({method:"GET",fullPath:"/v1/products/search",methodType:"search"})});var Yr=t.method,Ta=t.extend({create:Yr({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:Yr({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:Yr({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:Yr({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})});var de=t.method,ya=t.extend({create:de({method:"POST",fullPath:"/v1/quotes"}),retrieve:de({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:de({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:de({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:de({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:de({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:de({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:de({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:de({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:de({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})});var Jt=t.method,_a=t.extend({create:Jt({method:"POST",fullPath:"/v1/refunds"}),retrieve:Jt({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:Jt({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:Jt({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:Jt({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})});var zo=t.method,Sa=t.extend({retrieve:zo({method:"GET",fullPath:"/v1/reviews/{review}"}),list:zo({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:zo({method:"POST",fullPath:"/v1/reviews/{review}/approve"})});var ru=t.method,Ea=t.extend({list:ru({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})});var Ne=t.method,xa=t.extend({create:Ne({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:Ne({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:Ne({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:Ne({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:Ne({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:Ne({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:Ne({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})});var Xr=t.method,ba=t.extend({create:Xr({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:Xr({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:Xr({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:Xr({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})});var Yt=t.method,Oa=t.extend({create:Yt({method:"POST",fullPath:"/v1/sources"}),retrieve:Yt({method:"GET",fullPath:"/v1/sources/{source}"}),update:Yt({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:Yt({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:Yt({method:"POST",fullPath:"/v1/sources/{source}/verify"})});var Xt=t.method,Ra=t.extend({create:Xt({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:Xt({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:Xt({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:Xt({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:Xt({method:"DELETE",fullPath:"/v1/subscription_items/{item}"})});var ct=t.method,Aa=t.extend({create:ct({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:ct({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:ct({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:ct({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:ct({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:ct({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})});var ve=t.method,wa=t.extend({create:ve({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:ve({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:ve({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:ve({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:ve({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:ve({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),migrate:ve({method:"POST",fullPath:"/v1/subscriptions/{subscription}/migrate"}),resume:ve({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:ve({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})});var Ca=t.method,Ia=t.extend({retrieve:Ca({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:Ca({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})});var Zr=t.method,Ma=t.extend({create:Zr({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:Zr({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:Zr({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:Zr({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})});var Qr=t.method,ka=t.extend({create:Qr({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:Qr({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:Qr({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:Qr({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})});var Ga=t.method,Da=t.extend({create:Ga({method:"POST",fullPath:"/v1/tokens"}),retrieve:Ga({method:"GET",fullPath:"/v1/tokens/{token}"})});var Zt=t.method,qa=t.extend({create:Zt({method:"POST",fullPath:"/v1/topups"}),retrieve:Zt({method:"GET",fullPath:"/v1/topups/{topup}"}),update:Zt({method:"POST",fullPath:"/v1/topups/{topup}"}),list:Zt({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:Zt({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})});var we=t.method,La=t.extend({create:we({method:"POST",fullPath:"/v1/transfers"}),retrieve:we({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:we({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:we({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:we({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:we({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:we({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:we({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})});var Qt=t.method,Ba=t.extend({create:Qt({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:Qt({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:Qt({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:Qt({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:Qt({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})});var ou=C("apps",{Secrets:ti}),su=C("billing",{Alerts:js,CreditBalanceSummary:tn,CreditBalanceTransactions:on,CreditGrants:sn,MeterEventAdjustments:Tn,MeterEvents:En,Meters:bn}),nu=C("billingPortal",{Configurations:Xs,Sessions:ri}),iu=C("checkout",{Sessions:oi}),au=C("climate",{Orders:Rn,Products:Bn,Suppliers:li}),cu=C("entitlements",{ActiveEntitlements:Us,Features:mn}),lu=C("financialConnections",{Accounts:qs,Sessions:ni,Transactions:fi}),uu=C("forwarding",{Requests:Zn}),du=C("identity",{VerificationReports:xi,VerificationSessions:bi}),pu=C("issuing",{Authorizations:zs,Cardholders:Ws,Cards:Js,Disputes:ln,PersonalizationDesigns:kn,PhysicalBundles:qn,Tokens:di,Transactions:vi}),hu=C("radar",{EarlyFraudWarnings:dn,PaymentEvaluations:Mn,ValueListItems:_i,ValueLists:Si}),mu=C("reporting",{ReportRuns:Jn,ReportTypes:Xn}),fu=C("sigma",{ScheduledQueryRuns:ei}),vu=C("tax",{Associations:Vs,Calculations:Ks,Registrations:Wn,Settings:ai,Transactions:Pi}),Pu=C("terminal",{Configurations:Zs,ConnectionTokens:en,Locations:gn,OnboardingLinks:On,Readers:Fn}),gu=C("testHelpers",{ConfirmationTokens:Qs,Customers:an,Refunds:Kn,TestClocks:ui,Issuing:C("issuing",{Authorizations:$s,Cards:Ys,PersonalizationDesigns:Gn,Transactions:gi}),Terminal:C("terminal",{Readers:Hn}),Treasury:C("treasury",{InboundTransfers:vn,OutboundPayments:An,OutboundTransfers:Cn,ReceivedCredits:Nn,ReceivedDebits:Vn})}),Tu=C("treasury",{CreditReversals:nn,DebitReversals:cn,FinancialAccounts:fn,InboundTransfers:Pn,OutboundPayments:wn,OutboundTransfers:In,ReceivedCredits:jn,ReceivedDebits:$n,TransactionEntries:hi,Transactions:yi}),yu=C("v2",{Billing:C("billing",{MeterEventAdjustments:yn,MeterEventSession:_n,MeterEventStream:Sn,MeterEvents:xn}),Core:C("core",{AccountLinks:ks,AccountTokens:Ds,Accounts:Hs,EventDestinations:pn,Events:hn})});var Fa="api.stripe.com",Ha="443",Na="/v1/",Ua=wo,ja=8e4,Va=5,za=.5,_u=["name","version","url","partner_id"],$a=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],Su=r=>new be(r,t.MAX_BUFFERED_REQUEST_METRICS);function Ka(r,e=Su){o.PACKAGE_VERSION="20.3.1",o.API_VERSION=wo,o.USER_AGENT=Object.assign({bindings_version:o.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},bs()),o.StripeResource=t,o.StripeContext=le,o.resources=lt,o.HttpClient=U,o.HttpClientResponse=We,o.CryptoProvider=Je,o.webhooks=Ms(r);function o(s,n={}){if(!(this instanceof o))return new o(s,n);let i=this._getPropsFromConfig(n);this._platformFunctions=r,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=o.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);let a=i.httpAgent||null;this._api={host:i.host||Fa,port:i.port||Ha,protocol:i.protocol||"https",basePath:Na,version:i.apiVersion||Ua,timeout:Pr("timeout",i.timeout,ja),maxNetworkRetries:Pr("maxNetworkRetries",i.maxNetworkRetries,2),agent:a,httpClient:i.httpClient||(a?this._platformFunctions.createNodeHttpClient(a):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:i.stripeAccount||null,stripeContext:i.stripeContext||null};let l=i.typescript||!1;l!==o.USER_AGENT.typescript&&(o.USER_AGENT.typescript=l),i.appInfo&&this._setAppInfo(i.appInfo),this._prepResources(),this._setAuthenticator(s,i.authenticator),this.errors=wr,this.webhooks=o.webhooks,this._prevRequestMetrics=[],this._enableTelemetry=i.telemetry!==!1,this._requestSender=e(this),this.StripeResource=o.StripeResource}return o.errors=wr,o.createNodeHttpClient=r.createNodeHttpClient,o.createFetchHttpClient=r.createFetchHttpClient,o.createNodeCryptoProvider=r.createNodeCryptoProvider,o.createSubtleCryptoProvider=r.createSubtleCryptoProvider,o.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(s,n,i,a){return this._requestSender._rawRequest(s,n,i,a)},_setAuthenticator(s,n){if(s&&n)throw new Error("Can't specify both apiKey and authenticator");if(!s&&!n)throw new Error("Neither apiKey nor config.authenticator provided");this._authenticator=s?hr(s):n},_setAppInfo(s){if(s&&typeof s!="object")throw new Error("AppInfo must be an object.");if(s&&!s.name)throw new Error("AppInfo.name is required");s=s||{},this._appInfo=_u.reduce((n,i)=>(typeof s[i]=="string"&&(n=n||{},n[i]=s[i]),n),{})},_setApiField(s,n){this._api[s]=n},getApiField(s){return this._api[s]},setClientId(s){this._clientId=s},getClientId(){return this._clientId},getConstant:s=>{switch(s){case"DEFAULT_HOST":return Fa;case"DEFAULT_PORT":return Ha;case"DEFAULT_BASE_PATH":return Na;case"DEFAULT_API_VERSION":return Ua;case"DEFAULT_TIMEOUT":return ja;case"MAX_NETWORK_RETRY_DELAY_SEC":return Va;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return za}return o[s]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(s,n,i){let a=Pr(s,n,i);this._setApiField(s,a)},getMaxNetworkRetryDelay(){return Va},getInitialNetworkRetryDelay(){return za},getClientUserAgent(s){return this.getClientUserAgentSeeded(o.USER_AGENT,s)},getClientUserAgentSeeded(s,n){this._platformFunctions.getUname().then(i=>{var a;let l={};for(let p in s)!Object.prototype.hasOwnProperty.call(s,p)||(l[p]=encodeURIComponent((a=s[p])!==null&&a!==void 0?a:"null"));l.uname=encodeURIComponent(i||"UNKNOWN");let u=this.getApiField("httpClient");u&&(l.httplib=encodeURIComponent(u.getClientName())),this._appInfo&&(l.application=this._appInfo),n(JSON.stringify(l))})},getAppInfoAsString(){if(!this._appInfo)return"";let s=this._appInfo.name;return this._appInfo.version&&(s+=`/${this._appInfo.version}`),this._appInfo.url&&(s+=` (${this._appInfo.url})`),s},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(let s in lt)!Object.prototype.hasOwnProperty.call(lt,s)||(this[Es(s)]=new lt[s](this))},_getPropsFromConfig(s){if(!s)return{};let n=typeof s=="string";if(!(s===Object(s)&&!Array.isArray(s))&&!n)throw new Error("Config must either be an object or a string");if(n)return{apiVersion:s};if(Object.keys(s).filter(l=>!$a.includes(l)).length>0)throw new Error(`Config object may only contain the following: ${$a.join(", ")}`);return s},parseEventNotification(s,n,i,a,l,u){let p=this.webhooks.constructEvent(s,n,i,a,l,u);return p.context&&(p.context=le.parse(p.context)),p.fetchEvent=()=>this._requestSender._rawRequest("GET",`/v2/core/events/${p.id}`,void 0,{stripeContext:p.context},["fetch_event"]),p.fetchRelatedObject=()=>p.related_object?this._requestSender._rawRequest("GET",p.related_object.url,void 0,{stripeContext:p.context},["fetch_related_object"]):Promise.resolve(null),p}},o}var Eu=Ka(new Er),Wa=Eu;var cc=K(ic()),zu=new Wa(cc.STRIPE_API_KEY,{httpClient:(0,ac.createHttpClient)(),apiVersion:"2026-01-28.clover"}),Ue=zu;var $o=["customers","subscriptions","invoices","charges","products","prices"];function $u(r){return v(this,null,function*(){switch(r){case"customers":return Ue.customers.list({limit:100});case"subscriptions":return Ue.subscriptions.list({limit:100});case"invoices":return Ue.invoices.list({limit:100});case"charges":return Ue.charges.list({limit:100});case"products":return Ue.products.list({limit:100});case"prices":return Ue.prices.list({limit:100})}})}function no(){let[r,e]=(0,ut.useState)(!1),[o,s]=(0,ut.useState)({completed:0,total:$o.length}),[n,i]=(0,ut.useState)(null);return{syncAll:(0,ut.useCallback)(()=>v(this,null,function*(){e(!0),i(null),s({completed:0,total:$o.length});try{for(let l of $o){s(p=>ye(j({},p),{current:l}));let u=yield $u(l);u.data.length>0&&(yield re("/sync-data",{method:"POST",body:{objectType:l,records:u.data}})),s(p=>ye(j({},p),{completed:p.completed+1}))}}catch(l){let u=l instanceof Error?l.message:"Sync failed";i(u)}finally{e(!1)}}),[]),syncing:r,progress:o,error:n}}var A=x("react/jsx-runtime"),Ku=({userContext:r,environment:e})=>{var Ko;(r==null?void 0:r.id)&&((Ko=r==null?void 0:r.account)==null?void 0:Ko.id)&&ur(r.id,r.account.id);let[o,s]=(0,B.useState)("loading"),[n,i]=(0,B.useState)([]),[a,l]=(0,B.useState)(null),[u,p]=(0,B.useState)([]),[h,T]=(0,B.useState)(!1),[d,m]=(0,B.useState)(),[P,y]=(0,B.useState)(null),[g,S]=(0,B.useState)([]),[E,_]=(0,B.useState)(!1),{syncAll:b,syncing:D,progress:z,error:I}=no(),ae=(0,B.useCallback)(()=>v(void 0,null,function*(){yield b(),I||($(),s("empty"))}),[b,I]),he=(0,B.useCallback)(()=>v(void 0,null,function*(){var H;try{let ee=((H=(yield re("/chat-conversations")).data)==null?void 0:H.conversations)||[];if(i(ee),ee.length===0){let je=yield $();s(je?"empty":"needs-sync")}else yield rr(ee[0].id),s("chat")}catch(Ce){let ee=yield $();s(ee?"empty":"needs-sync")}}),[]);(0,B.useEffect)(()=>{he()},[he]);let $=()=>v(void 0,null,function*(){var H;try{let ee=((H=(yield re("/insights-welcome")).data)==null?void 0:H.insights)||[];return S(ee),ee.length>0}catch(Ce){return!1}}),rr=H=>v(void 0,null,function*(){var Ce;try{let je=(((Ce=(yield re(`/chat-conversation-detail?conversationId=${H}`)).data)==null?void 0:Ce.messages)||[]).map(Te=>{var pt,ht;return{id:Te.id,role:Te.role,content:Te.content,freshness:(pt=Te.metadata)==null?void 0:pt.freshness,insights:(ht=Te.metadata)==null?void 0:ht.insights}});p(je),l(H)}catch(ee){y("Failed to load conversation")}}),or=(0,B.useCallback)(H=>v(void 0,null,function*(){var je,Te,pt,ht,Wo;y(null);let ee={id:`temp-${Date.now()}`,role:"user",content:H};p(ce=>[...ce,ee]),s("chat"),T(!0),m(Date.now());try{let ce=yield re("/chat-message",{method:"POST",body:{conversationId:a,content:H}}),mt={id:((je=ce.data)==null?void 0:je.message.id)||`msg-${Date.now()}`,role:"assistant",content:((Te=ce.data)==null?void 0:Te.message.content)||"Sorry, I could not generate a response.",freshness:ce.meta,insights:(pt=ce.data)==null?void 0:pt.insights};((ht=ce.data)==null?void 0:ht.conversationId)&&!a&&l(ce.data.conversationId),p(sr=>[...sr,mt])}catch(ce){let mt=ce,sr=(Wo=mt==null?void 0:mt.error)==null?void 0:Wo.code;y(sr==="auth_refresh_failed"?"Your session has expired. Please re-authorize Javelin.":sr==="llm_unavailable"?"AI service is temporarily unavailable. Please try again in a moment.":"Something went wrong. Please try again.")}finally{T(!1),m(void 0)}}),[a]),pc=(0,B.useCallback)(H=>{or(H)},[or]),hc=(0,B.useCallback)(()=>{l(null),p([]),s("empty"),_(!1),$()},[]),mc=(0,B.useCallback)(H=>v(void 0,null,function*(){_(!1),yield rr(H),s("chat")}),[]);return o==="loading"?(0,A.jsx)(w.ContextView,{title:"Javelin",children:(0,A.jsxs)(w.Box,{css:{padding:"medium",stack:"y",gap:"medium",alignX:"center"},children:[(0,A.jsx)(w.Spinner,{}),(0,A.jsx)(w.Inline,{css:{color:"secondary"},children:"Loading Javelin..."})]})}):(0,A.jsx)(w.ContextView,{title:"Javelin",actions:(0,A.jsxs)(w.Box,{css:{stack:"x",gap:"small"},children:[n.length>0&&(0,A.jsx)(w.Button,{type:"secondary",onPress:()=>_(H=>!H),children:"History"}),(0,A.jsx)(w.Button,{type:"secondary",onPress:hc,children:"New chat"})]}),children:(0,A.jsxs)(w.Box,{css:{stack:"y",height:"fill"},children:[P&&(0,A.jsx)(w.Banner,{type:"critical",title:"Error",description:P,onDismiss:()=>y(null)}),I&&(0,A.jsx)(w.Banner,{type:"caution",title:"Sync issue",description:I}),E&&(0,A.jsx)(vs,{conversations:n,activeConversationId:a,onSelectConversation:mc,onClose:()=>_(!1)}),!E&&(0,A.jsxs)(w.Box,{css:{stack:"y",overflow:"auto"},children:[o==="needs-sync"&&!D&&(0,A.jsxs)(w.Box,{css:{padding:"medium",stack:"y",gap:"medium",alignX:"center"},children:[(0,A.jsx)(w.Inline,{css:{font:"heading"},children:"Sync your Stripe data"}),(0,A.jsx)(w.Inline,{css:{color:"secondary"},children:"Javelin needs to sync your Stripe data before it can generate insights. This usually takes less than a minute."}),(0,A.jsx)(w.Button,{type:"primary",onPress:ae,children:"Sync now"})]}),D&&(0,A.jsxs)(w.Box,{css:{padding:"medium",stack:"y",gap:"small",alignX:"center"},children:[(0,A.jsx)(w.Spinner,{}),(0,A.jsxs)(w.Inline,{css:{color:"secondary"},children:["Syncing your data... (",z.completed,"/",z.total,")"]})]}),o==="empty"&&!D&&u.length===0?(0,A.jsx)(fs,{onSelectPrompt:or,insights:g}):o==="chat"||u.length>0?(0,A.jsx)(hs,{messages:u,isThinking:h,thinkingStartedAt:d,onClarificationSelect:pc}):null]}),!E&&o!=="needs-sync"&&!D&&(0,A.jsx)(ms,{onSend:or,disabled:h})]})})},lc=Ku;var dt=K(te()),io=x("react/jsx-runtime"),Wu=({userContext:r})=>(0,io.jsx)(dt.SettingsView,{children:(0,io.jsx)(dt.Box,{css:{padding:"medium"},children:(0,io.jsx)(dt.Inline,{children:"Javelin settings coming soon."})})}),uc=Wu;var G=K(te()),Pe=x("react");var M=x("react/jsx-runtime"),ao={customers:"Customers",subscriptions:"Subscriptions",invoices:"Invoices",charges:"Charges",products:"Products",prices:"Prices"},Ju=({userContext:r,oauthContext:e})=>{var m;(r==null?void 0:r.id)&&((m=r==null?void 0:r.account)==null?void 0:m.id)&&ur(r.id,r.account.id);let[o,s]=(0,Pe.useState)("auth"),[n,i]=(0,Pe.useState)(""),[a,l]=(0,Pe.useState)(!1),{syncAll:u,syncing:p,progress:h,error:T}=no(),d=(0,Pe.useCallback)(()=>v(void 0,null,function*(){if((e==null?void 0:e.code)&&!(e!=null&&e.error))try{yield re("/auth-callback",{method:"POST",body:{code:e.code,state:e.state||"",verifier:e.verifier||""}}),l(!0)}catch(P){console.warn("auth-callback failed, proceeding with SDK-based sync")}s("syncing");try{if(yield u(),a)try{yield re("/sync-trigger",{method:"POST",body:{}})}catch(P){}s("success")}catch(P){s("error"),i("Failed to sync your Stripe data. Please try again.")}}),[e,u,a]);return(0,Pe.useEffect)(()=>{d()},[d]),(0,Pe.useEffect)(()=>{T&&(s("error"),i(T))},[T]),(0,M.jsx)(G.ContextView,{title:"Welcome to Javelin",children:(0,M.jsxs)(G.Box,{css:{padding:"medium",stack:"y",gap:"medium",alignX:"center"},children:[(o==="auth"||o==="syncing"&&p)&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(G.Spinner,{}),(0,M.jsx)(G.Inline,{css:{font:"heading"},children:o==="auth"?"Connecting to Stripe...":"Syncing your data..."}),o==="syncing"&&h.current&&(0,M.jsxs)(G.Box,{css:{stack:"y",gap:"small",width:"fill"},children:[(0,M.jsxs)(G.Inline,{css:{color:"secondary"},children:["Syncing ",ao[h.current]||h.current," (",h.completed+1,"/",h.total,")"]}),Object.keys(ao).map(P=>{let g=Object.keys(ao).indexOf(P)<h.completed,S=P===h.current;return(0,M.jsxs)(G.Box,{css:{stack:"x",gap:"small",alignY:"center"},children:[g&&(0,M.jsx)(G.Icon,{name:"check"}),S&&(0,M.jsx)(G.Spinner,{size:"small"}),(0,M.jsx)(G.Inline,{css:{color:g||S?"primary":"secondary"},children:ao[P]})]},P)})]})]}),o==="success"&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(G.Banner,{type:"default",title:"Setup complete!",description:"Javelin is ready. Your data has been synced \u2014 you can start asking questions right away."}),(0,M.jsx)(G.Inline,{css:{color:"secondary"},children:"Open the Javelin drawer from any page in your Stripe Dashboard to get started."})]}),o==="error"&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(G.Banner,{type:"critical",title:"Setup failed",description:n}),(0,M.jsx)(G.Button,{type:"primary",onPress:d,children:"Retry"})]})]})})},dc=Ju;_e(ge,K(lo()));var Yu="2026-02-13 09:52:47.528856 -0300 -03 m=+8.814534654";var Xu={allowed_redirect_uris:["https://dashboard.stripe.com/test/apps-oauth/com.javelin.analytics","https://dashboard.stripe.com/apps-oauth/com.javelin.analytics"],connect_permissions:null,distribution_type:"private",icon:"./icon.png",id:"com.javelin.analytics",name:"Javelin",permissions:[{permission:"customer_read",purpose:"Read customer data to calculate business metrics and answer questions about your customer base"},{permission:"invoice_read",purpose:"Read invoice data to calculate revenue, MRR, and other billing metrics"},{permission:"charge_read",purpose:"Read charge data to analyze payment volume and revenue trends"},{permission:"subscription_read",purpose:"Read subscription data to calculate MRR, churn rate, and subscription analytics"},{permission:"product_read",purpose:"Read product data to break down revenue and metrics by product"},{permission:"plan_read",purpose:"Read price and plan data to analyze plan-level revenue and subscriber counts"},{permission:"secret_write",purpose:"Store and manage OAuth tokens securely via the Secret Store API"}],sandbox_install_compatible:!0,stripe_api_access_type:"oauth",ui_extension:{content_security_policy:{"connect-src":["https://tecvycpmzcxxoqmtttjy.supabase.co/functions/v1/","https://openrouter.ai/api/","https://api.openai.com/v1/"],"image-src":null,purpose:"Connect to Supabase backend for data processing and LLM provider for AI-powered business intelligence"},views:[{component:"ChatView",viewport:"stripe.dashboard.drawer.default"},{component:"SettingsView",viewport:"settings"},{component:"OnboardingView",viewport:"onboarding"}]},version:"0.0.5"};return Sc(ge);})();
//# sourceMappingURL=ext.min.js.map
