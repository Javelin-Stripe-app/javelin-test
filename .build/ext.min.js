"use strict";var __StripeExtExports=(()=>{var Oc=Object.create;var yt=Object.defineProperty,Ac=Object.defineProperties,Rc=Object.getOwnPropertyDescriptor,wc=Object.getOwnPropertyDescriptors,Cc=Object.getOwnPropertyNames,os=Object.getOwnPropertySymbols,Ic=Object.getPrototypeOf,ns=Object.prototype.hasOwnProperty,Mc=Object.prototype.propertyIsEnumerable;var ss=(t,e,o)=>e in t?yt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,V=(t,e)=>{for(var o in e||(e={}))ns.call(e,o)&&ss(t,o,e[o]);if(os)for(var o of os(e))Mc.call(e,o)&&ss(t,o,e[o]);return t},Ee=(t,e)=>Ac(t,wc(e));var x=(t=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(t,{get:(e,o)=>(typeof require!="undefined"?require:e)[o]}):t)(function(t){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var A=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),mo=(t,e)=>{for(var o in e)yt(t,o,{get:e[o],enumerable:!0})},ur=(t,e,o,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Cc(e))!ns.call(t,n)&&n!==o&&yt(t,n,{get:()=>e[n],enumerable:!(s=Rc(e,n))||s.enumerable});return t},xe=(t,e,o)=>(ur(t,e,"default"),o&&ur(o,e,"default")),K=(t,e,o)=>(o=t!=null?Oc(Ic(t)):{},ur(e||!t||!t.__esModule?yt(o,"default",{value:t,enumerable:!0}):o,t)),kc=t=>ur(yt({},"__esModule",{value:!0}),t);var f=(t,e,o)=>new Promise((s,n)=>{var i=u=>{try{l(o.next(u))}catch(p){n(p)}},a=u=>{try{l(o.throw(u))}catch(p){n(p)}},l=u=>u.done?s(u.value):Promise.resolve(u.value).then(i,a);l((o=o.apply(t,e)).next())});var fo=A(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.SDK_VERSION=void 0;dr.SDK_VERSION="9.1.0"});var ne=A(c=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.TableHeaderCell=c.TableHead=c.TableFooter=c.TableCell=c.TableBody=c.Tab=c.TabPanels=c.TabPanel=c.TabList=c.Switch=c.StripeFileUploader=c.Spinner=c.Sparkline=c.SignInView=c.SettingsView=c.Select=c.Radio=c.PropertyList=c.PropertyListItem=c.PlatformConfigurationView=c.OnboardingView=c.Menu=c.MenuItem=c.MenuGroup=c.List=c.ListItem=c.Link=c.LineChart=c.Inline=c.Img=c.Icon=c.FormFieldGroup=c.FocusView=c.Divider=c.DetailPageTable=c.DetailPagePropertyList=c.DetailPageModule=c.DateField=c.ContextView=c.Chip=c.ChipList=c.Checkbox=c.Button=c.ButtonGroup=c.Box=c.BarChart=c.Banner=c.Badge=c.Accordion=c.AccordionItem=void 0;c.Tooltip=c.TextField=c.TextArea=c.TaskList=c.TaskListItem=c.Tabs=c.TableRow=c.Table=void 0;var Gc=x("react/jsx-runtime"),Dc=x("@remote-ui/react"),qc=fo(),Bc=t=>{let e=t.displayName||t.toString(),o=s=>(0,Gc.jsx)(t,Ee(V({},s),{wrappedComponentName:e,sdkVersion:qc.SDK_VERSION,schemaVersion:"v9"}));return o.wrappedComponentName=e,o},P=(t,e,o)=>{let s=(0,Dc.createRemoteReactComponent)(t,{fragmentProps:e});return o?Bc(s):s};c.AccordionItem=P("AccordionItem",["title","actions","media","subtitle"],!0);c.Accordion=P("Accordion",[],!0);c.Badge=P("Badge",[],!0);c.Banner=P("Banner",["actions","description","title"],!0);c.BarChart=P("BarChart",[],!0);c.Box=P("Box",[],!0);c.ButtonGroup=P("ButtonGroup",["menuTrigger"],!0);c.Button=P("Button",[],!0);c.Checkbox=P("Checkbox",["label"],!0);c.ChipList=P("ChipList",[],!0);c.Chip=P("Chip",[],!0);c.ContextView=P("ContextView",["actions","banner","footerContent","primaryAction","secondaryAction"],!0);c.DateField=P("DateField",["label"],!0);c.DetailPageModule=P("DetailPageModule",[],!0);c.DetailPagePropertyList=P("DetailPagePropertyList",[],!0);c.DetailPageTable=P("DetailPageTable",[],!0);c.Divider=P("Divider",[],!0);c.FocusView=P("FocusView",["footerContent","primaryAction","secondaryAction"],!0);c.FormFieldGroup=P("FormFieldGroup",[],!0);c.Icon=P("Icon",[],!0);c.Img=P("Img",[],!0);c.Inline=P("Inline",[],!0);c.LineChart=P("LineChart",[],!0);c.Link=P("Link",[],!0);c.ListItem=P("ListItem",["icon","image","secondaryTitle","title","value"],!0);c.List=P("List",[],!0);c.MenuGroup=P("MenuGroup",["title"],!0);c.MenuItem=P("MenuItem",[],!0);c.Menu=P("Menu",["trigger"],!0);c.OnboardingView=P("OnboardingView",["error"],!0);c.PlatformConfigurationView=P("PlatformConfigurationView",[],!0);c.PropertyListItem=P("PropertyListItem",["label","value"],!0);c.PropertyList=P("PropertyList",[],!0);c.Radio=P("Radio",["label"],!0);c.Select=P("Select",["label"],!0);c.SettingsView=P("SettingsView",[],!0);c.SignInView=P("SignInView",["descriptionActionContents","footerContent"],!0);c.Sparkline=P("Sparkline",[],!0);c.Spinner=P("Spinner",[],!0);c.StripeFileUploader=P("StripeFileUploader",[],!0);c.Switch=P("Switch",["label"],!0);c.TabList=P("TabList",[],!0);c.TabPanel=P("TabPanel",[],!0);c.TabPanels=P("TabPanels",[],!0);c.Tab=P("Tab",[],!0);c.TableBody=P("TableBody",[],!0);c.TableCell=P("TableCell",[],!0);c.TableFooter=P("TableFooter",[],!0);c.TableHead=P("TableHead",[],!0);c.TableHeaderCell=P("TableHeaderCell",[],!0);c.Table=P("Table",[],!0);c.TableRow=P("TableRow",[],!0);c.Tabs=P("Tabs",[],!0);c.TaskListItem=P("TaskListItem",[],!0);c.TaskList=P("TaskList",[],!0);c.TextArea=P("TextArea",["label"],!0);c.TextField=P("TextField",["label"],!0);c.Tooltip=P("Tooltip",["trigger"],!0)});var Po=A((Pd,as)=>{"use strict";var Fc=function(t,e,o,s,n,i,a,l){if(!t){var u;if(e===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[o,s,n,i,a,l],h=0;u=new Error(e.replace(/%s/g,function(){return p[h++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};as.exports=Fc});var Z=A($e=>{"use strict";var Hc=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($e,"__esModule",{value:!0});$e.getHostEndpoint=void 0;var Nc=Hc(Po()),Uc=()=>{var e;let t=(e=globalThis.__StripeExtExports)==null?void 0:e.endpoint;return(0,Nc.default)(t,"hostEndpoint has not been initialized"),t};$e.getHostEndpoint=Uc});var vo=A(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.supportsFetchAppEmbeddedKey=void 0;var jc=Z(),Vc=()=>f(Tt,null,function*(){return(0,jc.getHostEndpoint)().call.supportsFetchAppEmbeddedKey().then(t=>t).catch(()=>!1)});Tt.supportsFetchAppEmbeddedKey=Vc});var cs=A(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.fetchAppEmbeddedKey=void 0;var zc=Z(),$c=()=>f(_t,null,function*(){let t=yield(0,zc.getHostEndpoint)().call.fetchAppEmbeddedKey();if(!t)throw new Error("Unable to fetch app embedded key");return t});_t.fetchAppEmbeddedKey=$c});var ls=A(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.fetchViaFrame=void 0;var Kc=cs(),Wc=(o,...s)=>f(St,[o,...s],function*(t,e={}){let n=yield(0,Kc.fetchAppEmbeddedKey)(),i=Ee(V({},e),{headers:Ee(V({},e.headers),{Authorization:`Bearer ${n}`})}),a=yield fetch(t,i),l={};a.headers.forEach((p,h)=>{l[h]=p});let u={json:void 0,arrayBuffer:void 0,headers:l,ok:a.ok,redirected:a.redirected,status:a.status,statusText:a.statusText,type:a.type,url:a.url};switch(a.headers.get("Content-Type")){case"application/json":u.json=yield a.json();break;default:u.arrayBuffer=yield a.arrayBuffer();break}return u});St.fetchViaFrame=Wc});var us=A(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.fetchViaHost=void 0;var Yc=Z(),Jc=(o,...s)=>f(Et,[o,...s],function*(t,e={}){let n=new URL(t);return(0,Yc.getHostEndpoint)().call.stripeApiFetch(n.pathname+n.search,e)});Et.fetchViaHost=Jc});var ds=A(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.selectPreferredStripeApiFetch=void 0;var Xc=vo(),Zc=ls(),Qc=us(),go=null,el=()=>f(xt,null,function*(){return go||(go=(yield(0,Xc.supportsFetchAppEmbeddedKey)())?Zc.fetchViaFrame:Qc.fetchViaHost),go});xt.selectPreferredStripeApiFetch=el});var ps=A(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.selectPreferredStripeApiFetch=void 0;var tl=ds();Object.defineProperty(pr,"selectPreferredStripeApiFetch",{enumerable:!0,get:function(){return tl.selectPreferredStripeApiFetch}})});var yo=A(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.stripeApiFetch=void 0;var rl=ps(),ol=(t,e)=>f(bt,null,function*(){return(yield(0,rl.selectPreferredStripeApiFetch)())(t,e)});bt.stripeApiFetch=ol});var Ot=A(W=>{"use strict";var sl=W&&W.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(W,"__esModule",{value:!0});W.AUTHORIZATION_VALUE=W.AUTHORIZATION_HEADER=W.createHttpClient=W.STRIPE_API_KEY=W.StripeAppsHttpClient=void 0;var nl=sl(Po()),il=yo(),al=/[ps]k_(test|live)_[A-Za-z0-9]+/,To=class{constructor(e){this._resp=e}getHeaders(){return this._resp.headers}getStatusCode(){return this._resp.status}getRawResponse(){return this._resp}toStream(){throw new Error("Streams have not been implemented in the Stripe HTTP client")}toJSON(){let{json:e}=this._resp;return e===void 0?Promise.reject(new Error("Response body undefined")):Promise.resolve(e)}},hr=class{constructor(e){this._fetch=e}getClientName(){return"stripe-ui-extension"}makeRequest(e,o,s,n,i,a,l,u){return f(this,null,function*(){(0,nl.default)(l==="https","Must use https connections in UI extensions");let p={method:n,headers:i};a&&(p.body=a);let h=i.Authorization;if(h&&al.test(h))throw new Error("Do not use actual stripe keys when using the Stripe JS API client with UI extesions.\n\n Instead, use `STRIPE_API_KEY` from `@stripe/ui-extension-sdk/http_client` as a placeholder.");let g=new URL(s,`${l}://${e}`),d=yield this._fetch(g.toString(),p);return new To(d)})}};W.StripeAppsHttpClient=hr;W.STRIPE_API_KEY="DO_NOT_PASS_A_REAL_API_KEY";var cl=()=>new hr(il.stripeApiFetch);W.createHttpClient=cl;W.AUTHORIZATION_HEADER="Authorization";W.AUTHORIZATION_VALUE=`Bearer ${W.STRIPE_API_KEY}`});var hs=A(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.createFetchStripeSignatureDirectly=void 0;var ll=Ot(),ul=({host:t,port:e})=>o=>f(At,null,function*(){let s=new URL(`https://${t}:${e}/v1/apps/app_embedded_backend_signature`);return s.searchParams.set("payload",JSON.stringify(V({},o))),s.searchParams.set("include_only[]","signature"),(0,ll.createHttpClient)().makeRequest(t,e,s.pathname+s.search,"GET",{},null,"https").then(a=>a.toJSON()).then(a=>a.signature)});At.createFetchStripeSignatureDirectly=ul});var _o=A(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.setConnectionSettings=De.connectionSettings=void 0;var ms={host:"api.stripe.com",port:443};De.connectionSettings=ms;var dl=t=>{De.connectionSettings=V(V({},ms),t)};De.setConnectionSettings=dl});var So=A(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.fetchStripeSignature=void 0;var pl=hs(),hl=vo(),ml=_o(),fl=Z(),Pl=t=>f(Rt,null,function*(){return(yield(0,hl.supportsFetchAppEmbeddedKey)())?(0,pl.createFetchStripeSignatureDirectly)(ml.connectionSettings)(t):(0,fl.getHostEndpoint)().call.fetchStripeSignature(t)});Rt.fetchStripeSignature=Pl});var fs=A(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});var vl=So();Eo.default=vl.fetchStripeSignature});var bs=A(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.createHttpClient=le.STRIPE_API_KEY=le.AUTHORIZATION_VALUE=le.AUTHORIZATION_HEADER=void 0;var wt=Ot();Object.defineProperty(le,"AUTHORIZATION_HEADER",{enumerable:!0,get:function(){return wt.AUTHORIZATION_HEADER}});Object.defineProperty(le,"AUTHORIZATION_VALUE",{enumerable:!0,get:function(){return wt.AUTHORIZATION_VALUE}});Object.defineProperty(le,"STRIPE_API_KEY",{enumerable:!0,get:function(){return wt.STRIPE_API_KEY}});Object.defineProperty(le,"createHttpClient",{enumerable:!0,get:function(){return wt.createHttpClient}});le.default=wt.StripeAppsHttpClient});var oc=A(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.clipboardWriteText=void 0;var Du=Z(),qu=(t="")=>(0,Du.getHostEndpoint)().call.clipboardWriteText(t);so.clipboardWriteText=qu});var sc=A(Pe=>{"use strict";var Bu=Pe&&Pe.__createBinding||(Object.create?function(t,e,o,s){s===void 0&&(s=o);var n=Object.getOwnPropertyDescriptor(e,o);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[o]}}),Object.defineProperty(t,s,n)}:function(t,e,o,s){s===void 0&&(s=o),t[s]=e[o]}),Lu=Pe&&Pe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Fu=Pe&&Pe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var o in t)o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)&&Bu(e,t,o);return Lu(e,t),e};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.useRefreshDashboardData=void 0;var Hu=Fu(x("react")),Nu=Z(),Uu=()=>Hu.useCallback(()=>(0,Nu.getHostEndpoint)().call.refreshDashboardData(),[]);Pe.useRefreshDashboardData=Uu});var ic=A(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.getDashboardUserEmail=void 0;var ju=Z(),nc=Ot(),Vu=()=>f(sr,null,function*(){try{let t=yield(0,ju.getHostEndpoint)().call.stripeApiFetch("/v1/user/email",{headers:{[nc.AUTHORIZATION_HEADER]:nc.AUTHORIZATION_VALUE}});return t.ok?(t.email=t.json.email,t):Promise.reject(t)}catch(t){throw console.error("Error getting dashboard user email",t),t}});sr.getDashboardUserEmail=Vu});var ac=A(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.getUserAuthorizedPermissions=void 0;var zu=Z(),$u=()=>(0,zu.getHostEndpoint)().call.getUserAuthorizedPermissions();no.getUserAuthorizedPermissions=$u});var cc=A(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.isPermissionAuthorized=void 0;var Ku=Z(),Wu=t=>(0,Ku.getHostEndpoint)().call.isPermissionAuthorized(t);io.isPermissionAuthorized=Wu});var lc=A(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.isSourceInAuthorizedCSP=void 0;var Yu=Z(),Ju=t=>(0,Yu.getHostEndpoint)().call.isSourceInAuthorizedCSP(t);ao.isSourceInAuthorizedCSP=Ju});var uc=A(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.createOAuthState=void 0;var Xu=Z(),Zu=(t="")=>(0,Xu.getHostEndpoint)().call.createOAuthState(t);co.createOAuthState=Zu});var pc=A(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0})});var hc=A(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.showToast=void 0;var Qu=Z(),ed=(o,...s)=>f(nr,[o,...s],function*(t,e={}){return(0,Qu.getHostEndpoint)().call.showToast(t,e)});nr.showToast=ed});var mc=A(F=>{"use strict";var td=F&&F.__createBinding||(Object.create?function(t,e,o,s){s===void 0&&(s=o);var n=Object.getOwnPropertyDescriptor(e,o);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[o]}}),Object.defineProperty(t,s,n)}:function(t,e,o,s){s===void 0&&(s=o),t[s]=e[o]}),ee=F&&F.__exportStar||function(t,e){for(var o in t)o!=="default"&&!Object.prototype.hasOwnProperty.call(e,o)&&td(e,t,o)};Object.defineProperty(F,"__esModule",{value:!0});ee(Z(),F);ee(yo(),F);ee(oc(),F);ee(sc(),F);ee(ic(),F);ee(ac(),F);ee(Ot(),F);ee(cc(),F);ee(lc(),F);ee(uc(),F);ee(pc(),F);ee(So(),F);ee(hc(),F);ee(_o(),F)});var _e={};mo(_e,{BUILD_TIME:()=>ld,ChatView:()=>vc,OnboardingView:()=>Tc,SettingsView:()=>yc,default:()=>ud});var w=K(ne()),M=x("react");var bo=K(ne());var be=K(ne()),Ge=x("react/jsx-runtime"),Lc=({role:t,content:e,freshness:o})=>{let s=t==="user";return(0,Ge.jsxs)(be.Box,{css:{padding:"medium",backgroundColor:s?"container":void 0,stack:"y",gap:"small"},children:[(0,Ge.jsx)(be.Inline,{css:{fontWeight:"semibold",color:"secondary"},children:s?"You":"Javelin"}),(0,Ge.jsx)(be.Inline,{children:e}),o&&!s&&(0,Ge.jsx)(be.Box,{css:{marginTop:"xsmall"},children:(0,Ge.jsx)(be.Badge,{type:o.type==="live"?"positive":"info",children:o.type==="live"?"Live data":`Data as of ${o.syncedAt?new Date(o.syncedAt).toLocaleString():"cache"}`})})]})},is=Lc;var ce=K(ne()),xo=x("react");var vs=K(fs());var Ps,gl=typeof process!="undefined"&&((Ps=process.env)==null?void 0:Ps.SUPABASE_FUNCTIONS_URL)?process.env.SUPABASE_FUNCTIONS_URL:"https://tecvycpmzcxxoqmtttjy.supabase.co/functions/v1",mr=null;function Ke(t,e){mr={userId:t,accountId:e}}function Y(o){return f(this,arguments,function*(t,e={}){if(!mr)throw new Error("apiClient not initialized \u2014 call initApiClient first");let s="";try{s=yield(0,vs.default)()}catch(l){console.warn("fetchStripeSignature failed \u2014 sending unsigned request")}let n=e.method||"POST",i=V({user_id:mr.userId,account_id:mr.accountId},e.body&&typeof e.body=="object"?e.body:{}),a=yield fetch(`${gl}${t}`,{method:n,headers:V({"Content-Type":"application/json"},s?{"stripe-signature":s}:{}),body:JSON.stringify(i)});if(!a.ok)throw yield a.json();return a.json()})}var ge=x("react/jsx-runtime"),yl=({insightId:t,messageId:e,content:o})=>{let[s,n]=(0,xo.useState)(null),[i,a]=(0,xo.useState)(!1),l=u=>f(void 0,null,function*(){if(!(i||s)){a(!0);try{yield Y("/insights-feedback",{method:"POST",body:{insightId:t,messageId:e,rating:u}}),n(u)}catch(p){}finally{a(!1)}}});return(0,ge.jsxs)(ce.Box,{css:{padding:"small",stack:"y",gap:"small"},children:[(0,ge.jsx)(ce.Banner,{type:"default",title:"Insight",description:o}),(0,ge.jsxs)(ce.Box,{css:{stack:"x",gap:"small"},children:[(0,ge.jsx)(ce.Button,{type:s==="positive"?"primary":"secondary",size:"small",disabled:i||s!==null,onPress:()=>l("positive"),children:(0,ge.jsx)(ce.Inline,{children:s==="positive"?"Helpful":"Helpful?"})}),(0,ge.jsx)(ce.Button,{type:s==="negative"?"primary":"secondary",size:"small",disabled:i||s!==null,onPress:()=>l("negative"),children:(0,ge.jsx)(ce.Inline,{children:s==="negative"?"Not helpful":"Not helpful?"})})]})]})},gs=yl;var ye=K(ne()),fr=x("react"),qe=x("react/jsx-runtime"),Tl=({startedAt:t})=>{let[e,o]=(0,fr.useState)(0);(0,fr.useEffect)(()=>{let n=setInterval(()=>{o(Math.floor((Date.now()-t)/1e3))},1e3);return()=>clearInterval(n)},[t]);let s=e>=5?"Fetching fresh data from Stripe...":"Analyzing your data...";return(0,qe.jsxs)(ye.Box,{css:{padding:"medium",stack:"y",gap:"small"},children:[(0,qe.jsxs)(ye.Box,{css:{stack:"x",gap:"small",alignY:"center"},children:[(0,qe.jsx)(ye.Spinner,{size:"small"}),(0,qe.jsx)(ye.Inline,{css:{color:"secondary"},children:s})]}),e>=5&&(0,qe.jsx)(ye.Banner,{type:"default",description:"Still working \u2014 fetching the latest data from Stripe to give you an accurate answer."})]})},ys=Tl;var Be=K(ne()),We=x("react/jsx-runtime"),_l=({question:t,options:e,onSelect:o})=>(0,We.jsxs)(Be.Box,{css:{padding:"medium",stack:"y",gap:"small"},children:[(0,We.jsx)(Be.Banner,{type:"default",title:"Clarification needed",description:t}),(0,We.jsx)(Be.Box,{css:{stack:"x",gap:"small",wrap:"wrap"},children:e.map(s=>(0,We.jsx)(Be.Button,{type:"secondary",size:"small",onPress:()=>o(s.value),children:s.label},s.value))})]}),Ts=_l;var Oe=x("react/jsx-runtime"),Sl=({messages:t,isThinking:e,thinkingStartedAt:o,onClarificationSelect:s})=>(0,Oe.jsxs)(bo.Box,{css:{stack:"y",gap:"xsmall",overflow:"auto"},children:[t.map(n=>{var i;return(0,Oe.jsxs)(bo.Box,{css:{stack:"y"},children:[(0,Oe.jsx)(is,{role:n.role,content:n.content,freshness:n.freshness}),(i=n.insights)==null?void 0:i.map(a=>(0,Oe.jsx)(gs,{insightId:a.id,messageId:n.id,content:a.content},a.id)),n.clarification&&s&&(0,Oe.jsx)(Ts,{question:n.clarification.question,options:n.clarification.options,onSelect:s})]},n.id)}),e&&o&&(0,Oe.jsx)(ys,{startedAt:o})]}),_s=Sl;var Le=K(ne()),Pr=x("react"),Ye=x("react/jsx-runtime"),El=({onSend:t,disabled:e=!1,initialValue:o=""})=>{let[s,n]=(0,Pr.useState)(o),i=(0,Pr.useCallback)(()=>{let a=s.trim();!a||e||(t(a),n(""))},[s,e,t]);return(0,Ye.jsxs)(Le.Box,{css:{stack:"x",gap:"small",alignY:"bottom",padding:"small"},children:[(0,Ye.jsx)(Le.Box,{css:{width:"fill"},children:(0,Ye.jsx)(Le.TextArea,{label:"Ask a question",placeholder:"What's my MRR?",value:s,onChange:a=>n(a.target.value),rows:2,disabled:e})}),(0,Ye.jsx)(Le.Button,{type:"primary",onPress:i,disabled:e||!s.trim(),children:"Send"})]})},Ss=El;var N=K(ne()),z=x("react/jsx-runtime"),xl=[{label:"What's my MRR?",value:"What's my MRR?"},{label:"How's churn trending?",value:"How is my churn rate trending over the last 3 months?"},{label:"Revenue by product",value:"What's my revenue breakdown by product?"},{label:"Top customers",value:"Who are my top 10 customers by revenue?"},{label:"Growth rate",value:"What's my MRR growth rate?"}],bl=({onSelectPrompt:t,insights:e})=>(0,z.jsxs)(N.Box,{css:{padding:"medium",stack:"y",gap:"medium"},children:[(0,z.jsxs)(N.Box,{css:{stack:"y",gap:"small"},children:[(0,z.jsx)(N.Inline,{css:{font:"heading"},children:"Welcome to Javelin"}),(0,z.jsx)(N.Inline,{css:{color:"secondary"},children:"Ask me anything about your Stripe business. I can calculate metrics, analyze trends, and surface insights from your data."})]}),e&&e.length>0&&(0,z.jsxs)(N.Box,{css:{stack:"y",gap:"small"},children:[(0,z.jsx)(N.Inline,{css:{fontWeight:"semibold"},children:"Recent insights"}),e.map(o=>(0,z.jsx)(N.Box,{css:{padding:"small",backgroundColor:"container",stack:"y",gap:"xsmall"},children:(0,z.jsx)(N.Inline,{css:{color:"secondary"},children:o.content})},o.id))]}),(0,z.jsxs)(N.Box,{css:{stack:"y",gap:"small"},children:[(0,z.jsx)(N.Inline,{css:{fontWeight:"semibold"},children:"Try asking"}),(0,z.jsx)(N.Box,{css:{stack:"x",gap:"small",wrap:"wrap"},children:xl.map(o=>(0,z.jsx)(N.Button,{type:"secondary",size:"small",onPress:()=>t(o.value),children:o.label},o.value))})]}),(0,z.jsx)(N.Box,{css:{marginTop:"small"},children:(0,z.jsx)(N.Inline,{css:{font:"caption",color:"secondary"},children:"Javelin provides informational insights only, not financial or business advice. Always verify important decisions with your own analysis."})})]}),Es=bl;var J=K(ne()),Q=x("react/jsx-runtime"),Ol=({conversations:t,activeConversationId:e,onSelectConversation:o,onClose:s})=>t.length===0?(0,Q.jsxs)(J.Box,{css:{padding:"medium",stack:"y",gap:"small",alignX:"center"},children:[(0,Q.jsx)(J.Inline,{css:{color:"secondary"},children:"No conversations yet."}),(0,Q.jsx)(J.Inline,{css:{color:"secondary"},children:"Start by asking a question below."})]}):(0,Q.jsxs)(J.Box,{css:{stack:"y",gap:"xsmall",padding:"small"},children:[(0,Q.jsxs)(J.Box,{css:{stack:"x",distribute:"space-between",alignY:"center",padding:"xsmall"},children:[(0,Q.jsx)(J.Inline,{css:{fontWeight:"semibold"},children:"Conversations"}),(0,Q.jsx)(J.Button,{type:"secondary",size:"small",onPress:s,children:"Close"})]}),t.map(n=>(0,Q.jsx)(J.Box,{css:{padding:"small",backgroundColor:n.id===e?"container":void 0,stack:"y",gap:"xsmall"},children:(0,Q.jsx)(J.Button,{type:"secondary",size:"small",onPress:()=>o(n.id),children:(0,Q.jsxs)(J.Box,{css:{stack:"y",gap:"xsmall",width:"fill"},children:[(0,Q.jsx)(J.Inline,{css:{fontWeight:n.id===e?"semibold":"regular"},children:n.title||"Untitled conversation"}),(0,Q.jsx)(J.Inline,{css:{font:"caption",color:"secondary"},children:new Date(n.updatedAt).toLocaleDateString()})]})})},n.id))]}),xs=Ol;var ke=x("react");var fc=K(bs());var Oo=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders","streaming"];function As(t){return t&&typeof t=="object"&&Oo.some(e=>Object.prototype.hasOwnProperty.call(t,e))}function Ae(t,e){return Rl(t)}function Os(t){return encodeURIComponent(t).replace(/!/g,"%21").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27").replace(/%5B/g,"[").replace(/%5D/g,"]")}function Al(t){return t instanceof Date?Math.floor(t.getTime()/1e3).toString():t===null?"":String(t)}function Rl(t){let e=[];function o(s,n){if(n!==void 0){if(n===null||typeof n!="object"||n instanceof Date){e.push(Os(s)+"="+Os(Al(n)));return}if(Array.isArray(n)){for(let i=0;i<n.length;i++)n[i]!==void 0&&o(s+"["+i+"]",n[i]);return}for(let i of Object.keys(n))o(s+"["+i+"]",n[i])}}if(typeof t=="object"&&t!==null)for(let s of Object.keys(t))o(s,t[s]);return e.join("&")}var gr=(()=>{let t={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return e=>{let o=e.replace(/["\n\r\u2028\u2029]/g,s=>t[s]);return s=>o.replace(/\{([\s\S]+?)\}/g,(n,i)=>{let a=s[i];return wl(a)?encodeURIComponent(a):""})}})();function wl(t){return["number","string","boolean"].includes(typeof t)}function Rs(t){let e=t.match(/\{\w+\}/g);return e?e.map(o=>o.replace(/[{}]/g,"")):[]}function Je(t){if(!Array.isArray(t)||!t[0]||typeof t[0]!="object")return{};if(!As(t[0]))return t.shift();let e=Object.keys(t[0]),o=e.filter(s=>Oo.includes(s));return o.length>0&&o.length!==e.length&&It(`Options found in arguments (${o.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function yr(t){let e={host:null,headers:{},settings:{},streaming:!1};if(t.length>0){let o=t[t.length-1];if(typeof o=="string")e.authenticator=vr(t.pop());else if(As(o)){let s=Object.assign({},t.pop()),n=Object.keys(s).filter(i=>!Oo.includes(i));if(n.length&&It(`Invalid options found (${n.join(", ")}); ignoring.`),s.apiKey&&(e.authenticator=vr(s.apiKey)),s.idempotencyKey&&(e.headers["Idempotency-Key"]=s.idempotencyKey),s.stripeAccount&&(e.headers["Stripe-Account"]=s.stripeAccount),s.stripeContext){if(e.headers["Stripe-Account"])throw new Error("Can't specify both stripeAccount and stripeContext.");e.headers["Stripe-Context"]=s.stripeContext}if(s.apiVersion&&(e.headers["Stripe-Version"]=s.apiVersion),Number.isInteger(s.maxNetworkRetries)&&(e.settings.maxNetworkRetries=s.maxNetworkRetries),Number.isInteger(s.timeout)&&(e.settings.timeout=s.timeout),s.host&&(e.host=s.host),s.authenticator){if(s.apiKey)throw new Error("Can't specify both apiKey and authenticator.");if(typeof s.authenticator!="function")throw new Error("The authenticator must be a function receiving a request as the first parameter.");e.authenticator=s.authenticator}s.additionalHeaders&&(e.headers=s.additionalHeaders),s.streaming&&(e.streaming=!0)}}return e}function ws(t){let e=this,o=Object.prototype.hasOwnProperty.call(t,"constructor")?t.constructor:function(...s){e.apply(this,s)};return Object.assign(o,e),o.prototype=Object.create(e.prototype),Object.assign(o.prototype,t),o}function Tr(t){if(typeof t!="object")throw new Error("Argument must be an object");return Object.keys(t).reduce((e,o)=>(t[o]!=null&&(e[o]=t[o]),e),{})}function Cs(t){return t&&typeof t=="object"?Object.keys(t).reduce((e,o)=>(e[Cl(o)]=t[o],e),{}):t}function Cl(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join("-")}function Ct(t,e){return e?t.then(o=>{setTimeout(()=>{e(null,o)},0)},o=>{setTimeout(()=>{e(o,null)},0)}):t}function Is(t){return t==="OAuth"?"oauth":t[0].toLowerCase()+t.substring(1)}function It(t){return typeof process.emitWarning!="function"?console.warn(`Stripe: ${t}`):process.emitWarning(t,"Stripe")}function Il(t){let e=typeof t;return(e==="function"||e==="object")&&!!t}function Ms(t){let e={},o=(s,n)=>{Object.entries(s).forEach(([i,a])=>{let l=n?`${n}[${i}]`:i;if(Il(a)){if(!(a instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(a,"data"))return o(a,l);e[l]=a}else e[l]=String(a)})};return o(t,null),e}function _r(t,e,o){if(!Number.isInteger(e)){if(o!==void 0)return o;throw new Error(`${t} must be an integer`)}return e}function ks(){return typeof process=="undefined"?{}:{lang_version:process.version,platform:process.platform}}function vr(t){let e=o=>(o.headers.Authorization="Bearer "+t,Promise.resolve());return e._apiKey=t,e}function Ml(t,e){return this[t]instanceof Date?Math.floor(this[t].getTime()/1e3).toString():e}function Gs(t){return JSON.stringify(t,Ml)}function Sr(t){return t&&t.startsWith("/v2")?"v2":"v1"}function Er(t){return Array.isArray(t)?t.join(", "):String(t)}function Ds(t){let e=Array.isArray(t)?t[0]:t;return Number(e)}function qs(t){return Object.entries(t).map(([e,o])=>[e,Er(o)])}var U=class{getClientName(){throw new Error("getClientName not implemented.")}makeRequest(e,o,s,n,i,a,l,u){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){let e=new TypeError(U.TIMEOUT_ERROR_CODE);return e.code=U.TIMEOUT_ERROR_CODE,e}};U.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"];U.TIMEOUT_ERROR_CODE="ETIMEDOUT";var Xe=class{constructor(e,o){this._statusCode=e,this._headers=o}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(e){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}};var Fe=class extends U{constructor(e){if(super(),!e){if(!globalThis.fetch)throw new Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");e=globalThis.fetch}globalThis.AbortController?this._fetchFn=Fe.makeFetchWithAbortTimeout(e):this._fetchFn=Fe.makeFetchWithRaceTimeout(e)}static makeFetchWithRaceTimeout(e){return(o,s,n)=>{let i,a=new Promise((u,p)=>{i=setTimeout(()=>{i=null,p(U.makeTimeoutError())},n)}),l=e(o,s);return Promise.race([l,a]).finally(()=>{i&&clearTimeout(i)})}}static makeFetchWithAbortTimeout(e){return(o,s,n)=>f(this,null,function*(){let i=new AbortController,a=setTimeout(()=>{a=null,i.abort(U.makeTimeoutError())},n);try{return yield e(o,Object.assign(Object.assign({},s),{signal:i.signal}))}catch(l){throw l.name==="AbortError"?U.makeTimeoutError():l}finally{a&&clearTimeout(a)}})}getClientName(){return"fetch"}makeRequest(e,o,s,n,i,a,l,u){return f(this,null,function*(){let p=l==="http",h=new URL(s,`${p?"http":"https"}://${e}`);h.port=o;let g=n=="POST"||n=="PUT"||n=="PATCH",d=a||(g?"":void 0),m=yield this._fetchFn(h.toString(),{method:n,headers:qs(i),body:d},u);return new Mt(m)})}},Mt=class extends Xe{constructor(e){super(e.status,Mt._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){let o={};for(let s of e){if(!Array.isArray(s)||s.length!=2)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");o[s[0]]=s[1]}return o}};var Ze=class{computeHMACSignature(e,o){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,o){throw new Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(e){throw new Error("computeSHA256 not implemented.")}},Qe=class extends Error{};var xr=class extends Ze{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,o){throw new Qe("SubtleCryptoProvider cannot be used in a synchronous context.")}computeHMACSignatureAsync(e,o){return f(this,null,function*(){let s=new TextEncoder,n=yield this.subtleCrypto.importKey("raw",s.encode(o),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=yield this.subtleCrypto.sign("hmac",n,s.encode(e)),a=new Uint8Array(i),l=new Array(a.length);for(let u=0;u<a.length;u++)l[u]=Ao[a[u]];return l.join("")})}computeSHA256Async(e){return f(this,null,function*(){return new Uint8Array(yield this.subtleCrypto.digest("SHA-256",e))})}},Ao=new Array(256);for(let t=0;t<Ao.length;t++)Ao[t]=t.toString(16).padStart(2,"0");var br=class{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw new Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let o=Math.random()*16|0;return(e==="x"?o:o&3|8).toString(16)})}secureCompare(e,o){if(e.length!==o.length)return!1;let s=e.length,n=0;for(let i=0;i<s;++i)n|=e.charCodeAt(i)^o.charCodeAt(i);return n===0}createEmitter(){throw new Error("createEmitter not implemented.")}tryBufferData(e){throw new Error("tryBufferData not implemented.")}createNodeHttpClient(e){throw new Error("createNodeHttpClient not implemented.")}createFetchHttpClient(e){return new Fe(e)}createDefaultHttpClient(){throw new Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw new Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(e){return new xr(e)}createDefaultCryptoProvider(){throw new Error("createDefaultCryptoProvider not implemented.")}};var Ro=class extends Event{constructor(e,o){super(e),this.data=o}},Or=class{constructor(){this.eventTarget=new EventTarget,this.listenerMapping=new Map}on(e,o){let s=n=>{o(n.data)};return this.listenerMapping.set(o,s),this.eventTarget.addEventListener(e,s)}removeListener(e,o){let s=this.listenerMapping.get(o);return this.listenerMapping.delete(o),this.eventTarget.removeEventListener(e,s)}once(e,o){let s=n=>{o(n.data)};return this.listenerMapping.set(o,s),this.eventTarget.addEventListener(e,s,{once:!0})}emit(e,o){return this.eventTarget.dispatchEvent(new Ro(e,o))}};var Ar=class extends br{getUname(){return Promise.resolve(null)}createEmitter(){return new Or}tryBufferData(e){if(e.file.data instanceof ReadableStream)throw new Error("Uploading a file as a stream is not supported in non-Node environments. Please open or upvote an issue at github.com/stripe/stripe-node if you use this, detailing your use-case.");return Promise.resolve(e)}createNodeHttpClient(){throw new Error("Stripe: `createNodeHttpClient()` is not available in non-Node environments. Please use `createFetchHttpClient()` instead.")}createDefaultHttpClient(){return super.createFetchHttpClient()}createNodeCryptoProvider(){throw new Error("Stripe: `createNodeCryptoProvider()` is not available in non-Node environments. Please use `createSubtleCryptoProvider()` instead.")}createDefaultCryptoProvider(){return this.createSubtleCryptoProvider()}};var kr={};mo(kr,{StripeAPIError:()=>et,StripeAuthenticationError:()=>tt,StripeCardError:()=>Rr,StripeConnectionError:()=>Dt,StripeError:()=>L,StripeIdempotencyError:()=>wr,StripeInvalidGrantError:()=>Cr,StripeInvalidRequestError:()=>kt,StripePermissionError:()=>Gt,StripeRateLimitError:()=>rt,StripeSignatureVerificationError:()=>ue,StripeUnknownError:()=>Ir,TemporarySessionExpiredError:()=>Mr,generateV1Error:()=>qt,generateV2Error:()=>wo});var qt=t=>{switch(t.type){case"card_error":return new Rr(t);case"invalid_request_error":return new kt(t);case"api_error":return new et(t);case"authentication_error":return new tt(t);case"rate_limit_error":return new rt(t);case"idempotency_error":return new wr(t);case"invalid_grant":return new Cr(t);default:return new Ir(t)}},wo=t=>{switch(t.type){case"temporary_session_expired":return new Mr(t)}switch(t.code){case"invalid_fields":return new kt(t)}return qt(t)},L=class extends Error{constructor(e={},o=null){var s;super(e.message),this.type=o||this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=(s=e.message)!==null&&s!==void 0?s:"",this.userMessage=e.user_message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}};L.generate=qt;var Rr=class extends L{constructor(e={}){super(e,"StripeCardError")}},kt=class extends L{constructor(e={}){super(e,"StripeInvalidRequestError")}},et=class extends L{constructor(e={}){super(e,"StripeAPIError")}},tt=class extends L{constructor(e={}){super(e,"StripeAuthenticationError")}},Gt=class extends L{constructor(e={}){super(e,"StripePermissionError")}},rt=class extends L{constructor(e={}){super(e,"StripeRateLimitError")}},Dt=class extends L{constructor(e={}){super(e,"StripeConnectionError")}},ue=class extends L{constructor(e,o,s={}){super(s,"StripeSignatureVerificationError"),this.header=e,this.payload=o}},wr=class extends L{constructor(e={}){super(e,"StripeIdempotencyError")}},Cr=class extends L{constructor(e={}){super(e,"StripeInvalidGrantError")}},Ir=class extends L{constructor(e={}){super(e,"StripeUnknownError")}},Mr=class extends L{constructor(e={}){super(e,"TemporarySessionExpiredError")}};var kl=60,Re=class{constructor(e,o){this._stripe=e,this._maxBufferedRequestMetric=o}_normalizeStripeContext(e,o){return e?e.toString()||null:(o==null?void 0:o.toString())||null}_addHeadersDirectlyToObject(e,o){e.requestId=o["request-id"],e.stripeAccount=e.stripeAccount||o["stripe-account"],e.apiVersion=e.apiVersion||o["stripe-version"],e.idempotencyKey=e.idempotencyKey||o["idempotency-key"]}_makeResponseEvent(e,o,s){let n=Date.now(),i=n-e.request_start_time;return Tr({api_version:s["stripe-version"],account:s["stripe-account"],idempotency_key:s["idempotency-key"],method:e.method,path:e.path,status:o,request_id:this._getRequestId(s),elapsed:i,request_start_time:e.request_start_time,request_end_time:n})}_getRequestId(e){return e["request-id"]}_streamingResponseHandler(e,o,s){return n=>{let i=n.getHeaders(),a=()=>{let u=this._makeResponseEvent(e,n.getStatusCode(),i);this._stripe._emitter.emit("response",u),this._recordRequestMetrics(this._getRequestId(i),u.elapsed,o)},l=n.toStream(a);return this._addHeadersDirectlyToObject(l,i),s(null,l)}}_jsonResponseHandler(e,o,s,n){return i=>{let a=i.getHeaders(),l=this._getRequestId(a),u=i.getStatusCode(),p=this._makeResponseEvent(e,u,a);this._stripe._emitter.emit("response",p),i.toJSON().then(h=>{if(h.error){let g;throw typeof h.error=="string"&&(h.error={type:h.error,message:h.error_description}),h.error.headers=a,h.error.statusCode=u,h.error.requestId=l,u===401?g=new tt(h.error):u===403?g=new Gt(h.error):u===429?g=new rt(h.error):o==="v2"?g=wo(h.error):g=qt(h.error),g}return h},h=>{throw new et({message:"Invalid JSON received from the Stripe API",exception:h,requestId:a["request-id"]})}).then(h=>{this._recordRequestMetrics(l,p.elapsed,s);let g=i.getRawResponse();this._addHeadersDirectlyToObject(g,a),Object.defineProperty(h,"lastResponse",{enumerable:!1,writable:!1,value:g}),n(null,h)},h=>n(h,null))}}static _generateConnectionErrorMessage(e){return`An error occurred with our connection to Stripe.${e>0?` Request was retried ${e} times.`:""}`}static _shouldRetry(e,o,s,n){return n&&o===0&&U.CONNECTION_CLOSED_ERROR_CODES.includes(n.code)?!0:o>=s?!1:e?e.getHeaders()["stripe-should-retry"]==="false"?!1:e.getHeaders()["stripe-should-retry"]==="true"||e.getStatusCode()===409||e.getStatusCode()>=500:!0}_getSleepTimeInMS(e,o=null){let s=this._stripe.getInitialNetworkRetryDelay(),n=this._stripe.getMaxNetworkRetryDelay(),i=Math.min(s*Math.pow(2,e-1),n);return i*=.5*(1+Math.random()),i=Math.max(s,i),Number.isInteger(o)&&o<=kl&&(i=Math.max(i,o)),i*1e3}_getMaxNetworkRetries(e={}){return e.maxNetworkRetries!==void 0&&Number.isInteger(e.maxNetworkRetries)?e.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(e,o,s){let n=this._getMaxNetworkRetries(o),i=()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`;if(s==="v2"){if(e==="POST"||e==="DELETE")return i()}else if(s==="v1"&&e==="POST"&&n>0)return i();return null}_makeHeaders({contentType:e,contentLength:o,apiVersion:s,clientUserAgent:n,method:i,userSuppliedHeaders:a,userSuppliedSettings:l,stripeAccount:u,stripeContext:p,apiMode:h}){let g={Accept:"application/json","Content-Type":e,"User-Agent":this._getUserAgentString(h),"X-Stripe-Client-User-Agent":n,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":s,"Stripe-Account":u,"Stripe-Context":p,"Idempotency-Key":this._defaultIdempotencyKey(i,l,h)},d=i=="POST"||i=="PUT"||i=="PATCH";return(d||o)&&(d||It(`${i} method had non-zero contentLength but no payload is expected for this verb`),g["Content-Length"]=o),Object.assign(Tr(g),Cs(a))}_getUserAgentString(e){let o=this._stripe.getConstant("PACKAGE_VERSION"),s=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/${e} NodeBindings/${o} ${s}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){let e=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:e})}}_recordRequestMetrics(e,o,s){if(this._stripe.getTelemetryEnabled()&&e)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)It("Request metrics buffer is full, dropping telemetry message.");else{let n={request_id:e,request_duration_ms:o};s&&s.length>0&&(n.usage=s),this._stripe._prevRequestMetrics.push(n)}}_rawRequest(e,o,s,n,i){return new Promise((l,u)=>{let p;try{let v=e.toUpperCase();if(v!=="POST"&&s&&Object.keys(s).length!==0)throw new Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");let T=[].slice.call([s,n]),y=Je(T),S=v==="POST"?Object.assign({},y):null,E=yr(T),_=E.headers,b=E.authenticator;p={requestMethod:v,requestPath:o,bodyData:S,queryData:{},authenticator:b,headers:_,host:E.host,streaming:!!E.streaming,settings:{},usage:i||["raw_request"]}}catch(v){u(v);return}function h(v,T){v?u(v):l(T)}let{headers:g,settings:d}=p,m=p.authenticator;this._request(p.requestMethod,p.host,o,p.bodyData,m,{headers:g,settings:d,streaming:p.streaming},p.usage,h)})}_getContentLength(e){return typeof e=="string"?new TextEncoder().encode(e).length:e.length}_request(e,o,s,n,i,a,l=[],u,p=null){var h;let g;i=(h=i!=null?i:this._stripe._authenticator)!==null&&h!==void 0?h:null;let d=Sr(s),m=(y,S,E,_,b)=>setTimeout(y,this._getSleepTimeInMS(_,b),S,E,_+1),v=(y,S,E)=>{let _=a.settings&&a.settings.timeout&&Number.isInteger(a.settings.timeout)&&a.settings.timeout>=0?a.settings.timeout:this._stripe.getApiField("timeout"),b={host:o||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:s,method:e,headers:Object.assign({},S),body:g,protocol:this._stripe.getApiField("protocol")};i(b).then(()=>{let D=this._stripe.getApiField("httpClient").makeRequest(b.host,b.port,b.path,b.method,b.headers,b.body,b.protocol,_),$=Date.now(),k=Tr({api_version:y,account:Er(S["Stripe-Account"]),idempotency_key:Er(S["Idempotency-Key"]),method:e,path:s,request_start_time:$}),X=E||0,ae=this._getMaxNetworkRetries(a.settings||{});this._stripe._emitter.emit("request",k),D.then(te=>Re._shouldRetry(te,X,ae)?m(v,y,S,X,Ds(te.getHeaders()["retry-after"])):a.streaming&&te.getStatusCode()<400?this._streamingResponseHandler(k,l,u)(te):this._jsonResponseHandler(k,d,l,u)(te)).catch(te=>{if(Re._shouldRetry(null,X,ae,te))return m(v,y,S,X,null);{let mt=te.code&&te.code===U.TIMEOUT_ERROR_CODE;return u(new Dt({message:mt?`Request aborted due to timeout being reached (${_}ms)`:Re._generateConnectionErrorMessage(X),detail:te}))}})}).catch(D=>{throw new L({message:"Unable to authenticate the request",exception:D})})},T=(y,S)=>{if(y)return u(y);g=S,this._stripe.getClientUserAgent(E=>{var _,b,D;let $=this._stripe.getApiField("version"),k=this._makeHeaders({contentType:d=="v2"?"application/json":"application/x-www-form-urlencoded",contentLength:this._getContentLength(S),apiVersion:$,clientUserAgent:E,method:e,userSuppliedHeaders:(_=a.headers)!==null&&_!==void 0?_:null,userSuppliedSettings:(b=a.settings)!==null&&b!==void 0?b:{},stripeAccount:(D=a.stripeAccount)!==null&&D!==void 0?D:this._stripe.getApiField("stripeAccount"),stripeContext:this._normalizeStripeContext(a.stripeContext,this._stripe.getApiField("stripeContext")),apiMode:d});v($,k,0)})};if(p)p(e,n,a.headers,T);else{let y;d=="v2"?y=n?Gs(n):"":y=Ae(n||{}),T(null,y)}}};var Gr=class{constructor(e,o,s,n){this.index=0,this.pagePromise=e,this.promiseCache={currentPromise:null},this.requestArgs=o,this.spec=s,this.stripeResource=n}iterate(e){return f(this,null,function*(){if(!(e&&e.data&&typeof e.data.length=="number"))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");let o=Ls(this.requestArgs);if(this.index<e.data.length){let s=o?e.data.length-1-this.index:this.index,n=e.data[s];return this.index+=1,{value:n,done:!1}}else if(e.has_more){this.index=0,this.pagePromise=this.getNextPage(e);let s=yield this.pagePromise;return this.iterate(s)}return{done:!0,value:void 0}})}getNextPage(e){throw new Error("Unimplemented")}_next(){return f(this,null,function*(){return this.iterate(yield this.pagePromise)})}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;let e=(()=>f(this,null,function*(){let o=yield this._next();return this.promiseCache.currentPromise=null,o}))();return this.promiseCache.currentPromise=e,e}},Io=class extends Gr{getNextPage(e){let o=Ls(this.requestArgs),s=Bl(e,o);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[o?"ending_before":"starting_after"]:s})}},Mo=class extends Gr{getNextPage(e){if(!e.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:e.next_page})}},ko=class{constructor(e,o,s,n){this.firstPagePromise=e,this.currentPageIterator=null,this.nextPageUrl=null,this.requestArgs=o,this.spec=s,this.stripeResource=n}initFirstPage(){return f(this,null,function*(){if(this.firstPagePromise){let e=yield this.firstPagePromise;this.firstPagePromise=null,this.currentPageIterator=e.data[Symbol.iterator](),this.nextPageUrl=e.next_page_url||null}})}turnPage(){return f(this,null,function*(){if(!this.nextPageUrl)return null;this.spec.fullPath=this.nextPageUrl;let e=yield this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=e.next_page_url||null,this.currentPageIterator=e.data[Symbol.iterator](),this.currentPageIterator})}next(){return f(this,null,function*(){if(yield this.initFirstPage(),this.currentPageIterator){let s=this.currentPageIterator.next();if(!s.done)return{done:!1,value:s.value}}let e=yield this.turnPage();if(!e)return{done:!0,value:void 0};let o=e.next();return o.done?{done:!0,value:void 0}:{done:!1,value:o.value}})}},Bs=(t,e,o,s)=>{let n=Sr(o.fullPath||o.path);return n!=="v2"&&o.methodType==="search"?Co(new Mo(s,e,o,t)):n!=="v2"&&o.methodType==="list"?Co(new Io(s,e,o,t)):n==="v2"&&o.methodType==="list"?Co(new ko(s,e,o,t)):null},Co=t=>{let e=Ll((...n)=>t.next(...n)),o=Fl(e),s={autoPagingEach:e,autoPagingToArray:o,next:()=>t.next(),return:()=>({}),[Gl()]:()=>s};return s};function Gl(){return typeof Symbol!="undefined"&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function Dl(t){if(t.length<2)return null;let e=t[1];if(typeof e!="function")throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);return e}function ql(t){if(t.length===0)return;let e=t[0];if(typeof e!="function")throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);if(e.length===2)return e;if(e.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${e}`);return function(s,n){let i=e(s);n(i)}}function Bl(t,e){let o=e?0:t.data.length-1,s=t.data[o],n=s&&s.id;if(!n)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return n}function Ll(t){return function(){let o=[].slice.call(arguments),s=ql(o),n=Dl(o);if(o.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${o}`);let i=Hl(t,s);return Ct(i,n)}}function Fl(t){return function(o,s){let n=o&&o.limit;if(!n)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(n>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");let i=new Promise((a,l)=>{let u=[];t(p=>{if(u.push(p),u.length>=n)return!1}).then(()=>{a(u)}).catch(l)});return Ct(i,s)}}function Hl(t,e){return new Promise((o,s)=>{function n(i){if(i.done){o();return}let a=i.value;return new Promise(l=>{e(a,l)}).then(l=>l===!1?n({done:!0,value:void 0}):t().then(n))}t().then(n).catch(s)})}function Ls(t){let e=[].slice.call(t);return!!Je(e).ending_before}function Fs(t){if(t.path!==void 0&&t.fullPath!==void 0)throw new Error(`Method spec specified both a 'path' (${t.path}) and a 'fullPath' (${t.fullPath}).`);return function(...e){let o=typeof e[e.length-1]=="function"&&e.pop();t.urlParams=Rs(t.fullPath||this.createResourcePathWithSymbols(t.path||""));let s=Ct(this._makeRequest(e,t,{}),o);return Object.assign(s,Bs(this,e,t,s)),s}}r.extend=ws;r.method=Fs;r.MAX_BUFFERED_REQUEST_METRICS=100;function r(t,e){if(this._stripe=t,e)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=gr(this.basePath||t.getApiField("basePath")),this.resourcePath=this.path,this.path=gr(this.path),this.initialize(...arguments)}r.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(t,e){let o=[this.basePath(e),this.path(e)];if(typeof t=="function"){let s=t(e);s&&o.push(s)}else o.push(t);return this._joinUrlParts(o)},createResourcePathWithSymbols(t){return t?`/${this._joinUrlParts([this.resourcePath,t])}`:`/${this.resourcePath}`},_joinUrlParts(t){return t.join("/").replace(/\/{2,}/g,"/")},_getRequestOpts(t,e,o){var s;let n=(e.method||"GET").toUpperCase(),i=e.usage||[],a=e.urlParams||[],l=e.encode||(k=>k),u=!!e.fullPath,p=gr(u?e.fullPath:e.path||""),h=u?e.fullPath:this.createResourcePathWithSymbols(e.path),g=[].slice.call(t),d=a.reduce((k,X)=>{let ae=g.shift();if(typeof ae!="string")throw new Error(`Stripe: Argument "${X}" must be a string, but got: ${ae} (on API request to \`${n} ${h}\`)`);return k[X]=ae,k},{}),m=Je(g),v=l(Object.assign({},m,o)),T=yr(g),y=T.host||e.host,S=!!e.streaming||!!T.streaming;if(g.filter(k=>k!=null).length)throw new Error(`Stripe: Unknown arguments (${g}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${n} \`${h}\`)`);let E=u?p(d):this.createFullPath(p,d),_=Object.assign(T.headers,e.headers);e.validator&&e.validator(v,{headers:_});let b=e.method==="GET"||e.method==="DELETE";return{requestMethod:n,requestPath:E,bodyData:b?null:v,queryData:b?v:{},authenticator:(s=T.authenticator)!==null&&s!==void 0?s:null,headers:_,host:y!=null?y:null,streaming:S,settings:T.settings,usage:i}},_makeRequest(t,e,o){return new Promise((s,n)=>{var i;let a;try{a=this._getRequestOpts(t,e,o)}catch(d){n(d);return}function l(d,m){d?n(d):s(e.transformResponseData?e.transformResponseData(m):m)}let u=Object.keys(a.queryData).length===0,p=[a.requestPath,u?"":"?",Ae(a.queryData)].join(""),{headers:h,settings:g}=a;this._stripe._requestSender._request(a.requestMethod,a.host,p,a.bodyData,a.authenticator,{headers:h,settings:g,streaming:a.streaming},a.usage,l,(i=this.requestDataProcessor)===null||i===void 0?void 0:i.bind(this))})}};var he=class{constructor(e=[]){this._segments=[...e]}get segments(){return[...this._segments]}push(e){if(!e)throw new Error("Segment cannot be null or undefined");return new he([...this._segments,e])}pop(){if(this._segments.length===0)throw new Error("Cannot pop from an empty context");return new he(this._segments.slice(0,-1))}toString(){return this._segments.join("/")}static parse(e){return e?new he(e.split("/")):new he([])}};function Hs(t){let e={DEFAULT_TOLERANCE:300,signature:null,constructEvent(d,m,v,T,y,S){try{if(!this.signature)throw new Error("ERR: missing signature helper, unable to verify");this.signature.verifyHeader(d,m,v,T||e.DEFAULT_TOLERANCE,y,S)}catch(_){throw _ instanceof Qe&&(_.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),_}return d instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(d)):JSON.parse(d)},constructEventAsync(d,m,v,T,y,S){return f(this,null,function*(){if(!this.signature)throw new Error("ERR: missing signature helper, unable to verify");return yield this.signature.verifyHeaderAsync(d,m,v,T||e.DEFAULT_TOLERANCE,y,S),d instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(d)):JSON.parse(d)})},generateTestHeaderString:function(d){let m=p(d),v=m.signature||m.cryptoProvider.computeHMACSignature(m.payloadString,m.secret);return m.generateHeaderString(v)},generateTestHeaderStringAsync:function(d){return f(this,null,function*(){let m=p(d),v=m.signature||(yield m.cryptoProvider.computeHMACSignatureAsync(m.payloadString,m.secret));return m.generateHeaderString(v)})}},o={EXPECTED_SCHEME:"v1",verifyHeader(d,m,v,T,y,S){let{decodedHeader:E,decodedPayload:_,details:b,suspectPayloadType:D}=n(d,m,this.EXPECTED_SCHEME),$=/\s/.test(v);y=y||u();let k=y.computeHMACSignature(s(_,b),v);return i(_,E,b,k,T,D,$,S),!0},verifyHeaderAsync(d,m,v,T,y,S){return f(this,null,function*(){let{decodedHeader:E,decodedPayload:_,details:b,suspectPayloadType:D}=n(d,m,this.EXPECTED_SCHEME),$=/\s/.test(v);y=y||u();let k=yield y.computeHMACSignatureAsync(s(_,b),v);return i(_,E,b,k,T,D,$,S)})}};function s(d,m){return`${m.timestamp}.${d}`}function n(d,m,v){if(!d)throw new ue(m,d,{message:"No webhook payload was provided."});let T=typeof d!="string"&&!(d instanceof Uint8Array),y=new TextDecoder("utf8"),S=d instanceof Uint8Array?y.decode(d):d;if(Array.isArray(m))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(m==null||m=="")throw new ue(m,d,{message:"No stripe-signature header value was provided."});let E=m instanceof Uint8Array?y.decode(m):m,_=a(E,v);if(!_||_.timestamp===-1)throw new ue(E,S,{message:"Unable to extract timestamp and signatures from header"});if(!_.signatures.length)throw new ue(E,S,{message:"No signatures found with expected scheme"});return{decodedPayload:S,decodedHeader:E,details:_,suspectPayloadType:T}}function i(d,m,v,T,y,S,E,_){let b=!!v.signatures.filter(t.secureCompare.bind(t,T)).length,D=`
Learn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature`,$=E?`

Note: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value`:"";if(!b)throw S?new ue(m,d,{message:`Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. 
Signature verification is impossible without access to the original signed material. 
`+D+`
`+$}):new ue(m,d,{message:`No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? 
 If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.
`+D+`
`+$});let k=Math.floor((typeof _=="number"?_:Date.now())/1e3)-v.timestamp;if(y>0&&k>y)throw new ue(m,d,{message:"Timestamp outside the tolerance zone"});return!0}function a(d,m){return typeof d!="string"?null:d.split(",").reduce((v,T)=>{let y=T.split("=");return y[0]==="t"&&(v.timestamp=parseInt(y[1],10)),y[0]===m&&v.signatures.push(y[1]),v},{timestamp:-1,signatures:[]})}let l=null;function u(){return l||(l=t.createDefaultCryptoProvider()),l}function p(d){if(!d)throw new L({message:"Options are required"});let m=Math.floor(d.timestamp)||Math.floor(Date.now()/1e3),v=d.scheme||o.EXPECTED_SCHEME,T=d.cryptoProvider||u(),y=`${m}.${d.payload}`,S=E=>`t=${m},${v}=${E}`;return Object.assign(Object.assign({},d),{timestamp:m,scheme:v,cryptoProvider:T,payloadString:y,generateHeaderString:S})}return e.signature=o,e}var Go="2026-01-28.clover";var pt={};mo(pt,{Account:()=>Ko,AccountLinks:()=>Gi,AccountSessions:()=>Di,Accounts:()=>Ko,ApplePayDomains:()=>qi,ApplicationFees:()=>Bi,Apps:()=>mu,Balance:()=>Li,BalanceSettings:()=>Hi,BalanceTransactions:()=>Ui,Billing:()=>fu,BillingPortal:()=>Pu,Charges:()=>ji,Checkout:()=>vu,Climate:()=>gu,ConfirmationTokens:()=>Vi,CountrySpecs:()=>$i,Coupons:()=>Ki,CreditNotes:()=>Wi,CustomerSessions:()=>Yi,Customers:()=>Ji,Disputes:()=>Xi,Entitlements:()=>yu,EphemeralKeys:()=>Qi,Events:()=>ta,ExchangeRates:()=>oa,FileLinks:()=>sa,Files:()=>ia,FinancialConnections:()=>Tu,Forwarding:()=>_u,Identity:()=>Su,InvoiceItems:()=>aa,InvoicePayments:()=>la,InvoiceRenderingTemplates:()=>ua,Invoices:()=>da,Issuing:()=>Eu,Mandates:()=>pa,OAuth:()=>ma,PaymentAttemptRecords:()=>Pa,PaymentIntents:()=>va,PaymentLinks:()=>ga,PaymentMethodConfigurations:()=>ya,PaymentMethodDomains:()=>Ta,PaymentMethods:()=>_a,PaymentRecords:()=>Sa,Payouts:()=>Ea,Plans:()=>xa,Prices:()=>ba,Products:()=>Oa,PromotionCodes:()=>Aa,Quotes:()=>Ra,Radar:()=>xu,Refunds:()=>wa,Reporting:()=>bu,Reviews:()=>Ca,SetupAttempts:()=>Ia,SetupIntents:()=>Ma,ShippingRates:()=>ka,Sigma:()=>Ou,Sources:()=>Ga,SubscriptionItems:()=>Da,SubscriptionSchedules:()=>qa,Subscriptions:()=>Ba,Tax:()=>Au,TaxCodes:()=>Fa,TaxIds:()=>Ha,TaxRates:()=>Na,Terminal:()=>Ru,TestHelpers:()=>wu,Tokens:()=>ja,Topups:()=>Va,Transfers:()=>za,Treasury:()=>Cu,V2:()=>Iu,WebhookEndpoints:()=>$a});function Nl(t,e){for(let o in e){if(!Object.prototype.hasOwnProperty.call(e,o))continue;let s=o[0].toLowerCase()+o.substring(1),n=new e[o](t);this[s]=n}}function I(t,e){return function(o){return new Nl(o,e)}}var Ul=r.method,Ns=r.extend({create:Ul({method:"POST",fullPath:"/v2/core/account_links"})});var Us=r.method,js=r.extend({create:Us({method:"POST",fullPath:"/v2/core/account_tokens"}),retrieve:Us({method:"GET",fullPath:"/v2/core/account_tokens/{id}"})});var He=r.method,Vs=r.extend({retrieve:He({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:He({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:He({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:He({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:He({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:He({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:He({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})});var Bt=r.method,zs=r.extend({create:Bt({method:"POST",fullPath:"/v2/core/accounts/{account_id}/persons"}),retrieve:Bt({method:"GET",fullPath:"/v2/core/accounts/{account_id}/persons/{id}"}),update:Bt({method:"POST",fullPath:"/v2/core/accounts/{account_id}/persons/{id}"}),list:Bt({method:"GET",fullPath:"/v2/core/accounts/{account_id}/persons",methodType:"list"}),del:Bt({method:"DELETE",fullPath:"/v2/core/accounts/{account_id}/persons/{id}"})});var $s=r.method,Ks=r.extend({create:$s({method:"POST",fullPath:"/v2/core/accounts/{account_id}/person_tokens"}),retrieve:$s({method:"GET",fullPath:"/v2/core/accounts/{account_id}/person_tokens/{id}"})});var Lt=r.method,Ws=r.extend({constructor:function(...t){r.apply(this,t),this.persons=new zs(...t),this.personTokens=new Ks(...t)},create:Lt({method:"POST",fullPath:"/v2/core/accounts"}),retrieve:Lt({method:"GET",fullPath:"/v2/core/accounts/{id}"}),update:Lt({method:"POST",fullPath:"/v2/core/accounts/{id}"}),list:Lt({method:"GET",fullPath:"/v2/core/accounts",methodType:"list"}),close:Lt({method:"POST",fullPath:"/v2/core/accounts/{id}/close"})});var Ys=r.method,Js=r.extend({retrieve:Ys({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:Ys({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})});var ot=r.method,Xs=r.extend({create:ot({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:ot({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:ot({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:ot({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:ot({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:ot({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})});var jl=r.method,Zs=r.extend({find:jl({method:"GET",fullPath:"/v1/tax/associations/find"})});var Ft=r.method,Qs=r.extend({retrieve:Ft({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:Ft({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:Ft({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:Ft({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:Ft({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})});var Ne=r.method,en=r.extend({create:Ne({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:Ne({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:Ne({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:Ne({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:Ne({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),respond:Ne({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond"}),reverse:Ne({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})});var Do=r.method,tn=r.extend({create:Do({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:Do({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:Do({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})});var Dr=r.method,rn=r.extend({create:Dr({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:Dr({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:Dr({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:Dr({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})});var qr=r.method,on=r.extend({create:qr({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:qr({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:qr({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:qr({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})});var Ht=r.method,sn=r.extend({deliverCard:Ht({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:Ht({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:Ht({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:Ht({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:Ht({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})});var Br=r.method,nn=r.extend({create:Br({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:Br({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:Br({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:Br({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})});var Nt=r.method,an=r.extend({create:Nt({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:Nt({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:Nt({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:Nt({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:Nt({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})});var Vl=r.method,cn=r.extend({create:Vl({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})});var zl=r.method,ln=r.extend({create:zl({method:"POST",fullPath:"/v1/terminal/connection_tokens"})});var $l=r.method,un=r.extend({retrieve:$l({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})});var dn=r.method,pn=r.extend({retrieve:dn({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:dn({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})});var st=r.method,hn=r.extend({create:st({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:st({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:st({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:st({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:st({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:st({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})});var qo=r.method,mn=r.extend({create:qo({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:qo({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:qo({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})});var Kl=r.method,fn=r.extend({fundCashBalance:Kl({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})});var Bo=r.method,Pn=r.extend({create:Bo({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:Bo({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:Bo({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})});var Ut=r.method,vn=r.extend({create:Ut({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:Ut({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:Ut({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:Ut({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:Ut({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})});var gn=r.method,yn=r.extend({retrieve:gn({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:gn({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})});var we=r.method,Tn=r.extend({create:we({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:we({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:we({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:we({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:we({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:we({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:we({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:we({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})});var Lo=r.method,_n=r.extend({retrieve(...t){return Lo({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:o=>this.addFetchRelatedObjectIfNeeded(o)}).apply(this,t)},list(...t){return Lo({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:o=>Object.assign(Object.assign({},o),{data:o.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))})}).apply(this,t)},addFetchRelatedObjectIfNeeded(t){return!t.related_object||!t.related_object.url?t:Object.assign(Object.assign({},t),{fetchRelatedObject:()=>Lo({method:"GET",fullPath:t.related_object.url}).apply(this,[{stripeContext:t.context}])})}});var Lr=r.method,Sn=r.extend({create:Lr({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:Lr({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:Lr({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:Lr({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})});var Ue=r.method,En=r.extend({create:Ue({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:Ue({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:Ue({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:Ue({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),close:Ue({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/close"}),retrieveFeatures:Ue({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:Ue({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})});var Fo=r.method,xn=r.extend({fail:Fo({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:Fo({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:Fo({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})});var Fr=r.method,bn=r.extend({create:Fr({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:Fr({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:Fr({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:Fr({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})});var jt=r.method,On=r.extend({create:jt({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:jt({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:jt({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:jt({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:jt({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})});var Wl=r.method,An=r.extend({create:Wl({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})});var Yl=r.method,Rn=r.extend({create:Yl({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})});var Jl=r.method,wn=r.extend({create:Jl({method:"POST",fullPath:"/v2/billing/meter_event_session"})});var Xl=r.method,Cn=r.extend({create:Xl({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})});var Zl=r.method,In=r.extend({create:Zl({method:"POST",fullPath:"/v1/billing/meter_events"})});var Ql=r.method,Mn=r.extend({create:Ql({method:"POST",fullPath:"/v2/billing/meter_events"})});var je=r.method,kn=r.extend({create:je({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:je({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:je({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:je({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:je({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:je({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:je({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})});var eu=r.method,Gn=r.extend({create:eu({method:"POST",fullPath:"/v1/terminal/onboarding_links"})});var Vt=r.method,Dn=r.extend({create:Vt({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:Vt({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:Vt({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:Vt({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:Vt({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})});var Hr=r.method,qn=r.extend({update:Hr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:Hr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:Hr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:Hr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})});var Nr=r.method,Bn=r.extend({create:Nr({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:Nr({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:Nr({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:Nr({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})});var Ur=r.method,Ln=r.extend({update:Ur({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:Ur({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:Ur({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:Ur({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})});var jr=r.method,Fn=r.extend({create:jr({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:jr({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:jr({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:jr({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})});var tu=r.method,Hn=r.extend({create:tu({method:"POST",fullPath:"/v1/radar/payment_evaluations"})});var Vr=r.method,Nn=r.extend({create:Vr({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:Vr({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:Vr({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:Vr({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})});var Ho=r.method,Un=r.extend({activate:Ho({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:Ho({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:Ho({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})});var jn=r.method,Vn=r.extend({retrieve:jn({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:jn({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})});var zn=r.method,$n=r.extend({retrieve:zn({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:zn({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})});var re=r.method,Kn=r.extend({create:re({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:re({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:re({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:re({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:re({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:re({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),collectInputs:re({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_inputs"}),collectPaymentMethod:re({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_payment_method"}),confirmPaymentIntent:re({method:"POST",fullPath:"/v1/terminal/readers/{reader}/confirm_payment_intent"}),processPaymentIntent:re({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:re({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:re({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:re({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})});var No=r.method,Wn=r.extend({presentPaymentMethod:No({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"}),succeedInputCollection:No({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/succeed_input_collection"}),timeoutInputCollection:No({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/timeout_input_collection"})});var ru=r.method,Yn=r.extend({create:ru({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})});var Jn=r.method,Xn=r.extend({retrieve:Jn({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:Jn({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})});var ou=r.method,Zn=r.extend({create:ou({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})});var Qn=r.method,ei=r.extend({retrieve:Qn({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:Qn({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})});var su=r.method,ti=r.extend({expire:su({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})});var zr=r.method,ri=r.extend({create:zr({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:zr({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:zr({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:zr({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})});var Uo=r.method,oi=r.extend({create:Uo({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:Uo({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:Uo({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})});var si=r.method,ni=r.extend({retrieve:si({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:si({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})});var jo=r.method,ii=r.extend({create:jo({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:jo({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:jo({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})});var ai=r.method,ci=r.extend({retrieve:ai({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:ai({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})});var $r=r.method,li=r.extend({create:$r({method:"POST",fullPath:"/v1/apps/secrets"}),list:$r({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:$r({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:$r({method:"GET",fullPath:"/v1/apps/secrets/find"})});var nu=r.method,ui=r.extend({create:nu({method:"POST",fullPath:"/v1/billing_portal/sessions"})});var nt=r.method,di=r.extend({create:nt({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:nt({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:nt({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:nt({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:nt({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:nt({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})});var pi=r.method,hi=r.extend({create:pi({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:pi({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})});var mi=r.method,fi=r.extend({retrieve:mi({method:"GET",fullPath:"/v1/tax/settings"}),update:mi({method:"POST",fullPath:"/v1/tax/settings"})});var Pi=r.method,vi=r.extend({retrieve:Pi({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:Pi({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})});var zt=r.method,gi=r.extend({create:zt({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:zt({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:zt({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:zt({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:zt({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})});var Vo=r.method,yi=r.extend({retrieve:Vo({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:Vo({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:Vo({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})});var Ti=r.method,_i=r.extend({retrieve:Ti({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:Ti({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})});var Si=r.method,Ei=r.extend({retrieve:Si({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:Si({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})});var zo=r.method,xi=r.extend({retrieve:zo({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:zo({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:zo({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})});var Kr=r.method,bi=r.extend({retrieve:Kr({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:Kr({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:Kr({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:Kr({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})});var $o=r.method,Oi=r.extend({createForceCapture:$o({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:$o({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:$o({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})});var Ai=r.method,Ri=r.extend({retrieve:Ai({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:Ai({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})});var Wr=r.method,wi=r.extend({create:Wr({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:Wr({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:Wr({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:Wr({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})});var $t=r.method,Ci=r.extend({create:$t({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:$t({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:$t({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:$t({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:$t({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})});var Ii=r.method,Mi=r.extend({retrieve:Ii({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:Ii({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})});var it=r.method,ki=r.extend({create:it({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:it({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:it({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:it({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:it({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:it({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})});var q=r.method,Ko=r.extend({create:q({method:"POST",fullPath:"/v1/accounts"}),retrieve(t,...e){return typeof t=="string"?q({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[t,...e]):(t==null&&[].shift.apply([t,...e]),q({method:"GET",fullPath:"/v1/account"}).apply(this,[t,...e]))},update:q({method:"POST",fullPath:"/v1/accounts/{account}"}),list:q({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:q({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:q({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:q({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:q({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:q({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:q({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:q({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:q({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:q({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:q({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:q({method:"GET",fullPath:"/v1/account"}),retrieveCapability:q({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:q({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:q({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:q({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:q({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:q({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})});var iu=r.method,Gi=r.extend({create:iu({method:"POST",fullPath:"/v1/account_links"})});var au=r.method,Di=r.extend({create:au({method:"POST",fullPath:"/v1/account_sessions"})});var Yr=r.method,qi=r.extend({create:Yr({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:Yr({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:Yr({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:Yr({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})});var at=r.method,Bi=r.extend({retrieve:at({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:at({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:at({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:at({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:at({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:at({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})});var cu=r.method,Li=r.extend({retrieve:cu({method:"GET",fullPath:"/v1/balance"})});var Fi=r.method,Hi=r.extend({retrieve:Fi({method:"GET",fullPath:"/v1/balance_settings"}),update:Fi({method:"POST",fullPath:"/v1/balance_settings"})});var Ni=r.method,Ui=r.extend({retrieve:Ni({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:Ni({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})});var ct=r.method,ji=r.extend({create:ct({method:"POST",fullPath:"/v1/charges"}),retrieve:ct({method:"GET",fullPath:"/v1/charges/{charge}"}),update:ct({method:"POST",fullPath:"/v1/charges/{charge}"}),list:ct({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:ct({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:ct({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})});var lu=r.method,Vi=r.extend({retrieve:lu({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})});var zi=r.method,$i=r.extend({retrieve:zi({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:zi({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})});var Kt=r.method,Ki=r.extend({create:Kt({method:"POST",fullPath:"/v1/coupons"}),retrieve:Kt({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:Kt({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:Kt({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:Kt({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})});var Ce=r.method,Wi=r.extend({create:Ce({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:Ce({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:Ce({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:Ce({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:Ce({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:Ce({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:Ce({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:Ce({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})});var uu=r.method,Yi=r.extend({create:uu({method:"POST",fullPath:"/v1/customer_sessions"})});var O=r.method,Ji=r.extend({create:O({method:"POST",fullPath:"/v1/customers"}),retrieve:O({method:"GET",fullPath:"/v1/customers/{customer}"}),update:O({method:"POST",fullPath:"/v1/customers/{customer}"}),list:O({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:O({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:O({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:O({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:O({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:O({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:O({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:O({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:O({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:O({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:O({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:O({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:O({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:O({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:O({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:O({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:O({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:O({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:O({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:O({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:O({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:O({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:O({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:O({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:O({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})});var Jr=r.method,Xi=r.extend({retrieve:Jr({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:Jr({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:Jr({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:Jr({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})});var Zi=r.method,Qi=r.extend({create:Zi({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(t,e)=>{if(!e.headers||!e.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:Zi({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})});var ea=r.method,ta=r.extend({retrieve:ea({method:"GET",fullPath:"/v1/events/{id}"}),list:ea({method:"GET",fullPath:"/v1/events",methodType:"list"})});var ra=r.method,oa=r.extend({retrieve:ra({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:ra({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})});var Xr=r.method,sa=r.extend({create:Xr({method:"POST",fullPath:"/v1/file_links"}),retrieve:Xr({method:"GET",fullPath:"/v1/file_links/{link}"}),update:Xr({method:"POST",fullPath:"/v1/file_links/{link}"}),list:Xr({method:"GET",fullPath:"/v1/file_links",methodType:"list"})});var du=(t,e,o)=>{let s=(Math.round(Math.random()*1e16)+Math.round(Math.random()*1e16)).toString();o["Content-Type"]=`multipart/form-data; boundary=${s}`;let n=new TextEncoder,i=new Uint8Array(0),a=n.encode(`\r
`);function l(h){let g=i,d=h instanceof Uint8Array?h:new Uint8Array(n.encode(h));i=new Uint8Array(g.length+d.length+2),i.set(g),i.set(d,g.length),i.set(a,i.length-2)}function u(h){return`"${h.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}let p=Ms(e);for(let h in p){if(!Object.prototype.hasOwnProperty.call(p,h))continue;let g=p[h];if(l(`--${s}`),Object.prototype.hasOwnProperty.call(g,"data")){let d=g;l(`Content-Disposition: form-data; name=${u(h)}; filename=${u(d.name||"blob")}`),l(`Content-Type: ${d.type||"application/octet-stream"}`),l(""),l(d.data)}else l(`Content-Disposition: form-data; name=${u(h)}`),l(""),l(g)}return l(`--${s}--`),i};function na(t,e,o,s){if(e=e||{},t!=="POST")return s(null,Ae(e));this._stripe._platformFunctions.tryBufferData(e).then(n=>{let i=du(t,n,o);return s(null,i)}).catch(n=>s(n,null))}var Wo=r.method,ia=r.extend({create:Wo({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:Wo({method:"GET",fullPath:"/v1/files/{file}"}),list:Wo({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:na});var Wt=r.method,aa=r.extend({create:Wt({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:Wt({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:Wt({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:Wt({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:Wt({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})});var ca=r.method,la=r.extend({retrieve:ca({method:"GET",fullPath:"/v1/invoice_payments/{invoice_payment}"}),list:ca({method:"GET",fullPath:"/v1/invoice_payments",methodType:"list"})});var Zr=r.method,ua=r.extend({retrieve:Zr({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:Zr({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:Zr({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:Zr({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})});var H=r.method,da=r.extend({create:H({method:"POST",fullPath:"/v1/invoices"}),retrieve:H({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:H({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:H({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:H({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:H({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),attachPayment:H({method:"POST",fullPath:"/v1/invoices/{invoice}/attach_payment"}),createPreview:H({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:H({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:H({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),markUncollectible:H({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:H({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:H({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),search:H({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:H({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:H({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:H({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:H({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})});var pu=r.method,pa=r.extend({retrieve:pu({method:"GET",fullPath:"/v1/mandates/{mandate}"})});var ha=r.method,Yo="connect.stripe.com",ma=r.extend({basePath:"/",authorizeUrl(t,e){t=t||{},e=e||{};let o="oauth/authorize";return e.express&&(o=`express/${o}`),t.response_type||(t.response_type="code"),t.client_id||(t.client_id=this._stripe.getClientId()),t.scope||(t.scope="read_write"),`https://${Yo}/${o}?${Ae(t)}`},token:ha({method:"POST",path:"oauth/token",host:Yo}),deauthorize(t,...e){return t.client_id||(t.client_id=this._stripe.getClientId()),ha({method:"POST",path:"oauth/deauthorize",host:Yo}).apply(this,[t,...e])}});var fa=r.method,Pa=r.extend({retrieve:fa({method:"GET",fullPath:"/v1/payment_attempt_records/{id}"}),list:fa({method:"GET",fullPath:"/v1/payment_attempt_records",methodType:"list"})});var ie=r.method,va=r.extend({create:ie({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:ie({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:ie({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:ie({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:ie({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:ie({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:ie({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:ie({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:ie({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),listAmountDetailsLineItems:ie({method:"GET",fullPath:"/v1/payment_intents/{intent}/amount_details_line_items",methodType:"list"}),search:ie({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:ie({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})});var Yt=r.method,ga=r.extend({create:Yt({method:"POST",fullPath:"/v1/payment_links"}),retrieve:Yt({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:Yt({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:Yt({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:Yt({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})});var Qr=r.method,ya=r.extend({create:Qr({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:Qr({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:Qr({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:Qr({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})});var Jt=r.method,Ta=r.extend({create:Jt({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:Jt({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:Jt({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:Jt({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:Jt({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})});var lt=r.method,_a=r.extend({create:lt({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:lt({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:lt({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:lt({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:lt({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:lt({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})});var Ie=r.method,Sa=r.extend({retrieve:Ie({method:"GET",fullPath:"/v1/payment_records/{id}"}),reportPayment:Ie({method:"POST",fullPath:"/v1/payment_records/report_payment"}),reportPaymentAttempt:Ie({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt"}),reportPaymentAttemptCanceled:Ie({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_canceled"}),reportPaymentAttemptFailed:Ie({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_failed"}),reportPaymentAttemptGuaranteed:Ie({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_guaranteed"}),reportPaymentAttemptInformational:Ie({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_informational"}),reportRefund:Ie({method:"POST",fullPath:"/v1/payment_records/{id}/report_refund"})});var ut=r.method,Ea=r.extend({create:ut({method:"POST",fullPath:"/v1/payouts"}),retrieve:ut({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:ut({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:ut({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:ut({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:ut({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})});var Xt=r.method,xa=r.extend({create:Xt({method:"POST",fullPath:"/v1/plans"}),retrieve:Xt({method:"GET",fullPath:"/v1/plans/{plan}"}),update:Xt({method:"POST",fullPath:"/v1/plans/{plan}"}),list:Xt({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:Xt({method:"DELETE",fullPath:"/v1/plans/{plan}"})});var Zt=r.method,ba=r.extend({create:Zt({method:"POST",fullPath:"/v1/prices"}),retrieve:Zt({method:"GET",fullPath:"/v1/prices/{price}"}),update:Zt({method:"POST",fullPath:"/v1/prices/{price}"}),list:Zt({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:Zt({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})});var me=r.method,Oa=r.extend({create:me({method:"POST",fullPath:"/v1/products"}),retrieve:me({method:"GET",fullPath:"/v1/products/{id}"}),update:me({method:"POST",fullPath:"/v1/products/{id}"}),list:me({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:me({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:me({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:me({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:me({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:me({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:me({method:"GET",fullPath:"/v1/products/search",methodType:"search"})});var eo=r.method,Aa=r.extend({create:eo({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:eo({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:eo({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:eo({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})});var fe=r.method,Ra=r.extend({create:fe({method:"POST",fullPath:"/v1/quotes"}),retrieve:fe({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:fe({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:fe({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:fe({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:fe({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:fe({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:fe({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:fe({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:fe({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})});var Qt=r.method,wa=r.extend({create:Qt({method:"POST",fullPath:"/v1/refunds"}),retrieve:Qt({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:Qt({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:Qt({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:Qt({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})});var Jo=r.method,Ca=r.extend({retrieve:Jo({method:"GET",fullPath:"/v1/reviews/{review}"}),list:Jo({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:Jo({method:"POST",fullPath:"/v1/reviews/{review}/approve"})});var hu=r.method,Ia=r.extend({list:hu({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})});var Ve=r.method,Ma=r.extend({create:Ve({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:Ve({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:Ve({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:Ve({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:Ve({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:Ve({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:Ve({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})});var to=r.method,ka=r.extend({create:to({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:to({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:to({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:to({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})});var er=r.method,Ga=r.extend({create:er({method:"POST",fullPath:"/v1/sources"}),retrieve:er({method:"GET",fullPath:"/v1/sources/{source}"}),update:er({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:er({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:er({method:"POST",fullPath:"/v1/sources/{source}/verify"})});var tr=r.method,Da=r.extend({create:tr({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:tr({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:tr({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:tr({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:tr({method:"DELETE",fullPath:"/v1/subscription_items/{item}"})});var dt=r.method,qa=r.extend({create:dt({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:dt({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:dt({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:dt({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:dt({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:dt({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})});var Te=r.method,Ba=r.extend({create:Te({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:Te({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:Te({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:Te({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:Te({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:Te({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),migrate:Te({method:"POST",fullPath:"/v1/subscriptions/{subscription}/migrate"}),resume:Te({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:Te({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})});var La=r.method,Fa=r.extend({retrieve:La({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:La({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})});var ro=r.method,Ha=r.extend({create:ro({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:ro({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:ro({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:ro({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})});var oo=r.method,Na=r.extend({create:oo({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:oo({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:oo({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:oo({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})});var Ua=r.method,ja=r.extend({create:Ua({method:"POST",fullPath:"/v1/tokens"}),retrieve:Ua({method:"GET",fullPath:"/v1/tokens/{token}"})});var rr=r.method,Va=r.extend({create:rr({method:"POST",fullPath:"/v1/topups"}),retrieve:rr({method:"GET",fullPath:"/v1/topups/{topup}"}),update:rr({method:"POST",fullPath:"/v1/topups/{topup}"}),list:rr({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:rr({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})});var Me=r.method,za=r.extend({create:Me({method:"POST",fullPath:"/v1/transfers"}),retrieve:Me({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:Me({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:Me({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:Me({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:Me({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:Me({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:Me({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})});var or=r.method,$a=r.extend({create:or({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:or({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:or({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:or({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:or({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})});var mu=I("apps",{Secrets:li}),fu=I("billing",{Alerts:Xs,CreditBalanceSummary:un,CreditBalanceTransactions:pn,CreditGrants:hn,MeterEventAdjustments:An,MeterEvents:In,Meters:kn}),Pu=I("billingPortal",{Configurations:nn,Sessions:ui}),vu=I("checkout",{Sessions:di}),gu=I("climate",{Orders:Dn,Products:$n,Suppliers:vi}),yu=I("entitlements",{ActiveEntitlements:Js,Features:Sn}),Tu=I("financialConnections",{Accounts:Vs,Sessions:hi,Transactions:Ei}),_u=I("forwarding",{Requests:ii}),Su=I("identity",{VerificationReports:Mi,VerificationSessions:ki}),Eu=I("issuing",{Authorizations:Qs,Cardholders:rn,Cards:on,Disputes:vn,PersonalizationDesigns:Nn,PhysicalBundles:Vn,Tokens:yi,Transactions:xi}),xu=I("radar",{EarlyFraudWarnings:yn,PaymentEvaluations:Hn,ValueListItems:wi,ValueLists:Ci}),bu=I("reporting",{ReportRuns:oi,ReportTypes:ni}),Ou=I("sigma",{ScheduledQueryRuns:ci}),Au=I("tax",{Associations:Zs,Calculations:tn,Registrations:ri,Settings:fi,Transactions:bi}),Ru=I("terminal",{Configurations:an,ConnectionTokens:ln,Locations:On,OnboardingLinks:Gn,Readers:Kn}),wu=I("testHelpers",{ConfirmationTokens:cn,Customers:fn,Refunds:ti,TestClocks:gi,Issuing:I("issuing",{Authorizations:en,Cards:sn,PersonalizationDesigns:Un,Transactions:Oi}),Terminal:I("terminal",{Readers:Wn}),Treasury:I("treasury",{InboundTransfers:xn,OutboundPayments:qn,OutboundTransfers:Ln,ReceivedCredits:Yn,ReceivedDebits:Zn})}),Cu=I("treasury",{CreditReversals:mn,DebitReversals:Pn,FinancialAccounts:En,InboundTransfers:bn,OutboundPayments:Bn,OutboundTransfers:Fn,ReceivedCredits:Xn,ReceivedDebits:ei,TransactionEntries:_i,Transactions:Ri}),Iu=I("v2",{Billing:I("billing",{MeterEventAdjustments:Rn,MeterEventSession:wn,MeterEventStream:Cn,MeterEvents:Mn}),Core:I("core",{AccountLinks:Ns,AccountTokens:js,Accounts:Ws,EventDestinations:Tn,Events:_n})});var Ka="api.stripe.com",Wa="443",Ya="/v1/",Ja=Go,Xa=8e4,Za=5,Qa=.5,Mu=["name","version","url","partner_id"],ec=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],ku=t=>new Re(t,r.MAX_BUFFERED_REQUEST_METRICS);function tc(t,e=ku){o.PACKAGE_VERSION="20.3.1",o.API_VERSION=Go,o.USER_AGENT=Object.assign({bindings_version:o.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},ks()),o.StripeResource=r,o.StripeContext=he,o.resources=pt,o.HttpClient=U,o.HttpClientResponse=Xe,o.CryptoProvider=Ze,o.webhooks=Hs(t);function o(s,n={}){if(!(this instanceof o))return new o(s,n);let i=this._getPropsFromConfig(n);this._platformFunctions=t,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=o.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);let a=i.httpAgent||null;this._api={host:i.host||Ka,port:i.port||Wa,protocol:i.protocol||"https",basePath:Ya,version:i.apiVersion||Ja,timeout:_r("timeout",i.timeout,Xa),maxNetworkRetries:_r("maxNetworkRetries",i.maxNetworkRetries,2),agent:a,httpClient:i.httpClient||(a?this._platformFunctions.createNodeHttpClient(a):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:i.stripeAccount||null,stripeContext:i.stripeContext||null};let l=i.typescript||!1;l!==o.USER_AGENT.typescript&&(o.USER_AGENT.typescript=l),i.appInfo&&this._setAppInfo(i.appInfo),this._prepResources(),this._setAuthenticator(s,i.authenticator),this.errors=kr,this.webhooks=o.webhooks,this._prevRequestMetrics=[],this._enableTelemetry=i.telemetry!==!1,this._requestSender=e(this),this.StripeResource=o.StripeResource}return o.errors=kr,o.createNodeHttpClient=t.createNodeHttpClient,o.createFetchHttpClient=t.createFetchHttpClient,o.createNodeCryptoProvider=t.createNodeCryptoProvider,o.createSubtleCryptoProvider=t.createSubtleCryptoProvider,o.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(s,n,i,a){return this._requestSender._rawRequest(s,n,i,a)},_setAuthenticator(s,n){if(s&&n)throw new Error("Can't specify both apiKey and authenticator");if(!s&&!n)throw new Error("Neither apiKey nor config.authenticator provided");this._authenticator=s?vr(s):n},_setAppInfo(s){if(s&&typeof s!="object")throw new Error("AppInfo must be an object.");if(s&&!s.name)throw new Error("AppInfo.name is required");s=s||{},this._appInfo=Mu.reduce((n,i)=>(typeof s[i]=="string"&&(n=n||{},n[i]=s[i]),n),{})},_setApiField(s,n){this._api[s]=n},getApiField(s){return this._api[s]},setClientId(s){this._clientId=s},getClientId(){return this._clientId},getConstant:s=>{switch(s){case"DEFAULT_HOST":return Ka;case"DEFAULT_PORT":return Wa;case"DEFAULT_BASE_PATH":return Ya;case"DEFAULT_API_VERSION":return Ja;case"DEFAULT_TIMEOUT":return Xa;case"MAX_NETWORK_RETRY_DELAY_SEC":return Za;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return Qa}return o[s]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(s,n,i){let a=_r(s,n,i);this._setApiField(s,a)},getMaxNetworkRetryDelay(){return Za},getInitialNetworkRetryDelay(){return Qa},getClientUserAgent(s){return this.getClientUserAgentSeeded(o.USER_AGENT,s)},getClientUserAgentSeeded(s,n){this._platformFunctions.getUname().then(i=>{var a;let l={};for(let p in s)!Object.prototype.hasOwnProperty.call(s,p)||(l[p]=encodeURIComponent((a=s[p])!==null&&a!==void 0?a:"null"));l.uname=encodeURIComponent(i||"UNKNOWN");let u=this.getApiField("httpClient");u&&(l.httplib=encodeURIComponent(u.getClientName())),this._appInfo&&(l.application=this._appInfo),n(JSON.stringify(l))})},getAppInfoAsString(){if(!this._appInfo)return"";let s=this._appInfo.name;return this._appInfo.version&&(s+=`/${this._appInfo.version}`),this._appInfo.url&&(s+=` (${this._appInfo.url})`),s},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(let s in pt)!Object.prototype.hasOwnProperty.call(pt,s)||(this[Is(s)]=new pt[s](this))},_getPropsFromConfig(s){if(!s)return{};let n=typeof s=="string";if(!(s===Object(s)&&!Array.isArray(s))&&!n)throw new Error("Config must either be an object or a string");if(n)return{apiVersion:s};if(Object.keys(s).filter(l=>!ec.includes(l)).length>0)throw new Error(`Config object may only contain the following: ${ec.join(", ")}`);return s},parseEventNotification(s,n,i,a,l,u){let p=this.webhooks.constructEvent(s,n,i,a,l,u);return p.context&&(p.context=he.parse(p.context)),p.fetchEvent=()=>this._requestSender._rawRequest("GET",`/v2/core/events/${p.id}`,void 0,{stripeContext:p.context},["fetch_event"]),p.fetchRelatedObject=()=>p.related_object?this._requestSender._rawRequest("GET",p.related_object.url,void 0,{stripeContext:p.context},["fetch_related_object"]):Promise.resolve(null),p}},o}var Gu=tc(new Ar),rc=Gu;var Pc=K(mc()),rd=new rc(Pc.STRIPE_API_KEY,{httpClient:(0,fc.createHttpClient)(),apiVersion:"2026-01-28.clover"}),ze=rd;var ir=["customers","subscriptions","invoices","charges","products","prices"];function od(t){return f(this,null,function*(){switch(t){case"customers":return ze.customers.list({limit:100});case"subscriptions":return ze.subscriptions.list({limit:100});case"invoices":return ze.invoices.list({limit:100});case"charges":return ze.charges.list({limit:100});case"products":return ze.products.list({limit:100});case"prices":return ze.prices.list({limit:100})}})}function lo(){let[t,e]=(0,ke.useState)(!1),[o,s]=(0,ke.useState)({completed:0,total:ir.length,failed:[]}),[n,i]=(0,ke.useState)(null),a=(0,ke.useRef)(!1);return{syncAll:(0,ke.useCallback)(()=>f(this,null,function*(){if(a.current)return!1;a.current=!0,e(!0),i(null),s({completed:0,total:ir.length,failed:[]});let u=[],p="";for(let g of ir){s(d=>Ee(V({},d),{current:g}));try{let d=yield od(g);d.data.length>0&&(yield Y("/sync-data",{method:"POST",body:{objectType:g,records:d.data}}))}catch(d){let m=d instanceof Error?d.message:String(d);console.error(`Sync failed for ${g}:`,m),p=m,u.push(g)}s(d=>Ee(V({},d),{completed:d.completed+1,failed:[...u]}))}a.current=!1,e(!1);let h=ir.length-u.length;return u.length>0&&h===0?(i(`Sync failed: ${p}`),!1):(u.length>0&&i(`Synced ${h}/${ir.length} types. Failed: ${u.join(", ")}`),h>0)}),[]),syncing:t,progress:o,error:n}}var ht=x("react");function uo(){let[t,e]=(0,ht.useState)({state:"checking",expiresAt:null}),o=(0,ht.useRef)(!1),s=(0,ht.useCallback)(()=>f(this,null,function*(){var n,i;if(o.current)return t;o.current=!0,e({state:"checking",expiresAt:null});try{let a=yield Y("/auth-refresh"),l={state:"healthy",expiresAt:((n=a.data)==null?void 0:n.expiresAt)||null};return e(l),o.current=!1,l}catch(a){let l=a,u=(i=l==null?void 0:l.error)==null?void 0:i.code,p;return u==="token_not_found"?p={state:"missing",expiresAt:null}:u==="refresh_token_expired"?p={state:"expired",expiresAt:null}:p={state:"error",expiresAt:null},e(p),o.current=!1,p}}),[t]);return{authStatus:t,checkAuth:s}}var R=x("react/jsx-runtime"),sd=({userContext:t,environment:e})=>{var ts;(t==null?void 0:t.id)&&((ts=t==null?void 0:t.account)==null?void 0:ts.id)&&Ke(t.id,t.account.id);let[o,s]=(0,M.useState)("loading"),[n,i]=(0,M.useState)([]),[a,l]=(0,M.useState)(null),[u,p]=(0,M.useState)([]),[h,g]=(0,M.useState)(!1),[d,m]=(0,M.useState)(),[v,T]=(0,M.useState)(null),[y,S]=(0,M.useState)([]),[E,_]=(0,M.useState)(!1),[b,D]=(0,M.useState)(!1),[$,k]=(0,M.useState)(null),{syncAll:X,syncing:ae,progress:te,error:mt}=lo(),{checkAuth:Xo}=uo(),ho=(0,M.useRef)(!1),ft=()=>f(void 0,null,function*(){var B;try{let se=((B=(yield Y("/insights-welcome")).data)==null?void 0:B.insights)||[];return S(se),se.length>0}catch(de){return!1}}),Zo=(0,M.useCallback)(()=>f(void 0,null,function*(){if(ho.current)return;if(ho.current=!0,(yield Xo()).state==="healthy"){k("backend");try{yield Y("/sync-trigger",{method:"POST"}),yield ft(),D(!0)}catch(de){k("app");let se=yield X();D(!0),se&&(yield ft())}}else{k("app");let de=yield X();D(!0),de&&(yield ft())}}),[Xo,X]),Qo=(0,M.useCallback)(()=>f(void 0,null,function*(){var B;try{let se=((B=(yield Y("/chat-conversations")).data)==null?void 0:B.conversations)||[];i(se),se.length===0?s("empty"):(yield es(se[0].id),s("chat"))}catch(de){s("empty")}}),[]);(0,M.useEffect)(()=>{Qo(),Zo()},[Qo,Zo]);let es=B=>f(void 0,null,function*(){var de;try{let cr=(((de=(yield Y(`/chat-conversation-detail?conversationId=${B}`)).data)==null?void 0:de.messages)||[]).map(Se=>{var Pt,vt;return{id:Se.id,role:Se.role,content:Se.content,freshness:(Pt=Se.metadata)==null?void 0:Pt.freshness,insights:(vt=Se.metadata)==null?void 0:vt.insights}});p(cr),l(B)}catch(se){T("Failed to load conversation")}}),_c=(0,M.useCallback)(()=>f(void 0,null,function*(){ho.current=!1,D(!1),k("app");let B=yield X();D(!0),B&&(yield ft())}),[X]),ar=(0,M.useCallback)(B=>f(void 0,null,function*(){var cr,Se,Pt,vt,rs;T(null);let se={id:`temp-${Date.now()}`,role:"user",content:B};p(pe=>[...pe,se]),s("chat"),g(!0),m(Date.now());try{let pe=yield Y("/chat-message",{method:"POST",body:{conversationId:a,content:B}}),gt={id:((cr=pe.data)==null?void 0:cr.message.id)||`msg-${Date.now()}`,role:"assistant",content:((Se=pe.data)==null?void 0:Se.message.content)||"Sorry, I could not generate a response.",freshness:pe.meta,insights:(Pt=pe.data)==null?void 0:Pt.insights};((vt=pe.data)==null?void 0:vt.conversationId)&&!a&&l(pe.data.conversationId),p(lr=>[...lr,gt])}catch(pe){let gt=pe,lr=(rs=gt==null?void 0:gt.error)==null?void 0:rs.code;T(lr==="auth_refresh_failed"?"Your session has expired. Please re-authorize Javelin.":lr==="llm_unavailable"?"AI service is temporarily unavailable. Please try again in a moment.":"Something went wrong. Please try again.")}finally{g(!1),m(void 0)}}),[a]),Sc=(0,M.useCallback)(B=>{ar(B)},[ar]),Ec=(0,M.useCallback)(()=>{l(null),p([]),s("empty"),_(!1),ft()},[]),xc=(0,M.useCallback)(B=>f(void 0,null,function*(){_(!1),yield es(B),s("chat")}),[]);if(o==="loading")return(0,R.jsx)(w.ContextView,{title:"Javelin",children:(0,R.jsxs)(w.Box,{css:{padding:"medium",stack:"y",gap:"medium",alignX:"center"},children:[(0,R.jsx)(w.Spinner,{}),(0,R.jsx)(w.Inline,{css:{color:"secondary"},children:"Loading Javelin..."})]})});let bc=$==="backend"?"Syncing via backend...":"Syncing via app...";return(0,R.jsx)(w.ContextView,{title:"Javelin",actions:(0,R.jsxs)(w.Box,{css:{stack:"x",gap:"small"},children:[n.length>0&&(0,R.jsx)(w.Button,{type:"secondary",onPress:()=>_(B=>!B),children:"History"}),(0,R.jsx)(w.Button,{type:"secondary",onPress:Ec,children:"New chat"})]}),children:(0,R.jsxs)(w.Box,{css:{stack:"y",height:"fill"},children:[v&&(0,R.jsx)(w.Banner,{type:"critical",title:"Error",description:v,onDismiss:()=>T(null)}),ae&&(0,R.jsxs)(w.Box,{css:{padding:"small",backgroundColor:"container",stack:"x",gap:"small",alignY:"center"},children:[(0,R.jsx)(w.Spinner,{size:"small"}),(0,R.jsxs)(w.Inline,{css:{color:"secondary"},children:[bc," (",te.completed,"/",te.total,")"]})]}),$==="backend"&&!b&&!ae&&(0,R.jsxs)(w.Box,{css:{padding:"small",backgroundColor:"container",stack:"x",gap:"small",alignY:"center"},children:[(0,R.jsx)(w.Spinner,{size:"small"}),(0,R.jsx)(w.Inline,{css:{color:"secondary"},children:"Syncing via backend..."})]}),mt&&!ae&&(0,R.jsx)(w.Banner,{type:"caution",title:"Sync issue",description:mt,actions:(0,R.jsx)(w.Button,{onPress:_c,children:"Retry sync"})}),b&&!ae&&!mt&&(0,R.jsx)(w.Banner,{type:"default",title:"Data synced",description:"Your Stripe data is up to date.",onDismiss:()=>D(!1)}),E&&(0,R.jsx)(xs,{conversations:n,activeConversationId:a,onSelectConversation:xc,onClose:()=>_(!1)}),!E&&(0,R.jsx)(w.Box,{css:{stack:"y",overflow:"auto"},children:o==="empty"&&u.length===0?(0,R.jsx)(Es,{onSelectPrompt:ar,insights:y}):(0,R.jsx)(_s,{messages:u,isThinking:h,thinkingStartedAt:d,onClarificationSelect:Sc})}),!E&&(0,R.jsx)(Ss,{onSend:ar,disabled:h})]})})},vc=sd;var j=K(ne()),gc=x("react");var oe=x("react/jsx-runtime");function nd(t,e){return t==="checking"?"Checking...":t==="healthy"&&e?`Connected (expires in ${Math.round((new Date(e).getTime()-Date.now())/6e4)} min)`:t==="healthy"?"Connected":t==="missing"||t==="expired"?"Using app permissions":"Unable to check"}function id(t){return t==="healthy"?"default":"caution"}var ad=({userContext:t})=>{var a;(t==null?void 0:t.id)&&((a=t==null?void 0:t.account)==null?void 0:a.id)&&Ke(t.id,t.account.id);let{authStatus:e,checkAuth:o}=uo();(0,gc.useEffect)(()=>{o()},[o]);let s=e.state==="checking",n=nd(e.state,e.expiresAt),i=e.state==="missing"||e.state==="expired";return(0,oe.jsx)(j.SettingsView,{children:(0,oe.jsxs)(j.Box,{css:{padding:"medium",stack:"y",gap:"large"},children:[(0,oe.jsxs)(j.Box,{css:{stack:"y",gap:"small"},children:[(0,oe.jsx)(j.Inline,{css:{font:"heading",fontWeight:"bold"},children:"Stripe access"}),(0,oe.jsx)(j.Box,{css:{stack:"x",gap:"small",alignY:"center"},children:s?(0,oe.jsx)(j.Spinner,{size:"small"}):(0,oe.jsx)(j.Banner,{type:id(e.state),description:n})})]}),i&&(0,oe.jsx)(j.Box,{css:{stack:"y",gap:"small"},children:(0,oe.jsx)(j.Inline,{css:{color:"secondary"},children:"Full OAuth connection is established during app install. If not connected, Javelin uses built-in app permissions to sync your data."})}),(0,oe.jsx)(j.Box,{children:(0,oe.jsx)(j.Button,{type:"secondary",onPress:o,disabled:s,children:"Check status"})})]})})},yc=ad;var G=K(ne()),ve=x("react");var C=x("react/jsx-runtime"),po={customers:"Customers",subscriptions:"Subscriptions",invoices:"Invoices",charges:"Charges",products:"Products",prices:"Prices"},cd=({userContext:t,oauthContext:e})=>{var m;(t==null?void 0:t.id)&&((m=t==null?void 0:t.account)==null?void 0:m.id)&&Ke(t.id,t.account.id);let[o,s]=(0,ve.useState)("auth"),[n,i]=(0,ve.useState)(""),{syncAll:a,syncing:l,progress:u,error:p}=lo(),h=(0,ve.useRef)(!1),g=(0,ve.useCallback)(()=>f(void 0,null,function*(){if(h.current)return;h.current=!0;let v=!1;if((e==null?void 0:e.code)&&!(e!=null&&e.error))try{yield Y("/auth-callback",{method:"POST",body:{code:e.code,state:e.state||"",verifier:e.verifier||""}}),v=!0}catch(y){console.warn("auth-callback failed, proceeding with SDK-based sync")}if(s("syncing"),!(yield a())){s("error"),i("Failed to sync your Stripe data. Please try again."),h.current=!1;return}if(v)try{yield Y("/sync-trigger",{method:"POST",body:{}})}catch(y){}s("success")}),[e,a]);(0,ve.useEffect)(()=>{g()},[g]);let d=(0,ve.useCallback)(()=>{h.current=!1,i(""),s("auth"),g()},[g]);return(0,C.jsx)(G.ContextView,{title:"Welcome to Javelin",children:(0,C.jsxs)(G.Box,{css:{padding:"medium",stack:"y",gap:"medium",alignX:"center"},children:[(o==="auth"||o==="syncing"&&l)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(G.Spinner,{}),(0,C.jsx)(G.Inline,{css:{font:"heading"},children:o==="auth"?"Connecting to Stripe...":"Syncing your data..."}),o==="syncing"&&u.current&&(0,C.jsxs)(G.Box,{css:{stack:"y",gap:"small",width:"fill"},children:[(0,C.jsxs)(G.Inline,{css:{color:"secondary"},children:["Syncing ",po[u.current]||u.current," (",u.completed+1,"/",u.total,")"]}),Object.keys(po).map(v=>{let y=Object.keys(po).indexOf(v)<u.completed,S=v===u.current,E=u.failed.includes(v);return(0,C.jsxs)(G.Box,{css:{stack:"x",gap:"small",alignY:"center"},children:[y&&!E&&(0,C.jsx)(G.Icon,{name:"check"}),y&&E&&(0,C.jsx)(G.Icon,{name:"warning"}),S&&(0,C.jsx)(G.Spinner,{size:"small"}),(0,C.jsx)(G.Inline,{css:{color:y||S?"primary":"secondary"},children:po[v]})]},v)})]})]}),o==="success"&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(G.Banner,{type:"default",title:"Setup complete!",description:"Javelin is ready. Your data has been synced \u2014 you can start asking questions right away."}),p&&(0,C.jsx)(G.Banner,{type:"caution",title:"Partial sync",description:p}),(0,C.jsx)(G.Inline,{css:{color:"secondary"},children:"Open the Javelin drawer from any page in your Stripe Dashboard to get started."})]}),o==="error"&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(G.Banner,{type:"critical",title:"Setup failed",description:n}),(0,C.jsx)(G.Button,{type:"primary",onPress:d,children:"Retry"})]})]})})},Tc=cd;xe(_e,K(fo()));var ld="2026-02-13 12:18:20.023822 -0300 -03 m=+1.925409429";var ud={allowed_redirect_uris:["https://dashboard.stripe.com/test/apps-oauth/com.javelin.analytics","https://dashboard.stripe.com/apps-oauth/com.javelin.analytics"],connect_permissions:null,distribution_type:"private",icon:"./icon.png",id:"com.javelin.analytics",name:"Javelin",permissions:[{permission:"customer_read",purpose:"Read customer data to calculate business metrics and answer questions about your customer base"},{permission:"invoice_read",purpose:"Read invoice data to calculate revenue, MRR, and other billing metrics"},{permission:"charge_read",purpose:"Read charge data to analyze payment volume and revenue trends"},{permission:"subscription_read",purpose:"Read subscription data to calculate MRR, churn rate, and subscription analytics"},{permission:"product_read",purpose:"Read product data to break down revenue and metrics by product"},{permission:"plan_read",purpose:"Read price and plan data to analyze plan-level revenue and subscriber counts"},{permission:"secret_write",purpose:"Store and manage OAuth tokens securely via the Secret Store API"}],sandbox_install_compatible:!0,stripe_api_access_type:"oauth",ui_extension:{content_security_policy:{"connect-src":["https://tecvycpmzcxxoqmtttjy.supabase.co/functions/v1/","https://openrouter.ai/api/","https://api.openai.com/v1/"],"image-src":null,purpose:"Connect to Supabase backend for data processing and LLM provider for AI-powered business intelligence"},views:[{component:"ChatView",viewport:"stripe.dashboard.drawer.default"},{component:"SettingsView",viewport:"settings"},{component:"OnboardingView",viewport:"onboarding"}]},version:"0.0.8"};return kc(_e);})();
//# sourceMappingURL=ext.min.js.map
