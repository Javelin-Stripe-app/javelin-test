"use strict";var __StripeExtExports=(()=>{var Tc=Object.create;var ft=Object.defineProperty,yc=Object.defineProperties,_c=Object.getOwnPropertyDescriptor,Sc=Object.getOwnPropertyDescriptors,Ec=Object.getOwnPropertyNames,Zo=Object.getOwnPropertySymbols,xc=Object.getPrototypeOf,es=Object.prototype.hasOwnProperty,bc=Object.prototype.propertyIsEnumerable;var Qo=(r,e,o)=>e in r?ft(r,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[e]=o,V=(r,e)=>{for(var o in e||(e={}))es.call(e,o)&&Qo(r,o,e[o]);if(Zo)for(var o of Zo(e))bc.call(e,o)&&Qo(r,o,e[o]);return r},_e=(r,e)=>yc(r,Sc(e));var x=(r=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(r,{get:(e,o)=>(typeof require!="undefined"?require:e)[o]}):r)(function(r){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var R=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),uo=(r,e)=>{for(var o in e)ft(r,o,{get:e[o],enumerable:!0})},ar=(r,e,o,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Ec(e))!es.call(r,n)&&n!==o&&ft(r,n,{get:()=>e[n],enumerable:!(s=_c(e,n))||s.enumerable});return r},Se=(r,e,o)=>(ar(r,e,"default"),o&&ar(o,e,"default")),K=(r,e,o)=>(o=r!=null?Tc(xc(r)):{},ar(e||!r||!r.__esModule?ft(o,"default",{value:r,enumerable:!0}):o,r)),Oc=r=>ar(ft({},"__esModule",{value:!0}),r);var P=(r,e,o)=>new Promise((s,n)=>{var i=l=>{try{u(o.next(l))}catch(p){n(p)}},a=l=>{try{u(o.throw(l))}catch(p){n(p)}},u=l=>l.done?s(l.value):Promise.resolve(l.value).then(i,a);u((o=o.apply(r,e)).next())});var po=R(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.SDK_VERSION=void 0;cr.SDK_VERSION="9.1.0"});var re=R(c=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.TableHeaderCell=c.TableHead=c.TableFooter=c.TableCell=c.TableBody=c.Tab=c.TabPanels=c.TabPanel=c.TabList=c.Switch=c.StripeFileUploader=c.Spinner=c.Sparkline=c.SignInView=c.SettingsView=c.Select=c.Radio=c.PropertyList=c.PropertyListItem=c.PlatformConfigurationView=c.OnboardingView=c.Menu=c.MenuItem=c.MenuGroup=c.List=c.ListItem=c.Link=c.LineChart=c.Inline=c.Img=c.Icon=c.FormFieldGroup=c.FocusView=c.Divider=c.DetailPageTable=c.DetailPagePropertyList=c.DetailPageModule=c.DateField=c.ContextView=c.Chip=c.ChipList=c.Checkbox=c.Button=c.ButtonGroup=c.Box=c.BarChart=c.Banner=c.Badge=c.Accordion=c.AccordionItem=void 0;c.Tooltip=c.TextField=c.TextArea=c.TaskList=c.TaskListItem=c.Tabs=c.TableRow=c.Table=void 0;var Rc=x("react/jsx-runtime"),Ac=x("@remote-ui/react"),wc=po(),Cc=r=>{let e=r.displayName||r.toString(),o=s=>(0,Rc.jsx)(r,_e(V({},s),{wrappedComponentName:e,sdkVersion:wc.SDK_VERSION,schemaVersion:"v9"}));return o.wrappedComponentName=e,o},f=(r,e,o)=>{let s=(0,Ac.createRemoteReactComponent)(r,{fragmentProps:e});return o?Cc(s):s};c.AccordionItem=f("AccordionItem",["title","actions","media","subtitle"],!0);c.Accordion=f("Accordion",[],!0);c.Badge=f("Badge",[],!0);c.Banner=f("Banner",["actions","description","title"],!0);c.BarChart=f("BarChart",[],!0);c.Box=f("Box",[],!0);c.ButtonGroup=f("ButtonGroup",["menuTrigger"],!0);c.Button=f("Button",[],!0);c.Checkbox=f("Checkbox",["label"],!0);c.ChipList=f("ChipList",[],!0);c.Chip=f("Chip",[],!0);c.ContextView=f("ContextView",["actions","banner","footerContent","primaryAction","secondaryAction"],!0);c.DateField=f("DateField",["label"],!0);c.DetailPageModule=f("DetailPageModule",[],!0);c.DetailPagePropertyList=f("DetailPagePropertyList",[],!0);c.DetailPageTable=f("DetailPageTable",[],!0);c.Divider=f("Divider",[],!0);c.FocusView=f("FocusView",["footerContent","primaryAction","secondaryAction"],!0);c.FormFieldGroup=f("FormFieldGroup",[],!0);c.Icon=f("Icon",[],!0);c.Img=f("Img",[],!0);c.Inline=f("Inline",[],!0);c.LineChart=f("LineChart",[],!0);c.Link=f("Link",[],!0);c.ListItem=f("ListItem",["icon","image","secondaryTitle","title","value"],!0);c.List=f("List",[],!0);c.MenuGroup=f("MenuGroup",["title"],!0);c.MenuItem=f("MenuItem",[],!0);c.Menu=f("Menu",["trigger"],!0);c.OnboardingView=f("OnboardingView",["error"],!0);c.PlatformConfigurationView=f("PlatformConfigurationView",[],!0);c.PropertyListItem=f("PropertyListItem",["label","value"],!0);c.PropertyList=f("PropertyList",[],!0);c.Radio=f("Radio",["label"],!0);c.Select=f("Select",["label"],!0);c.SettingsView=f("SettingsView",[],!0);c.SignInView=f("SignInView",["descriptionActionContents","footerContent"],!0);c.Sparkline=f("Sparkline",[],!0);c.Spinner=f("Spinner",[],!0);c.StripeFileUploader=f("StripeFileUploader",[],!0);c.Switch=f("Switch",["label"],!0);c.TabList=f("TabList",[],!0);c.TabPanel=f("TabPanel",[],!0);c.TabPanels=f("TabPanels",[],!0);c.Tab=f("Tab",[],!0);c.TableBody=f("TableBody",[],!0);c.TableCell=f("TableCell",[],!0);c.TableFooter=f("TableFooter",[],!0);c.TableHead=f("TableHead",[],!0);c.TableHeaderCell=f("TableHeaderCell",[],!0);c.Table=f("Table",[],!0);c.TableRow=f("TableRow",[],!0);c.Tabs=f("Tabs",[],!0);c.TaskListItem=f("TaskListItem",[],!0);c.TaskList=f("TaskList",[],!0);c.TextArea=f("TextArea",["label"],!0);c.TextField=f("TextField",["label"],!0);c.Tooltip=f("Tooltip",["trigger"],!0)});var ho=R((ad,rs)=>{"use strict";var Mc=function(r,e,o,s,n,i,a,u){if(!r){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[o,s,n,i,a,u],h=0;l=new Error(e.replace(/%s/g,function(){return p[h++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};rs.exports=Mc});var X=R(ze=>{"use strict";var kc=ze&&ze.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ze,"__esModule",{value:!0});ze.getHostEndpoint=void 0;var Gc=kc(ho()),Dc=()=>{var e;let r=(e=globalThis.__StripeExtExports)==null?void 0:e.endpoint;return(0,Gc.default)(r,"hostEndpoint has not been initialized"),r};ze.getHostEndpoint=Dc});var mo=R(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.supportsFetchAppEmbeddedKey=void 0;var qc=X(),Lc=()=>P(Pt,null,function*(){return(0,qc.getHostEndpoint)().call.supportsFetchAppEmbeddedKey().then(r=>r).catch(()=>!1)});Pt.supportsFetchAppEmbeddedKey=Lc});var os=R(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.fetchAppEmbeddedKey=void 0;var Bc=X(),Fc=()=>P(vt,null,function*(){let r=yield(0,Bc.getHostEndpoint)().call.fetchAppEmbeddedKey();if(!r)throw new Error("Unable to fetch app embedded key");return r});vt.fetchAppEmbeddedKey=Fc});var ss=R(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.fetchViaFrame=void 0;var Hc=os(),Nc=(o,...s)=>P(gt,[o,...s],function*(r,e={}){let n=yield(0,Hc.fetchAppEmbeddedKey)(),i=_e(V({},e),{headers:_e(V({},e.headers),{Authorization:`Bearer ${n}`})}),a=yield fetch(r,i),u={};a.headers.forEach((p,h)=>{u[h]=p});let l={json:void 0,arrayBuffer:void 0,headers:u,ok:a.ok,redirected:a.redirected,status:a.status,statusText:a.statusText,type:a.type,url:a.url};switch(a.headers.get("Content-Type")){case"application/json":l.json=yield a.json();break;default:l.arrayBuffer=yield a.arrayBuffer();break}return l});gt.fetchViaFrame=Nc});var ns=R(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.fetchViaHost=void 0;var jc=X(),Uc=(o,...s)=>P(Tt,[o,...s],function*(r,e={}){let n=new URL(r);return(0,jc.getHostEndpoint)().call.stripeApiFetch(n.pathname+n.search,e)});Tt.fetchViaHost=Uc});var is=R(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.selectPreferredStripeApiFetch=void 0;var Vc=mo(),zc=ss(),$c=ns(),fo=null,Kc=()=>P(yt,null,function*(){return fo||(fo=(yield(0,Vc.supportsFetchAppEmbeddedKey)())?zc.fetchViaFrame:$c.fetchViaHost),fo});yt.selectPreferredStripeApiFetch=Kc});var as=R(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.selectPreferredStripeApiFetch=void 0;var Wc=is();Object.defineProperty(lr,"selectPreferredStripeApiFetch",{enumerable:!0,get:function(){return Wc.selectPreferredStripeApiFetch}})});var Po=R(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.stripeApiFetch=void 0;var Jc=as(),Yc=(r,e)=>P(_t,null,function*(){return(yield(0,Jc.selectPreferredStripeApiFetch)())(r,e)});_t.stripeApiFetch=Yc});var St=R(W=>{"use strict";var Xc=W&&W.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(W,"__esModule",{value:!0});W.AUTHORIZATION_VALUE=W.AUTHORIZATION_HEADER=W.createHttpClient=W.STRIPE_API_KEY=W.StripeAppsHttpClient=void 0;var Zc=Xc(ho()),Qc=Po(),el=/[ps]k_(test|live)_[A-Za-z0-9]+/,vo=class{constructor(e){this._resp=e}getHeaders(){return this._resp.headers}getStatusCode(){return this._resp.status}getRawResponse(){return this._resp}toStream(){throw new Error("Streams have not been implemented in the Stripe HTTP client")}toJSON(){let{json:e}=this._resp;return e===void 0?Promise.reject(new Error("Response body undefined")):Promise.resolve(e)}},ur=class{constructor(e){this._fetch=e}getClientName(){return"stripe-ui-extension"}makeRequest(e,o,s,n,i,a,u,l){return P(this,null,function*(){(0,Zc.default)(u==="https","Must use https connections in UI extensions");let p={method:n,headers:i};a&&(p.body=a);let h=i.Authorization;if(h&&el.test(h))throw new Error("Do not use actual stripe keys when using the Stripe JS API client with UI extesions.\n\n Instead, use `STRIPE_API_KEY` from `@stripe/ui-extension-sdk/http_client` as a placeholder.");let g=new URL(s,`${u}://${e}`),d=yield this._fetch(g.toString(),p);return new vo(d)})}};W.StripeAppsHttpClient=ur;W.STRIPE_API_KEY="DO_NOT_PASS_A_REAL_API_KEY";var tl=()=>new ur(Qc.stripeApiFetch);W.createHttpClient=tl;W.AUTHORIZATION_HEADER="Authorization";W.AUTHORIZATION_VALUE=`Bearer ${W.STRIPE_API_KEY}`});var cs=R(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.createFetchStripeSignatureDirectly=void 0;var rl=St(),ol=({host:r,port:e})=>o=>P(Et,null,function*(){let s=new URL(`https://${r}:${e}/v1/apps/app_embedded_backend_signature`);return s.searchParams.set("payload",JSON.stringify(V({},o))),s.searchParams.set("include_only[]","signature"),(0,rl.createHttpClient)().makeRequest(r,e,s.pathname+s.search,"GET",{},null,"https").then(a=>a.toJSON()).then(a=>a.signature)});Et.createFetchStripeSignatureDirectly=ol});var go=R(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.setConnectionSettings=ke.connectionSettings=void 0;var ls={host:"api.stripe.com",port:443};ke.connectionSettings=ls;var sl=r=>{ke.connectionSettings=V(V({},ls),r)};ke.setConnectionSettings=sl});var To=R(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.fetchStripeSignature=void 0;var nl=cs(),il=mo(),al=go(),cl=X(),ll=r=>P(xt,null,function*(){return(yield(0,il.supportsFetchAppEmbeddedKey)())?(0,nl.createFetchStripeSignatureDirectly)(al.connectionSettings)(r):(0,cl.getHostEndpoint)().call.fetchStripeSignature(r)});xt.fetchStripeSignature=ll});var us=R(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});var ul=To();yo.default=ul.fetchStripeSignature});var ys=R(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.createHttpClient=ie.STRIPE_API_KEY=ie.AUTHORIZATION_VALUE=ie.AUTHORIZATION_HEADER=void 0;var bt=St();Object.defineProperty(ie,"AUTHORIZATION_HEADER",{enumerable:!0,get:function(){return bt.AUTHORIZATION_HEADER}});Object.defineProperty(ie,"AUTHORIZATION_VALUE",{enumerable:!0,get:function(){return bt.AUTHORIZATION_VALUE}});Object.defineProperty(ie,"STRIPE_API_KEY",{enumerable:!0,get:function(){return bt.STRIPE_API_KEY}});Object.defineProperty(ie,"createHttpClient",{enumerable:!0,get:function(){return bt.createHttpClient}});ie.default=bt.StripeAppsHttpClient});var Za=R(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.clipboardWriteText=void 0;var Au=X(),wu=(r="")=>(0,Au.getHostEndpoint)().call.clipboardWriteText(r);ro.clipboardWriteText=wu});var Qa=R(he=>{"use strict";var Cu=he&&he.__createBinding||(Object.create?function(r,e,o,s){s===void 0&&(s=o);var n=Object.getOwnPropertyDescriptor(e,o);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[o]}}),Object.defineProperty(r,s,n)}:function(r,e,o,s){s===void 0&&(s=o),r[s]=e[o]}),Iu=he&&he.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Mu=he&&he.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var o in r)o!=="default"&&Object.prototype.hasOwnProperty.call(r,o)&&Cu(e,r,o);return Iu(e,r),e};Object.defineProperty(he,"__esModule",{value:!0});he.useRefreshDashboardData=void 0;var ku=Mu(x("react")),Gu=X(),Du=()=>ku.useCallback(()=>(0,Gu.getHostEndpoint)().call.refreshDashboardData(),[]);he.useRefreshDashboardData=Du});var tc=R(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.getDashboardUserEmail=void 0;var qu=X(),ec=St(),Lu=()=>P(er,null,function*(){try{let r=yield(0,qu.getHostEndpoint)().call.stripeApiFetch("/v1/user/email",{headers:{[ec.AUTHORIZATION_HEADER]:ec.AUTHORIZATION_VALUE}});return r.ok?(r.email=r.json.email,r):Promise.reject(r)}catch(r){throw console.error("Error getting dashboard user email",r),r}});er.getDashboardUserEmail=Lu});var rc=R(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.getUserAuthorizedPermissions=void 0;var Bu=X(),Fu=()=>(0,Bu.getHostEndpoint)().call.getUserAuthorizedPermissions();oo.getUserAuthorizedPermissions=Fu});var oc=R(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.isPermissionAuthorized=void 0;var Hu=X(),Nu=r=>(0,Hu.getHostEndpoint)().call.isPermissionAuthorized(r);so.isPermissionAuthorized=Nu});var sc=R(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.isSourceInAuthorizedCSP=void 0;var ju=X(),Uu=r=>(0,ju.getHostEndpoint)().call.isSourceInAuthorizedCSP(r);no.isSourceInAuthorizedCSP=Uu});var nc=R(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.createOAuthState=void 0;var Vu=X(),zu=(r="")=>(0,Vu.getHostEndpoint)().call.createOAuthState(r);io.createOAuthState=zu});var ac=R(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0})});var cc=R(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.showToast=void 0;var $u=X(),Ku=(o,...s)=>P(tr,[o,...s],function*(r,e={}){return(0,$u.getHostEndpoint)().call.showToast(r,e)});tr.showToast=Ku});var lc=R(F=>{"use strict";var Wu=F&&F.__createBinding||(Object.create?function(r,e,o,s){s===void 0&&(s=o);var n=Object.getOwnPropertyDescriptor(e,o);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[o]}}),Object.defineProperty(r,s,n)}:function(r,e,o,s){s===void 0&&(s=o),r[s]=e[o]}),Q=F&&F.__exportStar||function(r,e){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(e,o)&&Wu(e,r,o)};Object.defineProperty(F,"__esModule",{value:!0});Q(X(),F);Q(Po(),F);Q(Za(),F);Q(Qa(),F);Q(tc(),F);Q(rc(),F);Q(St(),F);Q(oc(),F);Q(sc(),F);Q(nc(),F);Q(ac(),F);Q(To(),F);Q(cc(),F);Q(go(),F)});var Te={};uo(Te,{BUILD_TIME:()=>ed,ChatView:()=>pc,OnboardingView:()=>mc,SettingsView:()=>hc,default:()=>td});var M=K(re()),I=x("react");var So=K(re());var Ee=K(re()),Me=x("react/jsx-runtime"),Ic=({role:r,content:e,freshness:o})=>{let s=r==="user";return(0,Me.jsxs)(Ee.Box,{css:{padding:"medium",backgroundColor:s?"container":void 0,stack:"y",gap:"small"},children:[(0,Me.jsx)(Ee.Inline,{css:{fontWeight:"semibold",color:"secondary"},children:s?"You":"Javelin"}),(0,Me.jsx)(Ee.Inline,{children:e}),o&&!s&&(0,Me.jsx)(Ee.Box,{css:{marginTop:"xsmall"},children:(0,Me.jsx)(Ee.Badge,{type:o.type==="live"?"positive":"info",children:o.type==="live"?"Live data":`Data as of ${o.syncedAt?new Date(o.syncedAt).toLocaleString():"cache"}`})})]})},ts=Ic;var ne=K(re()),_o=x("react");var ps=K(us());var ds,dl=typeof process!="undefined"&&((ds=process.env)==null?void 0:ds.SUPABASE_FUNCTIONS_URL)?process.env.SUPABASE_FUNCTIONS_URL:"https://tecvycpmzcxxoqmtttjy.supabase.co/functions/v1",dr=null;function pr(r,e){dr={userId:r,accountId:e}}function ee(o){return P(this,arguments,function*(r,e={}){if(!dr)throw new Error("apiClient not initialized \u2014 call initApiClient first");let s="";try{s=yield(0,ps.default)()}catch(u){console.warn("fetchStripeSignature failed \u2014 sending unsigned request")}let n=e.method||"POST",i=V({user_id:dr.userId,account_id:dr.accountId},e.body&&typeof e.body=="object"?e.body:{}),a=yield fetch(`${dl}${r}`,{method:n,headers:V({"Content-Type":"application/json"},s?{"stripe-signature":s}:{}),body:JSON.stringify(i)});if(!a.ok)throw yield a.json();return a.json()})}var Pe=x("react/jsx-runtime"),pl=({insightId:r,messageId:e,content:o})=>{let[s,n]=(0,_o.useState)(null),[i,a]=(0,_o.useState)(!1),u=l=>P(void 0,null,function*(){if(!(i||s)){a(!0);try{yield ee("/insights-feedback",{method:"POST",body:{insightId:r,messageId:e,rating:l}}),n(l)}catch(p){}finally{a(!1)}}});return(0,Pe.jsxs)(ne.Box,{css:{padding:"small",stack:"y",gap:"small"},children:[(0,Pe.jsx)(ne.Banner,{type:"default",title:"Insight",description:o}),(0,Pe.jsxs)(ne.Box,{css:{stack:"x",gap:"small"},children:[(0,Pe.jsx)(ne.Button,{type:s==="positive"?"primary":"secondary",size:"small",disabled:i||s!==null,onPress:()=>u("positive"),children:(0,Pe.jsx)(ne.Inline,{children:s==="positive"?"Helpful":"Helpful?"})}),(0,Pe.jsx)(ne.Button,{type:s==="negative"?"primary":"secondary",size:"small",disabled:i||s!==null,onPress:()=>u("negative"),children:(0,Pe.jsx)(ne.Inline,{children:s==="negative"?"Not helpful":"Not helpful?"})})]})]})},hs=pl;var ve=K(re()),hr=x("react"),Ge=x("react/jsx-runtime"),hl=({startedAt:r})=>{let[e,o]=(0,hr.useState)(0);(0,hr.useEffect)(()=>{let n=setInterval(()=>{o(Math.floor((Date.now()-r)/1e3))},1e3);return()=>clearInterval(n)},[r]);let s=e>=5?"Fetching fresh data from Stripe...":"Analyzing your data...";return(0,Ge.jsxs)(ve.Box,{css:{padding:"medium",stack:"y",gap:"small"},children:[(0,Ge.jsxs)(ve.Box,{css:{stack:"x",gap:"small",alignY:"center"},children:[(0,Ge.jsx)(ve.Spinner,{size:"small"}),(0,Ge.jsx)(ve.Inline,{css:{color:"secondary"},children:s})]}),e>=5&&(0,Ge.jsx)(ve.Banner,{type:"default",description:"Still working \u2014 fetching the latest data from Stripe to give you an accurate answer."})]})},ms=hl;var De=K(re()),$e=x("react/jsx-runtime"),ml=({question:r,options:e,onSelect:o})=>(0,$e.jsxs)(De.Box,{css:{padding:"medium",stack:"y",gap:"small"},children:[(0,$e.jsx)(De.Banner,{type:"default",title:"Clarification needed",description:r}),(0,$e.jsx)(De.Box,{css:{stack:"x",gap:"small",wrap:"wrap"},children:e.map(s=>(0,$e.jsx)(De.Button,{type:"secondary",size:"small",onPress:()=>o(s.value),children:s.label},s.value))})]}),fs=ml;var xe=x("react/jsx-runtime"),fl=({messages:r,isThinking:e,thinkingStartedAt:o,onClarificationSelect:s})=>(0,xe.jsxs)(So.Box,{css:{stack:"y",gap:"xsmall",overflow:"auto"},children:[r.map(n=>{var i;return(0,xe.jsxs)(So.Box,{css:{stack:"y"},children:[(0,xe.jsx)(ts,{role:n.role,content:n.content,freshness:n.freshness}),(i=n.insights)==null?void 0:i.map(a=>(0,xe.jsx)(hs,{insightId:a.id,messageId:n.id,content:a.content},a.id)),n.clarification&&s&&(0,xe.jsx)(fs,{question:n.clarification.question,options:n.clarification.options,onSelect:s})]},n.id)}),e&&o&&(0,xe.jsx)(ms,{startedAt:o})]}),Ps=fl;var qe=K(re()),mr=x("react"),Ke=x("react/jsx-runtime"),Pl=({onSend:r,disabled:e=!1,initialValue:o=""})=>{let[s,n]=(0,mr.useState)(o),i=(0,mr.useCallback)(()=>{let a=s.trim();!a||e||(r(a),n(""))},[s,e,r]);return(0,Ke.jsxs)(qe.Box,{css:{stack:"x",gap:"small",alignY:"bottom",padding:"small"},children:[(0,Ke.jsx)(qe.Box,{css:{width:"fill"},children:(0,Ke.jsx)(qe.TextArea,{label:"Ask a question",placeholder:"What's my MRR?",value:s,onChange:a=>n(a.target.value),rows:2,disabled:e})}),(0,Ke.jsx)(qe.Button,{type:"primary",onPress:i,disabled:e||!s.trim(),children:"Send"})]})},vs=Pl;var j=K(re()),z=x("react/jsx-runtime"),vl=[{label:"What's my MRR?",value:"What's my MRR?"},{label:"How's churn trending?",value:"How is my churn rate trending over the last 3 months?"},{label:"Revenue by product",value:"What's my revenue breakdown by product?"},{label:"Top customers",value:"Who are my top 10 customers by revenue?"},{label:"Growth rate",value:"What's my MRR growth rate?"}],gl=({onSelectPrompt:r,insights:e})=>(0,z.jsxs)(j.Box,{css:{padding:"medium",stack:"y",gap:"medium"},children:[(0,z.jsxs)(j.Box,{css:{stack:"y",gap:"small"},children:[(0,z.jsx)(j.Inline,{css:{font:"heading"},children:"Welcome to Javelin"}),(0,z.jsx)(j.Inline,{css:{color:"secondary"},children:"Ask me anything about your Stripe business. I can calculate metrics, analyze trends, and surface insights from your data."})]}),e&&e.length>0&&(0,z.jsxs)(j.Box,{css:{stack:"y",gap:"small"},children:[(0,z.jsx)(j.Inline,{css:{fontWeight:"semibold"},children:"Recent insights"}),e.map(o=>(0,z.jsx)(j.Box,{css:{padding:"small",backgroundColor:"container",stack:"y",gap:"xsmall"},children:(0,z.jsx)(j.Inline,{css:{color:"secondary"},children:o.content})},o.id))]}),(0,z.jsxs)(j.Box,{css:{stack:"y",gap:"small"},children:[(0,z.jsx)(j.Inline,{css:{fontWeight:"semibold"},children:"Try asking"}),(0,z.jsx)(j.Box,{css:{stack:"x",gap:"small",wrap:"wrap"},children:vl.map(o=>(0,z.jsx)(j.Button,{type:"secondary",size:"small",onPress:()=>r(o.value),children:o.label},o.value))})]}),(0,z.jsx)(j.Box,{css:{marginTop:"small"},children:(0,z.jsx)(j.Inline,{css:{font:"caption",color:"secondary"},children:"Javelin provides informational insights only, not financial or business advice. Always verify important decisions with your own analysis."})})]}),gs=gl;var J=K(re()),Z=x("react/jsx-runtime"),Tl=({conversations:r,activeConversationId:e,onSelectConversation:o,onClose:s})=>r.length===0?(0,Z.jsxs)(J.Box,{css:{padding:"medium",stack:"y",gap:"small",alignX:"center"},children:[(0,Z.jsx)(J.Inline,{css:{color:"secondary"},children:"No conversations yet."}),(0,Z.jsx)(J.Inline,{css:{color:"secondary"},children:"Start by asking a question below."})]}):(0,Z.jsxs)(J.Box,{css:{stack:"y",gap:"xsmall",padding:"small"},children:[(0,Z.jsxs)(J.Box,{css:{stack:"x",distribute:"space-between",alignY:"center",padding:"xsmall"},children:[(0,Z.jsx)(J.Inline,{css:{fontWeight:"semibold"},children:"Conversations"}),(0,Z.jsx)(J.Button,{type:"secondary",size:"small",onPress:s,children:"Close"})]}),r.map(n=>(0,Z.jsx)(J.Box,{css:{padding:"small",backgroundColor:n.id===e?"container":void 0,stack:"y",gap:"xsmall"},children:(0,Z.jsx)(J.Button,{type:"secondary",size:"small",onPress:()=>o(n.id),children:(0,Z.jsxs)(J.Box,{css:{stack:"y",gap:"xsmall",width:"fill"},children:[(0,Z.jsx)(J.Inline,{css:{fontWeight:n.id===e?"semibold":"regular"},children:n.title||"Untitled conversation"}),(0,Z.jsx)(J.Inline,{css:{font:"caption",color:"secondary"},children:new Date(n.updatedAt).toLocaleDateString()})]})})},n.id))]}),Ts=Tl;var Ie=x("react");var uc=K(ys());var Eo=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders","streaming"];function Ss(r){return r&&typeof r=="object"&&Eo.some(e=>Object.prototype.hasOwnProperty.call(r,e))}function be(r,e){return _l(r)}function _s(r){return encodeURIComponent(r).replace(/!/g,"%21").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27").replace(/%5B/g,"[").replace(/%5D/g,"]")}function yl(r){return r instanceof Date?Math.floor(r.getTime()/1e3).toString():r===null?"":String(r)}function _l(r){let e=[];function o(s,n){if(n!==void 0){if(n===null||typeof n!="object"||n instanceof Date){e.push(_s(s)+"="+_s(yl(n)));return}if(Array.isArray(n)){for(let i=0;i<n.length;i++)n[i]!==void 0&&o(s+"["+i+"]",n[i]);return}for(let i of Object.keys(n))o(s+"["+i+"]",n[i])}}if(typeof r=="object"&&r!==null)for(let s of Object.keys(r))o(s,r[s]);return e.join("&")}var Pr=(()=>{let r={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return e=>{let o=e.replace(/["\n\r\u2028\u2029]/g,s=>r[s]);return s=>o.replace(/\{([\s\S]+?)\}/g,(n,i)=>{let a=s[i];return Sl(a)?encodeURIComponent(a):""})}})();function Sl(r){return["number","string","boolean"].includes(typeof r)}function Es(r){let e=r.match(/\{\w+\}/g);return e?e.map(o=>o.replace(/[{}]/g,"")):[]}function We(r){if(!Array.isArray(r)||!r[0]||typeof r[0]!="object")return{};if(!Ss(r[0]))return r.shift();let e=Object.keys(r[0]),o=e.filter(s=>Eo.includes(s));return o.length>0&&o.length!==e.length&&Rt(`Options found in arguments (${o.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function vr(r){let e={host:null,headers:{},settings:{},streaming:!1};if(r.length>0){let o=r[r.length-1];if(typeof o=="string")e.authenticator=fr(r.pop());else if(Ss(o)){let s=Object.assign({},r.pop()),n=Object.keys(s).filter(i=>!Eo.includes(i));if(n.length&&Rt(`Invalid options found (${n.join(", ")}); ignoring.`),s.apiKey&&(e.authenticator=fr(s.apiKey)),s.idempotencyKey&&(e.headers["Idempotency-Key"]=s.idempotencyKey),s.stripeAccount&&(e.headers["Stripe-Account"]=s.stripeAccount),s.stripeContext){if(e.headers["Stripe-Account"])throw new Error("Can't specify both stripeAccount and stripeContext.");e.headers["Stripe-Context"]=s.stripeContext}if(s.apiVersion&&(e.headers["Stripe-Version"]=s.apiVersion),Number.isInteger(s.maxNetworkRetries)&&(e.settings.maxNetworkRetries=s.maxNetworkRetries),Number.isInteger(s.timeout)&&(e.settings.timeout=s.timeout),s.host&&(e.host=s.host),s.authenticator){if(s.apiKey)throw new Error("Can't specify both apiKey and authenticator.");if(typeof s.authenticator!="function")throw new Error("The authenticator must be a function receiving a request as the first parameter.");e.authenticator=s.authenticator}s.additionalHeaders&&(e.headers=s.additionalHeaders),s.streaming&&(e.streaming=!0)}}return e}function xs(r){let e=this,o=Object.prototype.hasOwnProperty.call(r,"constructor")?r.constructor:function(...s){e.apply(this,s)};return Object.assign(o,e),o.prototype=Object.create(e.prototype),Object.assign(o.prototype,r),o}function gr(r){if(typeof r!="object")throw new Error("Argument must be an object");return Object.keys(r).reduce((e,o)=>(r[o]!=null&&(e[o]=r[o]),e),{})}function bs(r){return r&&typeof r=="object"?Object.keys(r).reduce((e,o)=>(e[El(o)]=r[o],e),{}):r}function El(r){return r.split("-").map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join("-")}function Ot(r,e){return e?r.then(o=>{setTimeout(()=>{e(null,o)},0)},o=>{setTimeout(()=>{e(o,null)},0)}):r}function Os(r){return r==="OAuth"?"oauth":r[0].toLowerCase()+r.substring(1)}function Rt(r){return typeof process.emitWarning!="function"?console.warn(`Stripe: ${r}`):process.emitWarning(r,"Stripe")}function xl(r){let e=typeof r;return(e==="function"||e==="object")&&!!r}function Rs(r){let e={},o=(s,n)=>{Object.entries(s).forEach(([i,a])=>{let u=n?`${n}[${i}]`:i;if(xl(a)){if(!(a instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(a,"data"))return o(a,u);e[u]=a}else e[u]=String(a)})};return o(r,null),e}function Tr(r,e,o){if(!Number.isInteger(e)){if(o!==void 0)return o;throw new Error(`${r} must be an integer`)}return e}function As(){return typeof process=="undefined"?{}:{lang_version:process.version,platform:process.platform}}function fr(r){let e=o=>(o.headers.Authorization="Bearer "+r,Promise.resolve());return e._apiKey=r,e}function bl(r,e){return this[r]instanceof Date?Math.floor(this[r].getTime()/1e3).toString():e}function ws(r){return JSON.stringify(r,bl)}function yr(r){return r&&r.startsWith("/v2")?"v2":"v1"}function _r(r){return Array.isArray(r)?r.join(", "):String(r)}function Cs(r){let e=Array.isArray(r)?r[0]:r;return Number(e)}function Is(r){return Object.entries(r).map(([e,o])=>[e,_r(o)])}var U=class{getClientName(){throw new Error("getClientName not implemented.")}makeRequest(e,o,s,n,i,a,u,l){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){let e=new TypeError(U.TIMEOUT_ERROR_CODE);return e.code=U.TIMEOUT_ERROR_CODE,e}};U.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"];U.TIMEOUT_ERROR_CODE="ETIMEDOUT";var Je=class{constructor(e,o){this._statusCode=e,this._headers=o}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(e){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}};var Le=class extends U{constructor(e){if(super(),!e){if(!globalThis.fetch)throw new Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");e=globalThis.fetch}globalThis.AbortController?this._fetchFn=Le.makeFetchWithAbortTimeout(e):this._fetchFn=Le.makeFetchWithRaceTimeout(e)}static makeFetchWithRaceTimeout(e){return(o,s,n)=>{let i,a=new Promise((l,p)=>{i=setTimeout(()=>{i=null,p(U.makeTimeoutError())},n)}),u=e(o,s);return Promise.race([u,a]).finally(()=>{i&&clearTimeout(i)})}}static makeFetchWithAbortTimeout(e){return(o,s,n)=>P(this,null,function*(){let i=new AbortController,a=setTimeout(()=>{a=null,i.abort(U.makeTimeoutError())},n);try{return yield e(o,Object.assign(Object.assign({},s),{signal:i.signal}))}catch(u){throw u.name==="AbortError"?U.makeTimeoutError():u}finally{a&&clearTimeout(a)}})}getClientName(){return"fetch"}makeRequest(e,o,s,n,i,a,u,l){return P(this,null,function*(){let p=u==="http",h=new URL(s,`${p?"http":"https"}://${e}`);h.port=o;let g=n=="POST"||n=="PUT"||n=="PATCH",d=a||(g?"":void 0),m=yield this._fetchFn(h.toString(),{method:n,headers:Is(i),body:d},l);return new At(m)})}},At=class extends Je{constructor(e){super(e.status,At._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){let o={};for(let s of e){if(!Array.isArray(s)||s.length!=2)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");o[s[0]]=s[1]}return o}};var Ye=class{computeHMACSignature(e,o){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,o){throw new Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(e){throw new Error("computeSHA256 not implemented.")}},Xe=class extends Error{};var Sr=class extends Ye{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,o){throw new Xe("SubtleCryptoProvider cannot be used in a synchronous context.")}computeHMACSignatureAsync(e,o){return P(this,null,function*(){let s=new TextEncoder,n=yield this.subtleCrypto.importKey("raw",s.encode(o),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=yield this.subtleCrypto.sign("hmac",n,s.encode(e)),a=new Uint8Array(i),u=new Array(a.length);for(let l=0;l<a.length;l++)u[l]=xo[a[l]];return u.join("")})}computeSHA256Async(e){return P(this,null,function*(){return new Uint8Array(yield this.subtleCrypto.digest("SHA-256",e))})}},xo=new Array(256);for(let r=0;r<xo.length;r++)xo[r]=r.toString(16).padStart(2,"0");var Er=class{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw new Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let o=Math.random()*16|0;return(e==="x"?o:o&3|8).toString(16)})}secureCompare(e,o){if(e.length!==o.length)return!1;let s=e.length,n=0;for(let i=0;i<s;++i)n|=e.charCodeAt(i)^o.charCodeAt(i);return n===0}createEmitter(){throw new Error("createEmitter not implemented.")}tryBufferData(e){throw new Error("tryBufferData not implemented.")}createNodeHttpClient(e){throw new Error("createNodeHttpClient not implemented.")}createFetchHttpClient(e){return new Le(e)}createDefaultHttpClient(){throw new Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw new Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(e){return new Sr(e)}createDefaultCryptoProvider(){throw new Error("createDefaultCryptoProvider not implemented.")}};var bo=class extends Event{constructor(e,o){super(e),this.data=o}},xr=class{constructor(){this.eventTarget=new EventTarget,this.listenerMapping=new Map}on(e,o){let s=n=>{o(n.data)};return this.listenerMapping.set(o,s),this.eventTarget.addEventListener(e,s)}removeListener(e,o){let s=this.listenerMapping.get(o);return this.listenerMapping.delete(o),this.eventTarget.removeEventListener(e,s)}once(e,o){let s=n=>{o(n.data)};return this.listenerMapping.set(o,s),this.eventTarget.addEventListener(e,s,{once:!0})}emit(e,o){return this.eventTarget.dispatchEvent(new bo(e,o))}};var br=class extends Er{getUname(){return Promise.resolve(null)}createEmitter(){return new xr}tryBufferData(e){if(e.file.data instanceof ReadableStream)throw new Error("Uploading a file as a stream is not supported in non-Node environments. Please open or upvote an issue at github.com/stripe/stripe-node if you use this, detailing your use-case.");return Promise.resolve(e)}createNodeHttpClient(){throw new Error("Stripe: `createNodeHttpClient()` is not available in non-Node environments. Please use `createFetchHttpClient()` instead.")}createDefaultHttpClient(){return super.createFetchHttpClient()}createNodeCryptoProvider(){throw new Error("Stripe: `createNodeCryptoProvider()` is not available in non-Node environments. Please use `createSubtleCryptoProvider()` instead.")}createDefaultCryptoProvider(){return this.createSubtleCryptoProvider()}};var Ir={};uo(Ir,{StripeAPIError:()=>Ze,StripeAuthenticationError:()=>Qe,StripeCardError:()=>Or,StripeConnectionError:()=>It,StripeError:()=>B,StripeIdempotencyError:()=>Rr,StripeInvalidGrantError:()=>Ar,StripeInvalidRequestError:()=>wt,StripePermissionError:()=>Ct,StripeRateLimitError:()=>et,StripeSignatureVerificationError:()=>ae,StripeUnknownError:()=>wr,TemporarySessionExpiredError:()=>Cr,generateV1Error:()=>Mt,generateV2Error:()=>Oo});var Mt=r=>{switch(r.type){case"card_error":return new Or(r);case"invalid_request_error":return new wt(r);case"api_error":return new Ze(r);case"authentication_error":return new Qe(r);case"rate_limit_error":return new et(r);case"idempotency_error":return new Rr(r);case"invalid_grant":return new Ar(r);default:return new wr(r)}},Oo=r=>{switch(r.type){case"temporary_session_expired":return new Cr(r)}switch(r.code){case"invalid_fields":return new wt(r)}return Mt(r)},B=class extends Error{constructor(e={},o=null){var s;super(e.message),this.type=o||this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=(s=e.message)!==null&&s!==void 0?s:"",this.userMessage=e.user_message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}};B.generate=Mt;var Or=class extends B{constructor(e={}){super(e,"StripeCardError")}},wt=class extends B{constructor(e={}){super(e,"StripeInvalidRequestError")}},Ze=class extends B{constructor(e={}){super(e,"StripeAPIError")}},Qe=class extends B{constructor(e={}){super(e,"StripeAuthenticationError")}},Ct=class extends B{constructor(e={}){super(e,"StripePermissionError")}},et=class extends B{constructor(e={}){super(e,"StripeRateLimitError")}},It=class extends B{constructor(e={}){super(e,"StripeConnectionError")}},ae=class extends B{constructor(e,o,s={}){super(s,"StripeSignatureVerificationError"),this.header=e,this.payload=o}},Rr=class extends B{constructor(e={}){super(e,"StripeIdempotencyError")}},Ar=class extends B{constructor(e={}){super(e,"StripeInvalidGrantError")}},wr=class extends B{constructor(e={}){super(e,"StripeUnknownError")}},Cr=class extends B{constructor(e={}){super(e,"TemporarySessionExpiredError")}};var Ol=60,Oe=class{constructor(e,o){this._stripe=e,this._maxBufferedRequestMetric=o}_normalizeStripeContext(e,o){return e?e.toString()||null:(o==null?void 0:o.toString())||null}_addHeadersDirectlyToObject(e,o){e.requestId=o["request-id"],e.stripeAccount=e.stripeAccount||o["stripe-account"],e.apiVersion=e.apiVersion||o["stripe-version"],e.idempotencyKey=e.idempotencyKey||o["idempotency-key"]}_makeResponseEvent(e,o,s){let n=Date.now(),i=n-e.request_start_time;return gr({api_version:s["stripe-version"],account:s["stripe-account"],idempotency_key:s["idempotency-key"],method:e.method,path:e.path,status:o,request_id:this._getRequestId(s),elapsed:i,request_start_time:e.request_start_time,request_end_time:n})}_getRequestId(e){return e["request-id"]}_streamingResponseHandler(e,o,s){return n=>{let i=n.getHeaders(),a=()=>{let l=this._makeResponseEvent(e,n.getStatusCode(),i);this._stripe._emitter.emit("response",l),this._recordRequestMetrics(this._getRequestId(i),l.elapsed,o)},u=n.toStream(a);return this._addHeadersDirectlyToObject(u,i),s(null,u)}}_jsonResponseHandler(e,o,s,n){return i=>{let a=i.getHeaders(),u=this._getRequestId(a),l=i.getStatusCode(),p=this._makeResponseEvent(e,l,a);this._stripe._emitter.emit("response",p),i.toJSON().then(h=>{if(h.error){let g;throw typeof h.error=="string"&&(h.error={type:h.error,message:h.error_description}),h.error.headers=a,h.error.statusCode=l,h.error.requestId=u,l===401?g=new Qe(h.error):l===403?g=new Ct(h.error):l===429?g=new et(h.error):o==="v2"?g=Oo(h.error):g=Mt(h.error),g}return h},h=>{throw new Ze({message:"Invalid JSON received from the Stripe API",exception:h,requestId:a["request-id"]})}).then(h=>{this._recordRequestMetrics(u,p.elapsed,s);let g=i.getRawResponse();this._addHeadersDirectlyToObject(g,a),Object.defineProperty(h,"lastResponse",{enumerable:!1,writable:!1,value:g}),n(null,h)},h=>n(h,null))}}static _generateConnectionErrorMessage(e){return`An error occurred with our connection to Stripe.${e>0?` Request was retried ${e} times.`:""}`}static _shouldRetry(e,o,s,n){return n&&o===0&&U.CONNECTION_CLOSED_ERROR_CODES.includes(n.code)?!0:o>=s?!1:e?e.getHeaders()["stripe-should-retry"]==="false"?!1:e.getHeaders()["stripe-should-retry"]==="true"||e.getStatusCode()===409||e.getStatusCode()>=500:!0}_getSleepTimeInMS(e,o=null){let s=this._stripe.getInitialNetworkRetryDelay(),n=this._stripe.getMaxNetworkRetryDelay(),i=Math.min(s*Math.pow(2,e-1),n);return i*=.5*(1+Math.random()),i=Math.max(s,i),Number.isInteger(o)&&o<=Ol&&(i=Math.max(i,o)),i*1e3}_getMaxNetworkRetries(e={}){return e.maxNetworkRetries!==void 0&&Number.isInteger(e.maxNetworkRetries)?e.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(e,o,s){let n=this._getMaxNetworkRetries(o),i=()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`;if(s==="v2"){if(e==="POST"||e==="DELETE")return i()}else if(s==="v1"&&e==="POST"&&n>0)return i();return null}_makeHeaders({contentType:e,contentLength:o,apiVersion:s,clientUserAgent:n,method:i,userSuppliedHeaders:a,userSuppliedSettings:u,stripeAccount:l,stripeContext:p,apiMode:h}){let g={Accept:"application/json","Content-Type":e,"User-Agent":this._getUserAgentString(h),"X-Stripe-Client-User-Agent":n,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":s,"Stripe-Account":l,"Stripe-Context":p,"Idempotency-Key":this._defaultIdempotencyKey(i,u,h)},d=i=="POST"||i=="PUT"||i=="PATCH";return(d||o)&&(d||Rt(`${i} method had non-zero contentLength but no payload is expected for this verb`),g["Content-Length"]=o),Object.assign(gr(g),bs(a))}_getUserAgentString(e){let o=this._stripe.getConstant("PACKAGE_VERSION"),s=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/${e} NodeBindings/${o} ${s}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){let e=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:e})}}_recordRequestMetrics(e,o,s){if(this._stripe.getTelemetryEnabled()&&e)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)Rt("Request metrics buffer is full, dropping telemetry message.");else{let n={request_id:e,request_duration_ms:o};s&&s.length>0&&(n.usage=s),this._stripe._prevRequestMetrics.push(n)}}_rawRequest(e,o,s,n,i){return new Promise((u,l)=>{let p;try{let v=e.toUpperCase();if(v!=="POST"&&s&&Object.keys(s).length!==0)throw new Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");let y=[].slice.call([s,n]),T=We(y),S=v==="POST"?Object.assign({},T):null,E=vr(y),_=E.headers,b=E.authenticator;p={requestMethod:v,requestPath:o,bodyData:S,queryData:{},authenticator:b,headers:_,host:E.host,streaming:!!E.streaming,settings:{},usage:i||["raw_request"]}}catch(v){l(v);return}function h(v,y){v?l(v):u(y)}let{headers:g,settings:d}=p,m=p.authenticator;this._request(p.requestMethod,p.host,o,p.bodyData,m,{headers:g,settings:d,streaming:p.streaming},p.usage,h)})}_getContentLength(e){return typeof e=="string"?new TextEncoder().encode(e).length:e.length}_request(e,o,s,n,i,a,u=[],l,p=null){var h;let g;i=(h=i!=null?i:this._stripe._authenticator)!==null&&h!==void 0?h:null;let d=yr(s),m=(T,S,E,_,b)=>setTimeout(T,this._getSleepTimeInMS(_,b),S,E,_+1),v=(T,S,E)=>{let _=a.settings&&a.settings.timeout&&Number.isInteger(a.settings.timeout)&&a.settings.timeout>=0?a.settings.timeout:this._stripe.getApiField("timeout"),b={host:o||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:s,method:e,headers:Object.assign({},S),body:g,protocol:this._stripe.getApiField("protocol")};i(b).then(()=>{let L=this._stripe.getApiField("httpClient").makeRequest(b.host,b.port,b.path,b.method,b.headers,b.body,b.protocol,_),H=Date.now(),G=gr({api_version:T,account:_r(S["Stripe-Account"]),idempotency_key:_r(S["Idempotency-Key"]),method:e,path:s,request_start_time:H}),se=E||0,ce=this._getMaxNetworkRetries(a.settings||{});this._stripe._emitter.emit("request",G),L.then(Y=>Oe._shouldRetry(Y,se,ce)?m(v,T,S,se,Cs(Y.getHeaders()["retry-after"])):a.streaming&&Y.getStatusCode()<400?this._streamingResponseHandler(G,u,l)(Y):this._jsonResponseHandler(G,d,u,l)(Y)).catch(Y=>{if(Oe._shouldRetry(null,se,ce,Y))return m(v,T,S,se,null);{let or=Y.code&&Y.code===U.TIMEOUT_ERROR_CODE;return l(new It({message:or?`Request aborted due to timeout being reached (${_}ms)`:Oe._generateConnectionErrorMessage(se),detail:Y}))}})}).catch(L=>{throw new B({message:"Unable to authenticate the request",exception:L})})},y=(T,S)=>{if(T)return l(T);g=S,this._stripe.getClientUserAgent(E=>{var _,b,L;let H=this._stripe.getApiField("version"),G=this._makeHeaders({contentType:d=="v2"?"application/json":"application/x-www-form-urlencoded",contentLength:this._getContentLength(S),apiVersion:H,clientUserAgent:E,method:e,userSuppliedHeaders:(_=a.headers)!==null&&_!==void 0?_:null,userSuppliedSettings:(b=a.settings)!==null&&b!==void 0?b:{},stripeAccount:(L=a.stripeAccount)!==null&&L!==void 0?L:this._stripe.getApiField("stripeAccount"),stripeContext:this._normalizeStripeContext(a.stripeContext,this._stripe.getApiField("stripeContext")),apiMode:d});v(H,G,0)})};if(p)p(e,n,a.headers,y);else{let T;d=="v2"?T=n?ws(n):"":T=be(n||{}),y(null,T)}}};var Mr=class{constructor(e,o,s,n){this.index=0,this.pagePromise=e,this.promiseCache={currentPromise:null},this.requestArgs=o,this.spec=s,this.stripeResource=n}iterate(e){return P(this,null,function*(){if(!(e&&e.data&&typeof e.data.length=="number"))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");let o=ks(this.requestArgs);if(this.index<e.data.length){let s=o?e.data.length-1-this.index:this.index,n=e.data[s];return this.index+=1,{value:n,done:!1}}else if(e.has_more){this.index=0,this.pagePromise=this.getNextPage(e);let s=yield this.pagePromise;return this.iterate(s)}return{done:!0,value:void 0}})}getNextPage(e){throw new Error("Unimplemented")}_next(){return P(this,null,function*(){return this.iterate(yield this.pagePromise)})}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;let e=(()=>P(this,null,function*(){let o=yield this._next();return this.promiseCache.currentPromise=null,o}))();return this.promiseCache.currentPromise=e,e}},Ao=class extends Mr{getNextPage(e){let o=ks(this.requestArgs),s=Cl(e,o);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[o?"ending_before":"starting_after"]:s})}},wo=class extends Mr{getNextPage(e){if(!e.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:e.next_page})}},Co=class{constructor(e,o,s,n){this.firstPagePromise=e,this.currentPageIterator=null,this.nextPageUrl=null,this.requestArgs=o,this.spec=s,this.stripeResource=n}initFirstPage(){return P(this,null,function*(){if(this.firstPagePromise){let e=yield this.firstPagePromise;this.firstPagePromise=null,this.currentPageIterator=e.data[Symbol.iterator](),this.nextPageUrl=e.next_page_url||null}})}turnPage(){return P(this,null,function*(){if(!this.nextPageUrl)return null;this.spec.fullPath=this.nextPageUrl;let e=yield this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=e.next_page_url||null,this.currentPageIterator=e.data[Symbol.iterator](),this.currentPageIterator})}next(){return P(this,null,function*(){if(yield this.initFirstPage(),this.currentPageIterator){let s=this.currentPageIterator.next();if(!s.done)return{done:!1,value:s.value}}let e=yield this.turnPage();if(!e)return{done:!0,value:void 0};let o=e.next();return o.done?{done:!0,value:void 0}:{done:!1,value:o.value}})}},Ms=(r,e,o,s)=>{let n=yr(o.fullPath||o.path);return n!=="v2"&&o.methodType==="search"?Ro(new wo(s,e,o,r)):n!=="v2"&&o.methodType==="list"?Ro(new Ao(s,e,o,r)):n==="v2"&&o.methodType==="list"?Ro(new Co(s,e,o,r)):null},Ro=r=>{let e=Il((...n)=>r.next(...n)),o=Ml(e),s={autoPagingEach:e,autoPagingToArray:o,next:()=>r.next(),return:()=>({}),[Rl()]:()=>s};return s};function Rl(){return typeof Symbol!="undefined"&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function Al(r){if(r.length<2)return null;let e=r[1];if(typeof e!="function")throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);return e}function wl(r){if(r.length===0)return;let e=r[0];if(typeof e!="function")throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);if(e.length===2)return e;if(e.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${e}`);return function(s,n){let i=e(s);n(i)}}function Cl(r,e){let o=e?0:r.data.length-1,s=r.data[o],n=s&&s.id;if(!n)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return n}function Il(r){return function(){let o=[].slice.call(arguments),s=wl(o),n=Al(o);if(o.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${o}`);let i=kl(r,s);return Ot(i,n)}}function Ml(r){return function(o,s){let n=o&&o.limit;if(!n)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(n>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");let i=new Promise((a,u)=>{let l=[];r(p=>{if(l.push(p),l.length>=n)return!1}).then(()=>{a(l)}).catch(u)});return Ot(i,s)}}function kl(r,e){return new Promise((o,s)=>{function n(i){if(i.done){o();return}let a=i.value;return new Promise(u=>{e(a,u)}).then(u=>u===!1?n({done:!0,value:void 0}):r().then(n))}r().then(n).catch(s)})}function ks(r){let e=[].slice.call(r);return!!We(e).ending_before}function Gs(r){if(r.path!==void 0&&r.fullPath!==void 0)throw new Error(`Method spec specified both a 'path' (${r.path}) and a 'fullPath' (${r.fullPath}).`);return function(...e){let o=typeof e[e.length-1]=="function"&&e.pop();r.urlParams=Es(r.fullPath||this.createResourcePathWithSymbols(r.path||""));let s=Ot(this._makeRequest(e,r,{}),o);return Object.assign(s,Ms(this,e,r,s)),s}}t.extend=xs;t.method=Gs;t.MAX_BUFFERED_REQUEST_METRICS=100;function t(r,e){if(this._stripe=r,e)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=Pr(this.basePath||r.getApiField("basePath")),this.resourcePath=this.path,this.path=Pr(this.path),this.initialize(...arguments)}t.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(r,e){let o=[this.basePath(e),this.path(e)];if(typeof r=="function"){let s=r(e);s&&o.push(s)}else o.push(r);return this._joinUrlParts(o)},createResourcePathWithSymbols(r){return r?`/${this._joinUrlParts([this.resourcePath,r])}`:`/${this.resourcePath}`},_joinUrlParts(r){return r.join("/").replace(/\/{2,}/g,"/")},_getRequestOpts(r,e,o){var s;let n=(e.method||"GET").toUpperCase(),i=e.usage||[],a=e.urlParams||[],u=e.encode||(G=>G),l=!!e.fullPath,p=Pr(l?e.fullPath:e.path||""),h=l?e.fullPath:this.createResourcePathWithSymbols(e.path),g=[].slice.call(r),d=a.reduce((G,se)=>{let ce=g.shift();if(typeof ce!="string")throw new Error(`Stripe: Argument "${se}" must be a string, but got: ${ce} (on API request to \`${n} ${h}\`)`);return G[se]=ce,G},{}),m=We(g),v=u(Object.assign({},m,o)),y=vr(g),T=y.host||e.host,S=!!e.streaming||!!y.streaming;if(g.filter(G=>G!=null).length)throw new Error(`Stripe: Unknown arguments (${g}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${n} \`${h}\`)`);let E=l?p(d):this.createFullPath(p,d),_=Object.assign(y.headers,e.headers);e.validator&&e.validator(v,{headers:_});let b=e.method==="GET"||e.method==="DELETE";return{requestMethod:n,requestPath:E,bodyData:b?null:v,queryData:b?v:{},authenticator:(s=y.authenticator)!==null&&s!==void 0?s:null,headers:_,host:T!=null?T:null,streaming:S,settings:y.settings,usage:i}},_makeRequest(r,e,o){return new Promise((s,n)=>{var i;let a;try{a=this._getRequestOpts(r,e,o)}catch(d){n(d);return}function u(d,m){d?n(d):s(e.transformResponseData?e.transformResponseData(m):m)}let l=Object.keys(a.queryData).length===0,p=[a.requestPath,l?"":"?",be(a.queryData)].join(""),{headers:h,settings:g}=a;this._stripe._requestSender._request(a.requestMethod,a.host,p,a.bodyData,a.authenticator,{headers:h,settings:g,streaming:a.streaming},a.usage,u,(i=this.requestDataProcessor)===null||i===void 0?void 0:i.bind(this))})}};var ue=class{constructor(e=[]){this._segments=[...e]}get segments(){return[...this._segments]}push(e){if(!e)throw new Error("Segment cannot be null or undefined");return new ue([...this._segments,e])}pop(){if(this._segments.length===0)throw new Error("Cannot pop from an empty context");return new ue(this._segments.slice(0,-1))}toString(){return this._segments.join("/")}static parse(e){return e?new ue(e.split("/")):new ue([])}};function Ds(r){let e={DEFAULT_TOLERANCE:300,signature:null,constructEvent(d,m,v,y,T,S){try{if(!this.signature)throw new Error("ERR: missing signature helper, unable to verify");this.signature.verifyHeader(d,m,v,y||e.DEFAULT_TOLERANCE,T,S)}catch(_){throw _ instanceof Xe&&(_.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),_}return d instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(d)):JSON.parse(d)},constructEventAsync(d,m,v,y,T,S){return P(this,null,function*(){if(!this.signature)throw new Error("ERR: missing signature helper, unable to verify");return yield this.signature.verifyHeaderAsync(d,m,v,y||e.DEFAULT_TOLERANCE,T,S),d instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(d)):JSON.parse(d)})},generateTestHeaderString:function(d){let m=p(d),v=m.signature||m.cryptoProvider.computeHMACSignature(m.payloadString,m.secret);return m.generateHeaderString(v)},generateTestHeaderStringAsync:function(d){return P(this,null,function*(){let m=p(d),v=m.signature||(yield m.cryptoProvider.computeHMACSignatureAsync(m.payloadString,m.secret));return m.generateHeaderString(v)})}},o={EXPECTED_SCHEME:"v1",verifyHeader(d,m,v,y,T,S){let{decodedHeader:E,decodedPayload:_,details:b,suspectPayloadType:L}=n(d,m,this.EXPECTED_SCHEME),H=/\s/.test(v);T=T||l();let G=T.computeHMACSignature(s(_,b),v);return i(_,E,b,G,y,L,H,S),!0},verifyHeaderAsync(d,m,v,y,T,S){return P(this,null,function*(){let{decodedHeader:E,decodedPayload:_,details:b,suspectPayloadType:L}=n(d,m,this.EXPECTED_SCHEME),H=/\s/.test(v);T=T||l();let G=yield T.computeHMACSignatureAsync(s(_,b),v);return i(_,E,b,G,y,L,H,S)})}};function s(d,m){return`${m.timestamp}.${d}`}function n(d,m,v){if(!d)throw new ae(m,d,{message:"No webhook payload was provided."});let y=typeof d!="string"&&!(d instanceof Uint8Array),T=new TextDecoder("utf8"),S=d instanceof Uint8Array?T.decode(d):d;if(Array.isArray(m))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(m==null||m=="")throw new ae(m,d,{message:"No stripe-signature header value was provided."});let E=m instanceof Uint8Array?T.decode(m):m,_=a(E,v);if(!_||_.timestamp===-1)throw new ae(E,S,{message:"Unable to extract timestamp and signatures from header"});if(!_.signatures.length)throw new ae(E,S,{message:"No signatures found with expected scheme"});return{decodedPayload:S,decodedHeader:E,details:_,suspectPayloadType:y}}function i(d,m,v,y,T,S,E,_){let b=!!v.signatures.filter(r.secureCompare.bind(r,y)).length,L=`
Learn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature`,H=E?`

Note: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value`:"";if(!b)throw S?new ae(m,d,{message:`Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. 
Signature verification is impossible without access to the original signed material. 
`+L+`
`+H}):new ae(m,d,{message:`No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? 
 If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.
`+L+`
`+H});let G=Math.floor((typeof _=="number"?_:Date.now())/1e3)-v.timestamp;if(T>0&&G>T)throw new ae(m,d,{message:"Timestamp outside the tolerance zone"});return!0}function a(d,m){return typeof d!="string"?null:d.split(",").reduce((v,y)=>{let T=y.split("=");return T[0]==="t"&&(v.timestamp=parseInt(T[1],10)),T[0]===m&&v.signatures.push(T[1]),v},{timestamp:-1,signatures:[]})}let u=null;function l(){return u||(u=r.createDefaultCryptoProvider()),u}function p(d){if(!d)throw new B({message:"Options are required"});let m=Math.floor(d.timestamp)||Math.floor(Date.now()/1e3),v=d.scheme||o.EXPECTED_SCHEME,y=d.cryptoProvider||l(),T=`${m}.${d.payload}`,S=E=>`t=${m},${v}=${E}`;return Object.assign(Object.assign({},d),{timestamp:m,scheme:v,cryptoProvider:y,payloadString:T,generateHeaderString:S})}return e.signature=o,e}var Io="2026-01-28.clover";var ut={};uo(ut,{Account:()=>Vo,AccountLinks:()=>wi,AccountSessions:()=>Ci,Accounts:()=>Vo,ApplePayDomains:()=>Ii,ApplicationFees:()=>Mi,Apps:()=>au,Balance:()=>ki,BalanceSettings:()=>Di,BalanceTransactions:()=>Li,Billing:()=>cu,BillingPortal:()=>lu,Charges:()=>Bi,Checkout:()=>uu,Climate:()=>du,ConfirmationTokens:()=>Fi,CountrySpecs:()=>Ni,Coupons:()=>ji,CreditNotes:()=>Ui,CustomerSessions:()=>Vi,Customers:()=>zi,Disputes:()=>$i,Entitlements:()=>pu,EphemeralKeys:()=>Wi,Events:()=>Yi,ExchangeRates:()=>Zi,FileLinks:()=>Qi,Files:()=>ta,FinancialConnections:()=>hu,Forwarding:()=>mu,Identity:()=>fu,InvoiceItems:()=>ra,InvoicePayments:()=>sa,InvoiceRenderingTemplates:()=>na,Invoices:()=>ia,Issuing:()=>Pu,Mandates:()=>aa,OAuth:()=>la,PaymentAttemptRecords:()=>da,PaymentIntents:()=>pa,PaymentLinks:()=>ha,PaymentMethodConfigurations:()=>ma,PaymentMethodDomains:()=>fa,PaymentMethods:()=>Pa,PaymentRecords:()=>va,Payouts:()=>ga,Plans:()=>Ta,Prices:()=>ya,Products:()=>_a,PromotionCodes:()=>Sa,Quotes:()=>Ea,Radar:()=>vu,Refunds:()=>xa,Reporting:()=>gu,Reviews:()=>ba,SetupAttempts:()=>Oa,SetupIntents:()=>Ra,ShippingRates:()=>Aa,Sigma:()=>Tu,Sources:()=>wa,SubscriptionItems:()=>Ca,SubscriptionSchedules:()=>Ia,Subscriptions:()=>Ma,Tax:()=>yu,TaxCodes:()=>Ga,TaxIds:()=>Da,TaxRates:()=>qa,Terminal:()=>_u,TestHelpers:()=>Su,Tokens:()=>Ba,Topups:()=>Fa,Transfers:()=>Ha,Treasury:()=>Eu,V2:()=>xu,WebhookEndpoints:()=>Na});function Gl(r,e){for(let o in e){if(!Object.prototype.hasOwnProperty.call(e,o))continue;let s=o[0].toLowerCase()+o.substring(1),n=new e[o](r);this[s]=n}}function w(r,e){return function(o){return new Gl(o,e)}}var Dl=t.method,qs=t.extend({create:Dl({method:"POST",fullPath:"/v2/core/account_links"})});var Ls=t.method,Bs=t.extend({create:Ls({method:"POST",fullPath:"/v2/core/account_tokens"}),retrieve:Ls({method:"GET",fullPath:"/v2/core/account_tokens/{id}"})});var Be=t.method,Fs=t.extend({retrieve:Be({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:Be({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:Be({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:Be({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:Be({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:Be({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:Be({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})});var kt=t.method,Hs=t.extend({create:kt({method:"POST",fullPath:"/v2/core/accounts/{account_id}/persons"}),retrieve:kt({method:"GET",fullPath:"/v2/core/accounts/{account_id}/persons/{id}"}),update:kt({method:"POST",fullPath:"/v2/core/accounts/{account_id}/persons/{id}"}),list:kt({method:"GET",fullPath:"/v2/core/accounts/{account_id}/persons",methodType:"list"}),del:kt({method:"DELETE",fullPath:"/v2/core/accounts/{account_id}/persons/{id}"})});var Ns=t.method,js=t.extend({create:Ns({method:"POST",fullPath:"/v2/core/accounts/{account_id}/person_tokens"}),retrieve:Ns({method:"GET",fullPath:"/v2/core/accounts/{account_id}/person_tokens/{id}"})});var Gt=t.method,Us=t.extend({constructor:function(...r){t.apply(this,r),this.persons=new Hs(...r),this.personTokens=new js(...r)},create:Gt({method:"POST",fullPath:"/v2/core/accounts"}),retrieve:Gt({method:"GET",fullPath:"/v2/core/accounts/{id}"}),update:Gt({method:"POST",fullPath:"/v2/core/accounts/{id}"}),list:Gt({method:"GET",fullPath:"/v2/core/accounts",methodType:"list"}),close:Gt({method:"POST",fullPath:"/v2/core/accounts/{id}/close"})});var Vs=t.method,zs=t.extend({retrieve:Vs({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:Vs({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})});var tt=t.method,$s=t.extend({create:tt({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:tt({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:tt({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:tt({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:tt({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:tt({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})});var ql=t.method,Ks=t.extend({find:ql({method:"GET",fullPath:"/v1/tax/associations/find"})});var Dt=t.method,Ws=t.extend({retrieve:Dt({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:Dt({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:Dt({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:Dt({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:Dt({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})});var Fe=t.method,Js=t.extend({create:Fe({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:Fe({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:Fe({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:Fe({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:Fe({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),respond:Fe({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond"}),reverse:Fe({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})});var Mo=t.method,Ys=t.extend({create:Mo({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:Mo({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:Mo({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})});var kr=t.method,Xs=t.extend({create:kr({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:kr({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:kr({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:kr({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})});var Gr=t.method,Zs=t.extend({create:Gr({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:Gr({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:Gr({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:Gr({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})});var qt=t.method,Qs=t.extend({deliverCard:qt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:qt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:qt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:qt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:qt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})});var Dr=t.method,en=t.extend({create:Dr({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:Dr({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:Dr({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:Dr({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})});var Lt=t.method,tn=t.extend({create:Lt({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:Lt({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:Lt({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:Lt({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:Lt({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})});var Ll=t.method,rn=t.extend({create:Ll({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})});var Bl=t.method,on=t.extend({create:Bl({method:"POST",fullPath:"/v1/terminal/connection_tokens"})});var Fl=t.method,sn=t.extend({retrieve:Fl({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})});var nn=t.method,an=t.extend({retrieve:nn({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:nn({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})});var rt=t.method,cn=t.extend({create:rt({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:rt({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:rt({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:rt({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:rt({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:rt({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})});var ko=t.method,ln=t.extend({create:ko({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:ko({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:ko({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})});var Hl=t.method,un=t.extend({fundCashBalance:Hl({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})});var Go=t.method,dn=t.extend({create:Go({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:Go({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:Go({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})});var Bt=t.method,pn=t.extend({create:Bt({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:Bt({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:Bt({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:Bt({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:Bt({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})});var hn=t.method,mn=t.extend({retrieve:hn({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:hn({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})});var Re=t.method,fn=t.extend({create:Re({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:Re({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:Re({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:Re({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:Re({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:Re({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:Re({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:Re({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})});var Do=t.method,Pn=t.extend({retrieve(...r){return Do({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:o=>this.addFetchRelatedObjectIfNeeded(o)}).apply(this,r)},list(...r){return Do({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:o=>Object.assign(Object.assign({},o),{data:o.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))})}).apply(this,r)},addFetchRelatedObjectIfNeeded(r){return!r.related_object||!r.related_object.url?r:Object.assign(Object.assign({},r),{fetchRelatedObject:()=>Do({method:"GET",fullPath:r.related_object.url}).apply(this,[{stripeContext:r.context}])})}});var qr=t.method,vn=t.extend({create:qr({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:qr({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:qr({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:qr({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})});var He=t.method,gn=t.extend({create:He({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:He({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:He({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:He({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),close:He({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/close"}),retrieveFeatures:He({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:He({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})});var qo=t.method,Tn=t.extend({fail:qo({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:qo({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:qo({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})});var Lr=t.method,yn=t.extend({create:Lr({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:Lr({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:Lr({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:Lr({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})});var Ft=t.method,_n=t.extend({create:Ft({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:Ft({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:Ft({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:Ft({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:Ft({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})});var Nl=t.method,Sn=t.extend({create:Nl({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})});var jl=t.method,En=t.extend({create:jl({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})});var Ul=t.method,xn=t.extend({create:Ul({method:"POST",fullPath:"/v2/billing/meter_event_session"})});var Vl=t.method,bn=t.extend({create:Vl({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})});var zl=t.method,On=t.extend({create:zl({method:"POST",fullPath:"/v1/billing/meter_events"})});var $l=t.method,Rn=t.extend({create:$l({method:"POST",fullPath:"/v2/billing/meter_events"})});var Ne=t.method,An=t.extend({create:Ne({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:Ne({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:Ne({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:Ne({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:Ne({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:Ne({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:Ne({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})});var Kl=t.method,wn=t.extend({create:Kl({method:"POST",fullPath:"/v1/terminal/onboarding_links"})});var Ht=t.method,Cn=t.extend({create:Ht({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:Ht({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:Ht({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:Ht({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:Ht({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})});var Br=t.method,In=t.extend({update:Br({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:Br({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:Br({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:Br({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})});var Fr=t.method,Mn=t.extend({create:Fr({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:Fr({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:Fr({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:Fr({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})});var Hr=t.method,kn=t.extend({update:Hr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:Hr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:Hr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:Hr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})});var Nr=t.method,Gn=t.extend({create:Nr({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:Nr({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:Nr({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:Nr({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})});var Wl=t.method,Dn=t.extend({create:Wl({method:"POST",fullPath:"/v1/radar/payment_evaluations"})});var jr=t.method,qn=t.extend({create:jr({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:jr({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:jr({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:jr({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})});var Lo=t.method,Ln=t.extend({activate:Lo({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:Lo({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:Lo({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})});var Bn=t.method,Fn=t.extend({retrieve:Bn({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:Bn({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})});var Hn=t.method,Nn=t.extend({retrieve:Hn({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:Hn({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})});var te=t.method,jn=t.extend({create:te({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:te({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:te({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:te({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:te({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:te({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),collectInputs:te({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_inputs"}),collectPaymentMethod:te({method:"POST",fullPath:"/v1/terminal/readers/{reader}/collect_payment_method"}),confirmPaymentIntent:te({method:"POST",fullPath:"/v1/terminal/readers/{reader}/confirm_payment_intent"}),processPaymentIntent:te({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:te({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:te({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:te({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})});var Bo=t.method,Un=t.extend({presentPaymentMethod:Bo({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"}),succeedInputCollection:Bo({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/succeed_input_collection"}),timeoutInputCollection:Bo({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/timeout_input_collection"})});var Jl=t.method,Vn=t.extend({create:Jl({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})});var zn=t.method,$n=t.extend({retrieve:zn({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:zn({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})});var Yl=t.method,Kn=t.extend({create:Yl({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})});var Wn=t.method,Jn=t.extend({retrieve:Wn({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:Wn({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})});var Xl=t.method,Yn=t.extend({expire:Xl({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})});var Ur=t.method,Xn=t.extend({create:Ur({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:Ur({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:Ur({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:Ur({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})});var Fo=t.method,Zn=t.extend({create:Fo({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:Fo({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:Fo({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})});var Qn=t.method,ei=t.extend({retrieve:Qn({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:Qn({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})});var Ho=t.method,ti=t.extend({create:Ho({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:Ho({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:Ho({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})});var ri=t.method,oi=t.extend({retrieve:ri({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:ri({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})});var Vr=t.method,si=t.extend({create:Vr({method:"POST",fullPath:"/v1/apps/secrets"}),list:Vr({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:Vr({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:Vr({method:"GET",fullPath:"/v1/apps/secrets/find"})});var Zl=t.method,ni=t.extend({create:Zl({method:"POST",fullPath:"/v1/billing_portal/sessions"})});var ot=t.method,ii=t.extend({create:ot({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:ot({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:ot({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:ot({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:ot({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:ot({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})});var ai=t.method,ci=t.extend({create:ai({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:ai({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})});var li=t.method,ui=t.extend({retrieve:li({method:"GET",fullPath:"/v1/tax/settings"}),update:li({method:"POST",fullPath:"/v1/tax/settings"})});var di=t.method,pi=t.extend({retrieve:di({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:di({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})});var Nt=t.method,hi=t.extend({create:Nt({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:Nt({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:Nt({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:Nt({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:Nt({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})});var No=t.method,mi=t.extend({retrieve:No({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:No({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:No({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})});var fi=t.method,Pi=t.extend({retrieve:fi({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:fi({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})});var vi=t.method,gi=t.extend({retrieve:vi({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:vi({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})});var jo=t.method,Ti=t.extend({retrieve:jo({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:jo({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:jo({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})});var zr=t.method,yi=t.extend({retrieve:zr({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:zr({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:zr({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:zr({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})});var Uo=t.method,_i=t.extend({createForceCapture:Uo({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:Uo({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:Uo({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})});var Si=t.method,Ei=t.extend({retrieve:Si({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:Si({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})});var $r=t.method,xi=t.extend({create:$r({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:$r({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:$r({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:$r({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})});var jt=t.method,bi=t.extend({create:jt({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:jt({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:jt({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:jt({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:jt({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})});var Oi=t.method,Ri=t.extend({retrieve:Oi({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:Oi({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})});var st=t.method,Ai=t.extend({create:st({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:st({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:st({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:st({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:st({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:st({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})});var q=t.method,Vo=t.extend({create:q({method:"POST",fullPath:"/v1/accounts"}),retrieve(r,...e){return typeof r=="string"?q({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[r,...e]):(r==null&&[].shift.apply([r,...e]),q({method:"GET",fullPath:"/v1/account"}).apply(this,[r,...e]))},update:q({method:"POST",fullPath:"/v1/accounts/{account}"}),list:q({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:q({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:q({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:q({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:q({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:q({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:q({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:q({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:q({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:q({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:q({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:q({method:"GET",fullPath:"/v1/account"}),retrieveCapability:q({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:q({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:q({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:q({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:q({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:q({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})});var Ql=t.method,wi=t.extend({create:Ql({method:"POST",fullPath:"/v1/account_links"})});var eu=t.method,Ci=t.extend({create:eu({method:"POST",fullPath:"/v1/account_sessions"})});var Kr=t.method,Ii=t.extend({create:Kr({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:Kr({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:Kr({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:Kr({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})});var nt=t.method,Mi=t.extend({retrieve:nt({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:nt({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:nt({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:nt({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:nt({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:nt({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})});var tu=t.method,ki=t.extend({retrieve:tu({method:"GET",fullPath:"/v1/balance"})});var Gi=t.method,Di=t.extend({retrieve:Gi({method:"GET",fullPath:"/v1/balance_settings"}),update:Gi({method:"POST",fullPath:"/v1/balance_settings"})});var qi=t.method,Li=t.extend({retrieve:qi({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:qi({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})});var it=t.method,Bi=t.extend({create:it({method:"POST",fullPath:"/v1/charges"}),retrieve:it({method:"GET",fullPath:"/v1/charges/{charge}"}),update:it({method:"POST",fullPath:"/v1/charges/{charge}"}),list:it({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:it({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:it({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})});var ru=t.method,Fi=t.extend({retrieve:ru({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})});var Hi=t.method,Ni=t.extend({retrieve:Hi({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:Hi({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})});var Ut=t.method,ji=t.extend({create:Ut({method:"POST",fullPath:"/v1/coupons"}),retrieve:Ut({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:Ut({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:Ut({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:Ut({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})});var Ae=t.method,Ui=t.extend({create:Ae({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:Ae({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:Ae({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:Ae({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:Ae({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:Ae({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:Ae({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:Ae({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})});var ou=t.method,Vi=t.extend({create:ou({method:"POST",fullPath:"/v1/customer_sessions"})});var O=t.method,zi=t.extend({create:O({method:"POST",fullPath:"/v1/customers"}),retrieve:O({method:"GET",fullPath:"/v1/customers/{customer}"}),update:O({method:"POST",fullPath:"/v1/customers/{customer}"}),list:O({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:O({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:O({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:O({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:O({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:O({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:O({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:O({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:O({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:O({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:O({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:O({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:O({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:O({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:O({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:O({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:O({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:O({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:O({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:O({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:O({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:O({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:O({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:O({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:O({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})});var Wr=t.method,$i=t.extend({retrieve:Wr({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:Wr({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:Wr({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:Wr({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})});var Ki=t.method,Wi=t.extend({create:Ki({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(r,e)=>{if(!e.headers||!e.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:Ki({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})});var Ji=t.method,Yi=t.extend({retrieve:Ji({method:"GET",fullPath:"/v1/events/{id}"}),list:Ji({method:"GET",fullPath:"/v1/events",methodType:"list"})});var Xi=t.method,Zi=t.extend({retrieve:Xi({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:Xi({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})});var Jr=t.method,Qi=t.extend({create:Jr({method:"POST",fullPath:"/v1/file_links"}),retrieve:Jr({method:"GET",fullPath:"/v1/file_links/{link}"}),update:Jr({method:"POST",fullPath:"/v1/file_links/{link}"}),list:Jr({method:"GET",fullPath:"/v1/file_links",methodType:"list"})});var su=(r,e,o)=>{let s=(Math.round(Math.random()*1e16)+Math.round(Math.random()*1e16)).toString();o["Content-Type"]=`multipart/form-data; boundary=${s}`;let n=new TextEncoder,i=new Uint8Array(0),a=n.encode(`\r
`);function u(h){let g=i,d=h instanceof Uint8Array?h:new Uint8Array(n.encode(h));i=new Uint8Array(g.length+d.length+2),i.set(g),i.set(d,g.length),i.set(a,i.length-2)}function l(h){return`"${h.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}let p=Rs(e);for(let h in p){if(!Object.prototype.hasOwnProperty.call(p,h))continue;let g=p[h];if(u(`--${s}`),Object.prototype.hasOwnProperty.call(g,"data")){let d=g;u(`Content-Disposition: form-data; name=${l(h)}; filename=${l(d.name||"blob")}`),u(`Content-Type: ${d.type||"application/octet-stream"}`),u(""),u(d.data)}else u(`Content-Disposition: form-data; name=${l(h)}`),u(""),u(g)}return u(`--${s}--`),i};function ea(r,e,o,s){if(e=e||{},r!=="POST")return s(null,be(e));this._stripe._platformFunctions.tryBufferData(e).then(n=>{let i=su(r,n,o);return s(null,i)}).catch(n=>s(n,null))}var zo=t.method,ta=t.extend({create:zo({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:zo({method:"GET",fullPath:"/v1/files/{file}"}),list:zo({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:ea});var Vt=t.method,ra=t.extend({create:Vt({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:Vt({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:Vt({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:Vt({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:Vt({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})});var oa=t.method,sa=t.extend({retrieve:oa({method:"GET",fullPath:"/v1/invoice_payments/{invoice_payment}"}),list:oa({method:"GET",fullPath:"/v1/invoice_payments",methodType:"list"})});var Yr=t.method,na=t.extend({retrieve:Yr({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:Yr({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:Yr({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:Yr({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})});var N=t.method,ia=t.extend({create:N({method:"POST",fullPath:"/v1/invoices"}),retrieve:N({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:N({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:N({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:N({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:N({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),attachPayment:N({method:"POST",fullPath:"/v1/invoices/{invoice}/attach_payment"}),createPreview:N({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:N({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:N({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),markUncollectible:N({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:N({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:N({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),search:N({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:N({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:N({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:N({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:N({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})});var nu=t.method,aa=t.extend({retrieve:nu({method:"GET",fullPath:"/v1/mandates/{mandate}"})});var ca=t.method,$o="connect.stripe.com",la=t.extend({basePath:"/",authorizeUrl(r,e){r=r||{},e=e||{};let o="oauth/authorize";return e.express&&(o=`express/${o}`),r.response_type||(r.response_type="code"),r.client_id||(r.client_id=this._stripe.getClientId()),r.scope||(r.scope="read_write"),`https://${$o}/${o}?${be(r)}`},token:ca({method:"POST",path:"oauth/token",host:$o}),deauthorize(r,...e){return r.client_id||(r.client_id=this._stripe.getClientId()),ca({method:"POST",path:"oauth/deauthorize",host:$o}).apply(this,[r,...e])}});var ua=t.method,da=t.extend({retrieve:ua({method:"GET",fullPath:"/v1/payment_attempt_records/{id}"}),list:ua({method:"GET",fullPath:"/v1/payment_attempt_records",methodType:"list"})});var oe=t.method,pa=t.extend({create:oe({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:oe({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:oe({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:oe({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:oe({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:oe({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:oe({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:oe({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:oe({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),listAmountDetailsLineItems:oe({method:"GET",fullPath:"/v1/payment_intents/{intent}/amount_details_line_items",methodType:"list"}),search:oe({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:oe({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})});var zt=t.method,ha=t.extend({create:zt({method:"POST",fullPath:"/v1/payment_links"}),retrieve:zt({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:zt({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:zt({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:zt({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})});var Xr=t.method,ma=t.extend({create:Xr({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:Xr({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:Xr({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:Xr({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})});var $t=t.method,fa=t.extend({create:$t({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:$t({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:$t({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:$t({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:$t({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})});var at=t.method,Pa=t.extend({create:at({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:at({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:at({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:at({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:at({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:at({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})});var we=t.method,va=t.extend({retrieve:we({method:"GET",fullPath:"/v1/payment_records/{id}"}),reportPayment:we({method:"POST",fullPath:"/v1/payment_records/report_payment"}),reportPaymentAttempt:we({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt"}),reportPaymentAttemptCanceled:we({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_canceled"}),reportPaymentAttemptFailed:we({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_failed"}),reportPaymentAttemptGuaranteed:we({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_guaranteed"}),reportPaymentAttemptInformational:we({method:"POST",fullPath:"/v1/payment_records/{id}/report_payment_attempt_informational"}),reportRefund:we({method:"POST",fullPath:"/v1/payment_records/{id}/report_refund"})});var ct=t.method,ga=t.extend({create:ct({method:"POST",fullPath:"/v1/payouts"}),retrieve:ct({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:ct({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:ct({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:ct({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:ct({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})});var Kt=t.method,Ta=t.extend({create:Kt({method:"POST",fullPath:"/v1/plans"}),retrieve:Kt({method:"GET",fullPath:"/v1/plans/{plan}"}),update:Kt({method:"POST",fullPath:"/v1/plans/{plan}"}),list:Kt({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:Kt({method:"DELETE",fullPath:"/v1/plans/{plan}"})});var Wt=t.method,ya=t.extend({create:Wt({method:"POST",fullPath:"/v1/prices"}),retrieve:Wt({method:"GET",fullPath:"/v1/prices/{price}"}),update:Wt({method:"POST",fullPath:"/v1/prices/{price}"}),list:Wt({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:Wt({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})});var de=t.method,_a=t.extend({create:de({method:"POST",fullPath:"/v1/products"}),retrieve:de({method:"GET",fullPath:"/v1/products/{id}"}),update:de({method:"POST",fullPath:"/v1/products/{id}"}),list:de({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:de({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:de({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:de({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:de({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:de({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:de({method:"GET",fullPath:"/v1/products/search",methodType:"search"})});var Zr=t.method,Sa=t.extend({create:Zr({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:Zr({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:Zr({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:Zr({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})});var pe=t.method,Ea=t.extend({create:pe({method:"POST",fullPath:"/v1/quotes"}),retrieve:pe({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:pe({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:pe({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:pe({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:pe({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:pe({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:pe({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:pe({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:pe({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})});var Jt=t.method,xa=t.extend({create:Jt({method:"POST",fullPath:"/v1/refunds"}),retrieve:Jt({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:Jt({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:Jt({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:Jt({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})});var Ko=t.method,ba=t.extend({retrieve:Ko({method:"GET",fullPath:"/v1/reviews/{review}"}),list:Ko({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:Ko({method:"POST",fullPath:"/v1/reviews/{review}/approve"})});var iu=t.method,Oa=t.extend({list:iu({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})});var je=t.method,Ra=t.extend({create:je({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:je({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:je({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:je({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:je({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:je({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:je({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})});var Qr=t.method,Aa=t.extend({create:Qr({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:Qr({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:Qr({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:Qr({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})});var Yt=t.method,wa=t.extend({create:Yt({method:"POST",fullPath:"/v1/sources"}),retrieve:Yt({method:"GET",fullPath:"/v1/sources/{source}"}),update:Yt({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:Yt({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:Yt({method:"POST",fullPath:"/v1/sources/{source}/verify"})});var Xt=t.method,Ca=t.extend({create:Xt({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:Xt({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:Xt({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:Xt({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:Xt({method:"DELETE",fullPath:"/v1/subscription_items/{item}"})});var lt=t.method,Ia=t.extend({create:lt({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:lt({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:lt({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:lt({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:lt({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:lt({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})});var ge=t.method,Ma=t.extend({create:ge({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:ge({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:ge({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:ge({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:ge({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:ge({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),migrate:ge({method:"POST",fullPath:"/v1/subscriptions/{subscription}/migrate"}),resume:ge({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:ge({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})});var ka=t.method,Ga=t.extend({retrieve:ka({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:ka({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})});var eo=t.method,Da=t.extend({create:eo({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:eo({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:eo({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:eo({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})});var to=t.method,qa=t.extend({create:to({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:to({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:to({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:to({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})});var La=t.method,Ba=t.extend({create:La({method:"POST",fullPath:"/v1/tokens"}),retrieve:La({method:"GET",fullPath:"/v1/tokens/{token}"})});var Zt=t.method,Fa=t.extend({create:Zt({method:"POST",fullPath:"/v1/topups"}),retrieve:Zt({method:"GET",fullPath:"/v1/topups/{topup}"}),update:Zt({method:"POST",fullPath:"/v1/topups/{topup}"}),list:Zt({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:Zt({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})});var Ce=t.method,Ha=t.extend({create:Ce({method:"POST",fullPath:"/v1/transfers"}),retrieve:Ce({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:Ce({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:Ce({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:Ce({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:Ce({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:Ce({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:Ce({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})});var Qt=t.method,Na=t.extend({create:Qt({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:Qt({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:Qt({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:Qt({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:Qt({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})});var au=w("apps",{Secrets:si}),cu=w("billing",{Alerts:$s,CreditBalanceSummary:sn,CreditBalanceTransactions:an,CreditGrants:cn,MeterEventAdjustments:Sn,MeterEvents:On,Meters:An}),lu=w("billingPortal",{Configurations:en,Sessions:ni}),uu=w("checkout",{Sessions:ii}),du=w("climate",{Orders:Cn,Products:Nn,Suppliers:pi}),pu=w("entitlements",{ActiveEntitlements:zs,Features:vn}),hu=w("financialConnections",{Accounts:Fs,Sessions:ci,Transactions:gi}),mu=w("forwarding",{Requests:ti}),fu=w("identity",{VerificationReports:Ri,VerificationSessions:Ai}),Pu=w("issuing",{Authorizations:Ws,Cardholders:Xs,Cards:Zs,Disputes:pn,PersonalizationDesigns:qn,PhysicalBundles:Fn,Tokens:mi,Transactions:Ti}),vu=w("radar",{EarlyFraudWarnings:mn,PaymentEvaluations:Dn,ValueListItems:xi,ValueLists:bi}),gu=w("reporting",{ReportRuns:Zn,ReportTypes:ei}),Tu=w("sigma",{ScheduledQueryRuns:oi}),yu=w("tax",{Associations:Ks,Calculations:Ys,Registrations:Xn,Settings:ui,Transactions:yi}),_u=w("terminal",{Configurations:tn,ConnectionTokens:on,Locations:_n,OnboardingLinks:wn,Readers:jn}),Su=w("testHelpers",{ConfirmationTokens:rn,Customers:un,Refunds:Yn,TestClocks:hi,Issuing:w("issuing",{Authorizations:Js,Cards:Qs,PersonalizationDesigns:Ln,Transactions:_i}),Terminal:w("terminal",{Readers:Un}),Treasury:w("treasury",{InboundTransfers:Tn,OutboundPayments:In,OutboundTransfers:kn,ReceivedCredits:Vn,ReceivedDebits:Kn})}),Eu=w("treasury",{CreditReversals:ln,DebitReversals:dn,FinancialAccounts:gn,InboundTransfers:yn,OutboundPayments:Mn,OutboundTransfers:Gn,ReceivedCredits:$n,ReceivedDebits:Jn,TransactionEntries:Pi,Transactions:Ei}),xu=w("v2",{Billing:w("billing",{MeterEventAdjustments:En,MeterEventSession:xn,MeterEventStream:bn,MeterEvents:Rn}),Core:w("core",{AccountLinks:qs,AccountTokens:Bs,Accounts:Us,EventDestinations:fn,Events:Pn})});var ja="api.stripe.com",Ua="443",Va="/v1/",za=Io,$a=8e4,Ka=5,Wa=.5,bu=["name","version","url","partner_id"],Ja=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],Ou=r=>new Oe(r,t.MAX_BUFFERED_REQUEST_METRICS);function Ya(r,e=Ou){o.PACKAGE_VERSION="20.3.1",o.API_VERSION=Io,o.USER_AGENT=Object.assign({bindings_version:o.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},As()),o.StripeResource=t,o.StripeContext=ue,o.resources=ut,o.HttpClient=U,o.HttpClientResponse=Je,o.CryptoProvider=Ye,o.webhooks=Ds(r);function o(s,n={}){if(!(this instanceof o))return new o(s,n);let i=this._getPropsFromConfig(n);this._platformFunctions=r,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=o.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);let a=i.httpAgent||null;this._api={host:i.host||ja,port:i.port||Ua,protocol:i.protocol||"https",basePath:Va,version:i.apiVersion||za,timeout:Tr("timeout",i.timeout,$a),maxNetworkRetries:Tr("maxNetworkRetries",i.maxNetworkRetries,2),agent:a,httpClient:i.httpClient||(a?this._platformFunctions.createNodeHttpClient(a):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:i.stripeAccount||null,stripeContext:i.stripeContext||null};let u=i.typescript||!1;u!==o.USER_AGENT.typescript&&(o.USER_AGENT.typescript=u),i.appInfo&&this._setAppInfo(i.appInfo),this._prepResources(),this._setAuthenticator(s,i.authenticator),this.errors=Ir,this.webhooks=o.webhooks,this._prevRequestMetrics=[],this._enableTelemetry=i.telemetry!==!1,this._requestSender=e(this),this.StripeResource=o.StripeResource}return o.errors=Ir,o.createNodeHttpClient=r.createNodeHttpClient,o.createFetchHttpClient=r.createFetchHttpClient,o.createNodeCryptoProvider=r.createNodeCryptoProvider,o.createSubtleCryptoProvider=r.createSubtleCryptoProvider,o.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(s,n,i,a){return this._requestSender._rawRequest(s,n,i,a)},_setAuthenticator(s,n){if(s&&n)throw new Error("Can't specify both apiKey and authenticator");if(!s&&!n)throw new Error("Neither apiKey nor config.authenticator provided");this._authenticator=s?fr(s):n},_setAppInfo(s){if(s&&typeof s!="object")throw new Error("AppInfo must be an object.");if(s&&!s.name)throw new Error("AppInfo.name is required");s=s||{},this._appInfo=bu.reduce((n,i)=>(typeof s[i]=="string"&&(n=n||{},n[i]=s[i]),n),{})},_setApiField(s,n){this._api[s]=n},getApiField(s){return this._api[s]},setClientId(s){this._clientId=s},getClientId(){return this._clientId},getConstant:s=>{switch(s){case"DEFAULT_HOST":return ja;case"DEFAULT_PORT":return Ua;case"DEFAULT_BASE_PATH":return Va;case"DEFAULT_API_VERSION":return za;case"DEFAULT_TIMEOUT":return $a;case"MAX_NETWORK_RETRY_DELAY_SEC":return Ka;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return Wa}return o[s]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(s,n,i){let a=Tr(s,n,i);this._setApiField(s,a)},getMaxNetworkRetryDelay(){return Ka},getInitialNetworkRetryDelay(){return Wa},getClientUserAgent(s){return this.getClientUserAgentSeeded(o.USER_AGENT,s)},getClientUserAgentSeeded(s,n){this._platformFunctions.getUname().then(i=>{var a;let u={};for(let p in s)!Object.prototype.hasOwnProperty.call(s,p)||(u[p]=encodeURIComponent((a=s[p])!==null&&a!==void 0?a:"null"));u.uname=encodeURIComponent(i||"UNKNOWN");let l=this.getApiField("httpClient");l&&(u.httplib=encodeURIComponent(l.getClientName())),this._appInfo&&(u.application=this._appInfo),n(JSON.stringify(u))})},getAppInfoAsString(){if(!this._appInfo)return"";let s=this._appInfo.name;return this._appInfo.version&&(s+=`/${this._appInfo.version}`),this._appInfo.url&&(s+=` (${this._appInfo.url})`),s},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(let s in ut)!Object.prototype.hasOwnProperty.call(ut,s)||(this[Os(s)]=new ut[s](this))},_getPropsFromConfig(s){if(!s)return{};let n=typeof s=="string";if(!(s===Object(s)&&!Array.isArray(s))&&!n)throw new Error("Config must either be an object or a string");if(n)return{apiVersion:s};if(Object.keys(s).filter(u=>!Ja.includes(u)).length>0)throw new Error(`Config object may only contain the following: ${Ja.join(", ")}`);return s},parseEventNotification(s,n,i,a,u,l){let p=this.webhooks.constructEvent(s,n,i,a,u,l);return p.context&&(p.context=ue.parse(p.context)),p.fetchEvent=()=>this._requestSender._rawRequest("GET",`/v2/core/events/${p.id}`,void 0,{stripeContext:p.context},["fetch_event"]),p.fetchRelatedObject=()=>p.related_object?this._requestSender._rawRequest("GET",p.related_object.url,void 0,{stripeContext:p.context},["fetch_related_object"]):Promise.resolve(null),p}},o}var Ru=Ya(new br),Xa=Ru;var dc=K(lc()),Ju=new Xa(dc.STRIPE_API_KEY,{httpClient:(0,uc.createHttpClient)(),apiVersion:"2026-01-28.clover"}),Ue=Ju;var rr=["customers","subscriptions","invoices","charges","products","prices"];function Yu(r){return P(this,null,function*(){switch(r){case"customers":return Ue.customers.list({limit:100});case"subscriptions":return Ue.subscriptions.list({limit:100});case"invoices":return Ue.invoices.list({limit:100});case"charges":return Ue.charges.list({limit:100});case"products":return Ue.products.list({limit:100});case"prices":return Ue.prices.list({limit:100})}})}function ao(){let[r,e]=(0,Ie.useState)(!1),[o,s]=(0,Ie.useState)({completed:0,total:rr.length,failed:[]}),[n,i]=(0,Ie.useState)(null),a=(0,Ie.useRef)(!1);return{syncAll:(0,Ie.useCallback)(()=>P(this,null,function*(){if(a.current)return!1;a.current=!0,e(!0),i(null),s({completed:0,total:rr.length,failed:[]});let l=[],p="";for(let g of rr){s(d=>_e(V({},d),{current:g}));try{let d=yield Yu(g);d.data.length>0&&(yield ee("/sync-data",{method:"POST",body:{objectType:g,records:d.data}}))}catch(d){let m=d instanceof Error?d.message:String(d);console.error(`Sync failed for ${g}:`,m),p=m,l.push(g)}s(d=>_e(V({},d),{completed:d.completed+1,failed:[...l]}))}a.current=!1,e(!1);let h=rr.length-l.length;return l.length>0&&h===0?(i(`Sync failed: ${p}`),!1):(l.length>0&&i(`Synced ${h}/${rr.length} types. Failed: ${l.join(", ")}`),h>0)}),[]),syncing:r,progress:o,error:n}}var C=x("react/jsx-runtime"),Xu=({userContext:r,environment:e})=>{var Yo;(r==null?void 0:r.id)&&((Yo=r==null?void 0:r.account)==null?void 0:Yo.id)&&pr(r.id,r.account.id);let[o,s]=(0,I.useState)("loading"),[n,i]=(0,I.useState)([]),[a,u]=(0,I.useState)(null),[l,p]=(0,I.useState)([]),[h,g]=(0,I.useState)(!1),[d,m]=(0,I.useState)(),[v,y]=(0,I.useState)(null),[T,S]=(0,I.useState)([]),[E,_]=(0,I.useState)(!1),[b,L]=(0,I.useState)(!1),{syncAll:H,syncing:G,progress:se,error:ce}=ao(),Y=(0,I.useRef)(!1),or=(0,I.useCallback)(()=>P(void 0,null,function*(){var D;if(!Y.current){Y.current=!0;try{let $=((D=(yield ee("/insights-welcome")).data)==null?void 0:D.insights)||[];if(S($),$.length===0){let Ve=yield H();L(!0),Ve&&(yield sr())}}catch(fe){let $=yield H();L(!0),$&&(yield sr())}}}),[H]),Wo=(0,I.useCallback)(()=>P(void 0,null,function*(){var D;try{let $=((D=(yield ee("/chat-conversations")).data)==null?void 0:D.conversations)||[];i($),$.length===0?s("empty"):(yield Jo($[0].id),s("chat"))}catch(fe){s("empty")}}),[]);(0,I.useEffect)(()=>{Wo(),or()},[Wo,or]);let sr=()=>P(void 0,null,function*(){var D;try{let $=((D=(yield ee("/insights-welcome")).data)==null?void 0:D.insights)||[];return S($),$.length>0}catch(fe){return!1}}),Jo=D=>P(void 0,null,function*(){var fe;try{let Ve=(((fe=(yield ee(`/chat-conversation-detail?conversationId=${D}`)).data)==null?void 0:fe.messages)||[]).map(ye=>{var pt,ht;return{id:ye.id,role:ye.role,content:ye.content,freshness:(pt=ye.metadata)==null?void 0:pt.freshness,insights:(ht=ye.metadata)==null?void 0:ht.insights}});p(Ve),u(D)}catch($){y("Failed to load conversation")}}),fc=(0,I.useCallback)(()=>P(void 0,null,function*(){Y.current=!1,L(!1);let D=yield H();L(!0),D&&(yield sr())}),[H]),nr=(0,I.useCallback)(D=>P(void 0,null,function*(){var Ve,ye,pt,ht,Xo;y(null);let $={id:`temp-${Date.now()}`,role:"user",content:D};p(le=>[...le,$]),s("chat"),g(!0),m(Date.now());try{let le=yield ee("/chat-message",{method:"POST",body:{conversationId:a,content:D}}),mt={id:((Ve=le.data)==null?void 0:Ve.message.id)||`msg-${Date.now()}`,role:"assistant",content:((ye=le.data)==null?void 0:ye.message.content)||"Sorry, I could not generate a response.",freshness:le.meta,insights:(pt=le.data)==null?void 0:pt.insights};((ht=le.data)==null?void 0:ht.conversationId)&&!a&&u(le.data.conversationId),p(ir=>[...ir,mt])}catch(le){let mt=le,ir=(Xo=mt==null?void 0:mt.error)==null?void 0:Xo.code;y(ir==="auth_refresh_failed"?"Your session has expired. Please re-authorize Javelin.":ir==="llm_unavailable"?"AI service is temporarily unavailable. Please try again in a moment.":"Something went wrong. Please try again.")}finally{g(!1),m(void 0)}}),[a]),Pc=(0,I.useCallback)(D=>{nr(D)},[nr]),vc=(0,I.useCallback)(()=>{u(null),p([]),s("empty"),_(!1),sr()},[]),gc=(0,I.useCallback)(D=>P(void 0,null,function*(){_(!1),yield Jo(D),s("chat")}),[]);return o==="loading"?(0,C.jsx)(M.ContextView,{title:"Javelin",children:(0,C.jsxs)(M.Box,{css:{padding:"medium",stack:"y",gap:"medium",alignX:"center"},children:[(0,C.jsx)(M.Spinner,{}),(0,C.jsx)(M.Inline,{css:{color:"secondary"},children:"Loading Javelin..."})]})}):(0,C.jsx)(M.ContextView,{title:"Javelin",actions:(0,C.jsxs)(M.Box,{css:{stack:"x",gap:"small"},children:[n.length>0&&(0,C.jsx)(M.Button,{type:"secondary",onPress:()=>_(D=>!D),children:"History"}),(0,C.jsx)(M.Button,{type:"secondary",onPress:vc,children:"New chat"})]}),children:(0,C.jsxs)(M.Box,{css:{stack:"y",height:"fill"},children:[v&&(0,C.jsx)(M.Banner,{type:"critical",title:"Error",description:v,onDismiss:()=>y(null)}),G&&(0,C.jsxs)(M.Box,{css:{padding:"small",backgroundColor:"container",stack:"x",gap:"small",alignY:"center"},children:[(0,C.jsx)(M.Spinner,{size:"small"}),(0,C.jsxs)(M.Inline,{css:{color:"secondary"},children:["Syncing data... (",se.completed,"/",se.total,")"]})]}),ce&&!G&&(0,C.jsx)(M.Banner,{type:"caution",title:"Sync issue",description:ce,actions:(0,C.jsx)(M.Button,{onPress:fc,children:"Retry sync"})}),b&&!G&&!ce&&(0,C.jsx)(M.Banner,{type:"default",title:"Data synced",description:"Your Stripe data is up to date.",onDismiss:()=>L(!1)}),E&&(0,C.jsx)(Ts,{conversations:n,activeConversationId:a,onSelectConversation:gc,onClose:()=>_(!1)}),!E&&(0,C.jsx)(M.Box,{css:{stack:"y",overflow:"auto"},children:o==="empty"&&l.length===0?(0,C.jsx)(gs,{onSelectPrompt:nr,insights:T}):(0,C.jsx)(Ps,{messages:l,isThinking:h,thinkingStartedAt:d,onClarificationSelect:Pc})}),!E&&(0,C.jsx)(vs,{onSend:nr,disabled:h})]})})},pc=Xu;var dt=K(re()),co=x("react/jsx-runtime"),Zu=({userContext:r})=>(0,co.jsx)(dt.SettingsView,{children:(0,co.jsx)(dt.Box,{css:{padding:"medium"},children:(0,co.jsx)(dt.Inline,{children:"Javelin settings coming soon."})})}),hc=Zu;var k=K(re()),me=x("react");var A=x("react/jsx-runtime"),lo={customers:"Customers",subscriptions:"Subscriptions",invoices:"Invoices",charges:"Charges",products:"Products",prices:"Prices"},Qu=({userContext:r,oauthContext:e})=>{var m;(r==null?void 0:r.id)&&((m=r==null?void 0:r.account)==null?void 0:m.id)&&pr(r.id,r.account.id);let[o,s]=(0,me.useState)("auth"),[n,i]=(0,me.useState)(""),{syncAll:a,syncing:u,progress:l,error:p}=ao(),h=(0,me.useRef)(!1),g=(0,me.useCallback)(()=>P(void 0,null,function*(){if(h.current)return;h.current=!0;let v=!1;if((e==null?void 0:e.code)&&!(e!=null&&e.error))try{yield ee("/auth-callback",{method:"POST",body:{code:e.code,state:e.state||"",verifier:e.verifier||""}}),v=!0}catch(T){console.warn("auth-callback failed, proceeding with SDK-based sync")}if(s("syncing"),!(yield a())){s("error"),i("Failed to sync your Stripe data. Please try again."),h.current=!1;return}if(v)try{yield ee("/sync-trigger",{method:"POST",body:{}})}catch(T){}s("success")}),[e,a]);(0,me.useEffect)(()=>{g()},[g]);let d=(0,me.useCallback)(()=>{h.current=!1,i(""),s("auth"),g()},[g]);return(0,A.jsx)(k.ContextView,{title:"Welcome to Javelin",children:(0,A.jsxs)(k.Box,{css:{padding:"medium",stack:"y",gap:"medium",alignX:"center"},children:[(o==="auth"||o==="syncing"&&u)&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(k.Spinner,{}),(0,A.jsx)(k.Inline,{css:{font:"heading"},children:o==="auth"?"Connecting to Stripe...":"Syncing your data..."}),o==="syncing"&&l.current&&(0,A.jsxs)(k.Box,{css:{stack:"y",gap:"small",width:"fill"},children:[(0,A.jsxs)(k.Inline,{css:{color:"secondary"},children:["Syncing ",lo[l.current]||l.current," (",l.completed+1,"/",l.total,")"]}),Object.keys(lo).map(v=>{let T=Object.keys(lo).indexOf(v)<l.completed,S=v===l.current,E=l.failed.includes(v);return(0,A.jsxs)(k.Box,{css:{stack:"x",gap:"small",alignY:"center"},children:[T&&!E&&(0,A.jsx)(k.Icon,{name:"check"}),T&&E&&(0,A.jsx)(k.Icon,{name:"warning"}),S&&(0,A.jsx)(k.Spinner,{size:"small"}),(0,A.jsx)(k.Inline,{css:{color:T||S?"primary":"secondary"},children:lo[v]})]},v)})]})]}),o==="success"&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(k.Banner,{type:"default",title:"Setup complete!",description:"Javelin is ready. Your data has been synced \u2014 you can start asking questions right away."}),p&&(0,A.jsx)(k.Banner,{type:"caution",title:"Partial sync",description:p}),(0,A.jsx)(k.Inline,{css:{color:"secondary"},children:"Open the Javelin drawer from any page in your Stripe Dashboard to get started."})]}),o==="error"&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(k.Banner,{type:"critical",title:"Setup failed",description:n}),(0,A.jsx)(k.Button,{type:"primary",onPress:d,children:"Retry"})]})]})})},mc=Qu;Se(Te,K(po()));var ed="2026-02-13 10:08:36.502099 -0300 -03 m=+1.825940176";var td={allowed_redirect_uris:["https://dashboard.stripe.com/test/apps-oauth/com.javelin.analytics","https://dashboard.stripe.com/apps-oauth/com.javelin.analytics"],connect_permissions:null,distribution_type:"private",icon:"./icon.png",id:"com.javelin.analytics",name:"Javelin",permissions:[{permission:"customer_read",purpose:"Read customer data to calculate business metrics and answer questions about your customer base"},{permission:"invoice_read",purpose:"Read invoice data to calculate revenue, MRR, and other billing metrics"},{permission:"charge_read",purpose:"Read charge data to analyze payment volume and revenue trends"},{permission:"subscription_read",purpose:"Read subscription data to calculate MRR, churn rate, and subscription analytics"},{permission:"product_read",purpose:"Read product data to break down revenue and metrics by product"},{permission:"plan_read",purpose:"Read price and plan data to analyze plan-level revenue and subscriber counts"},{permission:"secret_write",purpose:"Store and manage OAuth tokens securely via the Secret Store API"}],sandbox_install_compatible:!0,stripe_api_access_type:"oauth",ui_extension:{content_security_policy:{"connect-src":["https://tecvycpmzcxxoqmtttjy.supabase.co/functions/v1/","https://openrouter.ai/api/","https://api.openai.com/v1/"],"image-src":null,purpose:"Connect to Supabase backend for data processing and LLM provider for AI-powered business intelligence"},views:[{component:"ChatView",viewport:"stripe.dashboard.drawer.default"},{component:"SettingsView",viewport:"settings"},{component:"OnboardingView",viewport:"onboarding"}]},version:"0.0.7"};return Oc(Te);})();
//# sourceMappingURL=ext.min.js.map
